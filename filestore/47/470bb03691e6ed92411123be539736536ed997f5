)]}'
{"version": 3, "sources": ["/web/static/tests/ignore_missing_deps_start.js", "/base/static/tests/test_ir_model_fields_translation.js", "/web/static/tests/legacy/helpers/test_utils_file.js", "/mail/static/tests/tours/discuss_channel_as_guest_tour.js", "/mail/static/tests/tours/discuss_public_tour.js", "/mail/static/tests/tours/dynamic_placeholder_tour.js", "/mail/static/tests/tours/mail_chatter_activity_test_tour.js", "/mail/static/tests/tours/mail_full_composer_test_tour.js", "/mail/static/tests/tours/user_modify_own_profile_tour.js", "/portal/static/tests/tours/portal.js", "/account/static/tests/tours/tax_group_tests.js", "/sale/static/tests/tours/sale_signature.js", "/website/static/tests/tour_utils/focus_blur_snippets_options.js", "/website/static/tests/tours/automatic_editor.js", "/website/static/tests/tours/carousel_content_removal.js", "/website/static/tests/tours/client_action_iframe_fallback.js", "/website/static/tests/tours/client_action_redirect.js", "/website/static/tests/tours/conditional_visibility.js", "/website/static/tests/tours/conditional_visibility_frontend.js", "/website/static/tests/tours/configurator_translation.js", "/website/static/tests/tours/default_shape_gets_palette_colors.js", "/website/static/tests/tours/edit_link_popover.js", "/website/static/tests/tours/edit_megamenu.js", "/website/static/tests/tours/edit_menus.js", "/website/static/tests/tours/edit_translated_page.js", "/website/static/tests/tours/focus_blur_snippets.js", "/website/static/tests/tours/gray_color_palette.js", "/website/static/tests/tours/grid_layout.js", "/website/static/tests/tours/hide_chat_window_on_preview.js", "/website/static/tests/tours/homepage_edit_discard.js", "/website/static/tests/tours/html_editor.js", "/website/static/tests/tours/link_tools.js", "/website/static/tests/tours/media_dialog.js", "/website/static/tests/tours/multi_edition.js", "/website/static/tests/tours/page_manager.js", "/website/static/tests/tours/parallax.js", "/website/static/tests/tours/public_user_editor.js", "/website/static/tests/tours/public_user_editor_dep_widget.js", "/website/static/tests/tours/reset_password.js", "/website/static/tests/tours/restricted_editor.js", "/website/static/tests/tours/rte.js", "/website/static/tests/tours/snippet_background_edition.js", "/website/static/tests/tours/snippet_cache_across_websites.js", "/website/static/tests/tours/snippet_countdown.js", "/website/static/tests/tours/snippet_editor_panel_options.js", "/website/static/tests/tours/snippet_empty_parent_autoremove.js", "/website/static/tests/tours/snippet_image_gallery.js", "/website/static/tests/tours/snippet_image_quality.js", "/website/static/tests/tours/snippet_images_wall.js", "/website/static/tests/tours/snippet_popup_add_remove.js", "/website/static/tests/tours/snippet_popup_and_animations.js", "/website/static/tests/tours/snippet_popup_and_scrollbar.js", "/website/static/tests/tours/snippet_popup_display_on_click.js", "/website/static/tests/tours/snippet_social_media.js", "/website/static/tests/tours/snippet_table_of_content.js", "/website/static/tests/tours/snippet_translation.js", "/website/static/tests/tours/snippet_version.js", "/website/static/tests/tours/snippets_all_drag_and_drop.js", "/website/static/tests/tours/specific_website_editor.js", "/website/static/tests/tours/start_cloned_snippet.js", "/website/static/tests/tours/text_animations.js", "/website/static/tests/tours/translate_menu_name.js", "/website/static/tests/tours/unsplash_beacon.js", "/website/static/tests/tours/website_backend_menus_redirect.js", "/website/static/tests/tours/website_click_tests.js", "/website/static/tests/tours/website_form_editor.js", "/website/static/tests/tours/website_form_editor_frontend.js", "/website/static/tests/tours/website_navbar_menu.js", "/website/static/tests/tours/website_page_options.js", "/website/static/tests/tours/website_snippets_menu_tabs.js", "/website/static/tests/tours/website_style_edition.js", "/website/static/tests/tours/website_text_edition.js", "/website/static/src/client_actions/website_preview/website_preview_test_mode.js", "/stock/static/tests/tours/stock_report_tests.js", "/mail_enterprise/static/tests/tours/discuss_channel_expand_test_tour.js", "/account_accountant/static/tests/tours/tax_group_tests.js", "/account_accountant/static/tests/tours/test_tour_bank_rec_rainbowman_reset.js", "/account_accountant/static/tests/tours/test_tour_bank_rec_statements.js", "/account_accountant/static/tests/tours/test_tour_bank_rec_ui.js", "/account_accountant/static/tests/tours/test_tour_bank_rec_widget.js", "/point_of_sale/static/tests/tours/BarcodeScanning.tour.js", "/point_of_sale/static/tests/tours/Chrome.tour.js", "/point_of_sale/static/tests/tours/ChromeWithoutCashMovePermission.tour.js", "/point_of_sale/static/tests/tours/FixedPriceNegativeQty.tour.js", "/point_of_sale/static/tests/tours/PaymentScreen.tour.js", "/point_of_sale/static/tests/tours/ProductConfigurator.tour.js", "/point_of_sale/static/tests/tours/ProductScreen.tour.js", "/point_of_sale/static/tests/tours/ReceiptScreen.tour.js", "/point_of_sale/static/tests/tours/TicketScreen.tour.js", "/point_of_sale/static/tests/tours/acceptance_tour.js", "/point_of_sale/static/tests/tours/helpers/ChromeTourMethods.js", "/point_of_sale/static/tests/tours/helpers/ErrorPopupTourMethods.js", "/point_of_sale/static/tests/tours/helpers/NumberPopupTourMethods.js", "/point_of_sale/static/tests/tours/helpers/PartnerListScreenTourMethods.js", "/point_of_sale/static/tests/tours/helpers/PaymentScreenTourMethods.js", "/point_of_sale/static/tests/tours/helpers/ProductConfiguratorTourMethods.js", "/point_of_sale/static/tests/tours/helpers/ProductScreenTourMethods.js", "/point_of_sale/static/tests/tours/helpers/ReceiptScreenTourMethods.js", "/point_of_sale/static/tests/tours/helpers/SelectionPopupTourMethods.js", "/point_of_sale/static/tests/tours/helpers/TextAreaPopupTourMethods.js", "/point_of_sale/static/tests/tours/helpers/TextInputPopupTourMethods.js", "/point_of_sale/static/tests/tours/helpers/TicketScreenTourMethods.js", "/point_of_sale/static/tests/tours/helpers/utils.js", "/point_of_sale/static/tests/tours/pricelist_tour.js", "/project/static/tests/tours/personal_stage_tour.js", "/project/static/tests/tours/project_burndown_chart_tour.js", "/project/static/tests/tours/project_sharing_tour.js", "/project/static/tests/tours/project_tour.js", "/project/static/tests/tours/project_update_tour_tests.js", "/project/static/tests/views/project_task_calendar/project_task_calendar_view_tests.js", "/project/static/tests/views/project_task_list/project_task_list_view_tests.js", "/website_sale/static/tests/tours/website_free_delivery.js", "/website_sale/static/tests/tours/website_sale_add_to_cart_snippet_tour.js", "/website_sale/static/tests/tours/website_sale_buy.js", "/website_sale/static/tests/tours/website_sale_cart_popover.js", "/website_sale/static/tests/tours/website_sale_category_page_and_products_snippet.js", "/website_sale/static/tests/tours/website_sale_complete_flow.js", "/website_sale/static/tests/tours/website_sale_complete_flow_backend.js", "/website_sale/static/tests/tours/website_sale_fiscal_position_tour.js", "/website_sale/static/tests/tours/website_sale_google_analytics.js", "/website_sale/static/tests/tours/website_sale_remove_product_image.js", "/website_sale/static/tests/tours/website_sale_reorder_from_portal.js", "/website_sale/static/tests/tours/website_sale_restricted_editor_ui.js", "/website_sale/static/tests/tours/website_sale_shop_archived_variant_multi.js", "/website_sale/static/tests/tours/website_sale_shop_cart_recovery.js", "/website_sale/static/tests/tours/website_sale_shop_compare_list_price_pricelist.js", "/website_sale/static/tests/tours/website_sale_shop_custom_attribute_value.js", "/website_sale/static/tests/tours/website_sale_shop_customize.js", "/website_sale/static/tests/tours/website_sale_shop_deleted_archived_variants.js", "/website_sale/static/tests/tours/website_sale_shop_dynamic_variants.js", "/website_sale/static/tests/tours/website_sale_shop_editor_tour.js", "/website_sale/static/tests/tours/website_sale_shop_list_view_b2c.js", "/website_sale/static/tests/tours/website_sale_shop_mail.js", "/website_sale/static/tests/tours/website_sale_shop_no_variant_attribute.js", "/website_sale/static/tests/tours/website_sale_shop_pricelist_tour.js", "/website_sale/static/tests/tours/website_sale_shop_zoom.js", "/website_sale/static/tests/tours/website_sale_snippet_products.js", "/project_enterprise/static/tests/tours/task_gantt_tour_test.js", "/hr/static/tests/tours/hr_employee_flow.js", "/hr/static/tests/tours/user_modify_own_profile_tour.js", "/timesheet_grid/static/tests/tours/timesheet_record_time.js", "/hr_expense/static/tests/tours/expense_upload_tours.js", "/web_studio/static/tests/tours/tour_helpers.js", "/web_studio/static/tests/tours/web_studio_main_tours.js", "/web_studio/static/tests/tours/web_studio_test_ui_unit_report_tours.js", "/web_studio/static/tests/tours/web_studio_test_ui_unit_tours.js", "/knowledge/static/tests/tours/commands/knowledge_article_command_tour.js", "/knowledge/static/tests/tours/commands/knowledge_calendar_command_tour.js", "/knowledge/static/tests/tours/commands/knowledge_file_command_tour.js", "/knowledge/static/tests/tours/commands/knowledge_index_command_tour.js", "/knowledge/static/tests/tours/commands/knowledge_kanban_command_tour.js", "/knowledge/static/tests/tours/commands/knowledge_list_command_tour.js", "/knowledge/static/tests/tours/commands/knowledge_outline_command_tour.js", "/knowledge/static/tests/tours/commands/knowledge_search_favorites_tour.js", "/knowledge/static/tests/tours/commands/knowledge_table_of_content_command_tour.js", "/knowledge/static/tests/tours/commands/knowledge_template_command_tour.js", "/knowledge/static/tests/tours/knowledge_cover_picker.js", "/knowledge/static/tests/tours/knowledge_cover_random_unplash.js", "/knowledge/static/tests/tours/knowledge_embedded_views_tour.js", "/knowledge/static/tests/tours/knowledge_load_more_tour.js", "/knowledge/static/tests/tours/knowledge_main_flow_tour.js", "/knowledge/static/tests/tours/knowledge_main_flow_tour_portal.js", "/knowledge/static/tests/tours/knowledge_pick_emoji_tour.js", "/knowledge/static/tests/tours/knowledge_properties_tour.js", "/knowledge/static/tests/tours/knowledge_readonly_favorite_tour.js", "/knowledge/static/tests/tours/knowledge_readonly_item_kanban_tour.js", "/knowledge/static/tests/tours/knowledge_readonly_item_list_tour.js", "/knowledge/static/tests/tours/knowledge_sidebar_readonly_tour.js", "/knowledge/static/tests/tours/knowledge_sidebar_tour.js", "/knowledge/static/tests/tours/knowledge_template_tour.js", "/knowledge/static/tests/tours/knowledge_tour_utils.js", "/sign/static/tests/tours/sign_request_shared_tour.js", "/sign/static/tests/tours/sign_template_creation_tour.js", "/sign/static/tests/tours/sign_widgets_tour.js", "/sign/static/tests/tours/test_report_modal_tour.js", "/sign/static/tests/tours/test_sign_flow_tour.js", "/sign/static/tests/tours/translate_sign_instructions_tour.js", "/contacts/static/tests/tours/debug_menu_set_defaults.js", "/calendar/static/tests/tours/calendar_tour.js", "/account_reports/static/tests/tours/account_reports.js", "/account_reports/static/tests/tours/account_reports_search.js", "/account_reports/static/tests/tours/account_reports_sections.js", "/account_reports/static/tests/tours/account_reports_widgets.js", "/survey/static/tests/tours/certification_failure.js", "/survey/static/tests/tours/certification_success.js", "/survey/static/tests/tours/survey.js", "/survey/static/tests/tours/survey_chained_conditional_questions.js", "/survey/static/tests/tours/survey_form.js", "/survey/static/tests/tours/survey_prefill.js", "/survey/static/tests/tours/survey_session_manage_test.js", "/survey/static/tests/tours/survey_tour_session_create.js", "/survey/static/tests/tours/survey_tour_session_manage.js", "/survey/static/tests/tours/survey_tour_session_start.js", "/survey/static/tests/tours/survey_tour_session_tools.js", "/pos_restaurant/static/tests/tours/ControlButtons.tour.js", "/pos_restaurant/static/tests/tours/FloorScreen.tour.js", "/pos_restaurant/static/tests/tours/Refund.tour.js", "/pos_restaurant/static/tests/tours/SplitBillScreen.tour.js", "/pos_restaurant/static/tests/tours/TicketScreen.tour.js", "/pos_restaurant/static/tests/tours/TipScreen.tour.js", "/pos_restaurant/static/tests/tours/helpers/BillScreenTourMethods.js", "/pos_restaurant/static/tests/tours/helpers/ChromeTourMethods.js", "/pos_restaurant/static/tests/tours/helpers/FloorScreenTourMethods.js", "/pos_restaurant/static/tests/tours/helpers/ProductScreenTourMethods.js", "/pos_restaurant/static/tests/tours/helpers/SplitBillScreenTourMethods.js", "/pos_restaurant/static/tests/tours/helpers/TipScreenTourMethods.js", "/pos_restaurant/static/tests/tours/pos_restaurant.js", "/pos_sale/static/tests/helpers/ProductScreenTourMethods.js", "/pos_sale/static/tests/tours/PosSaleTour.js", "/pos_preparation_display/static/tests/tours/preparation_display_tour.js", "/pos_restaurant_preparation_display/static/tests/tours/preparation_display_tour.js", "/auth_totp/static/tests/totp_flow.js", "/auth_totp_mail/static/tests/totp_flow.js", "/auth_totp_portal/static/tests/totp_portal.js", "/sale_project/static/tests/tours/project_tour.js", "/documents_spreadsheet/static/tests/utils/tour.js", "/documents_spreadsheet/static/tests/tours/clone_xlsx.js", "/documents_spreadsheet/static/tests/tours/create_empty_sheet_tour.js", "/documents_spreadsheet/static/tests/tours/create_template_tour.js", "/documents_spreadsheet/static/tests/tours/open_pivot_sheet_tour.js", "/documents_spreadsheet/static/tests/tours/save_multipage.js", "/documents_spreadsheet_account/static/tests/tours/spreadsheet_account_tours.js", "/pos_hr/static/tests/tours/PosHrTour.js", "/pos_hr/static/tests/tours/PosHrTourMethods.js", "/pos_online_payment/static/tests/tours/OnlinePayment.tour.js", "/pos_online_payment/static/tests/tours/helpers/OnlinePaymentPopupTourMethods.js", "/saas_trial/static/tests/tours/tour_plan_change_warnings.js", "/saas_trial/static/tests/tours/tour_trials.js", "/saas_website/static/tests/tours/tour_website_configurator.js", "/sale_timesheet/static/tests/tours/sale_timesheet_tour.js", "/spreadsheet_dashboard_documents/static/tests/tours/add_document_to_dashboard_group_tour.js", "/website_knowledge/static/tests/tours/knowledge_public_search_tour.js", "/website_sale_product_configurator/static/tests/tours/website_sale_buy.js", "/website_sale_product_configurator/static/tests/tours/website_sale_preconfigured_variant_price.js", "/website_sale_product_configurator/static/tests/tours/website_sale_shop_custom_attributes_value.js", "/website_sale_product_configurator/static/tests/tours/website_sale_variants_modal_window.js", "/website_sale_stock/static/tests/tours/website_sale_stock_multilang.js", "/website_sale_stock/static/tests/tours/website_sale_stock_stock_notification.js", "/website_sale_stock/static/tests/tours/website_sale_stock_message_after_close_configurator_modal.js", "/website_sale_subscription/static/tests/tours/website_sale_subscription_tour.js", "/website_appointment/static/tests/tours/website_appointment_tour.js", "/web/static/tests/ignore_missing_deps_stop.js"], "mappings": "AAAA;;;;;AAAA;AACA;AACA;AACA;AACA;ACJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC3JA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClMA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACjIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrLA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjNA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1QA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3NA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1MA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACVA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACVA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1PA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtYA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5LA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/LA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1HA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACbA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACxqBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjNA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACZA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACnBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/lBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtLA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxTA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClMA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/HA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/KA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpWA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpSA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxkBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/OA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3UA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpLA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC5FA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrYA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrnDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzjBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC73BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChYA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7KA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChMA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjMA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnRA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzOA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzHA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC36BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrKA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACdA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3UA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/FA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1GA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3CA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxRA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AClCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9UA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3IA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC5JA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzCA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpLA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzJA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACjEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnKA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClVA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC1HA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACtGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7EA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;ACLA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxIA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChHA;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtWA;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpFA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACxTA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AClGA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACnBA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChEA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/BA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpDA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC/DA;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpFA;;;;;AAAA;AACA", "sourcesContent": ["// This module has for sole purpose to mark all odoo modules defined between it\n// and ignore_missing_deps_stop as ignored for missing dependency errors.\n// see the template conditional_assets_tests to understand how it's used.\nwindow.__odooIgnoreMissingDependencies = true;\n", "/** @odoo-module **/\n\n\"use strict\";\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nfunction checkLoginColumn(translation) {\n    return [\n        stepUtils.showAppsMenuItem(), {\n            content: \"Settings\",\n            trigger: 'a[data-menu-xmlid=\"base.menu_administration\"]',\n            run: 'click',\n        }, {\n            content: \"Open Users & Companies\",\n            trigger: '[data-menu-xmlid=\"base.menu_users\"]',\n            run: \"click\",\n        }, {\n            content: \"Open Users\",\n            trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n            run: \"click\",\n        }, {\n            content: `Login column should be ${translation}`,\n            trigger: `[data-name=\"login\"] span:contains(\"${translation}\")`,\n        }\n    ]\n}\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_tour', {\n    test: true,\n    url: '/web',\n    steps: () => checkLoginColumn('Identifiant')\n});\n\nregistry.category(\"web_tour.tours\").add('ir_model_fields_translation_tour2', {\n    test: true,\n    url: '/web',\n    steps: () => checkLoginColumn('Identifiant2')\n});\n", "/** @odoo-module alias=web.test_utils_file **/\n\n/**\n * FILE Test Utils\n *\n * This module defines various utility functions to help simulate events with\n * files, such as drag-and-drop.\n *\n * Note that all methods defined in this module are exported in the main\n * testUtils file.\n */\n\n\n//------------------------------------------------------------------------------\n// Private functions\n//------------------------------------------------------------------------------\n\n/**\n * Create a fake object 'dataTransfer', linked to some files, which is passed to\n * drag and drop events.\n *\n * @param {Object[]} files\n * @returns {Object}\n */\nfunction _createFakeDataTransfer(files) {\n    return {\n        dropEffect: 'all',\n        effectAllowed: 'all',\n        files,\n        getData: function () {\n            return files;\n        },\n        items: [],\n        types: ['Files'],\n    };\n}\n\n//------------------------------------------------------------------------------\n// Public functions\n//------------------------------------------------------------------------------\n\n/**\n * Create a file object, which can be used for drag-and-drop.\n *\n * @param {Object} data\n * @param {string} data.name\n * @param {string} data.content\n * @param {string} data.contentType\n * @returns {Promise<Object>} resolved with file created\n */\nfunction createFile(data) {\n    // Note: this is only supported by Chrome, and does not work in Incognito mode\n    return new Promise(function (resolve, reject) {\n        var requestFileSystem = window.requestFileSystem || window.webkitRequestFileSystem;\n        if (!requestFileSystem) {\n            throw new Error('FileSystem API is not supported');\n        }\n        requestFileSystem(window.TEMPORARY, 1024 * 1024, function (fileSystem) {\n            fileSystem.root.getFile(data.name, { create: true }, function (fileEntry) {\n                fileEntry.createWriter(function (fileWriter) {\n                    fileWriter.onwriteend = function (e) {\n                        fileSystem.root.getFile(data.name, {}, function (fileEntry) {\n                            fileEntry.file(function (file) {\n                                resolve(file);\n                            });\n                        });\n                    };\n                    fileWriter.write(new Blob([ data.content ], { type: data.contentType }));\n                });\n            });\n        });\n    });\n}\n\n/**\n * Drag a file over a DOM element\n *\n * @param {$.Element} $el\n * @param {Object} file must have been created beforehand (@see createFile)\n */\nfunction dragoverFile($el, file) {\n    var ev = new Event('dragover', { bubbles: true });\n    Object.defineProperty(ev, 'dataTransfer', {\n        value: _createFakeDataTransfer(file),\n    });\n    $el[0].dispatchEvent(ev);\n}\n\n/**\n * Drop a file on a DOM element.\n *\n * @param {$.Element} $el\n * @param {Object} file must have been created beforehand (@see createFile)\n */\nfunction dropFile($el, file) {\n    var ev = new Event('drop', { bubbles: true, });\n    Object.defineProperty(ev, 'dataTransfer', {\n        value: _createFakeDataTransfer([file]),\n    });\n    $el[0].dispatchEvent(ev);\n}\n\n/**\n * Drop some files on a DOM element.\n *\n * @param {$.Element} $el\n * @param {Object[]} files must have been created beforehand (@see createFile)\n */\nfunction dropFiles($el, files) {\n    var ev = new Event('drop', { bubbles: true, });\n    Object.defineProperty(ev, 'dataTransfer', {\n        value: _createFakeDataTransfer(files),\n    });\n    $el[0].dispatchEvent(ev);\n}\n\n/**\n * Set files in a file input\n *\n * @param {DOM.Element} el\n * @param {Object[]} files must have been created beforehand\n *   @see testUtils.file.createFile\n */\nfunction inputFiles(el, files) {\n    // could not use _createFakeDataTransfer as el.files assignation will only\n    // work with a real FileList object.\n    const dataTransfer = new window.DataTransfer();\n    for (const file of files) {\n        dataTransfer.items.add(file);\n    }\n    el.files = dataTransfer.files;\n    /**\n     * Changing files programatically is not supposed to trigger the event but\n     * it does in Chrome versions before 73 (which is on runbot), so in that\n     * case there is no need to make a manual dispatch, because it would lead to\n     * the files being added twice.\n     */\n    const versionRaw = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n    const chromeVersion = versionRaw ? parseInt(versionRaw[2], 10) : false;\n    if (!chromeVersion || chromeVersion >= 73) {\n        el.dispatchEvent(new Event('change'));\n    }\n}\n\n//------------------------------------------------------------------------------\n// Exposed API\n//------------------------------------------------------------------------------\n\nexport default {\n    createFile: createFile,\n    dragoverFile: dragoverFile,\n    dropFile: dropFile,\n    dropFiles,\n    inputFiles,\n};\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"mail/static/tests/tours/discuss_channel_as_guest_tour.js\", {\n        test: true,\n        steps: () => [\n            {\n                content: \"Channel secret token has been hidden on welcome page\",\n                trigger: \".o-mail-WelcomePage\",\n                run() {\n                    if (!window.location.pathname.startsWith(\"/discuss/channel\")) {\n                        console.error(\"Channel secret token is still present in URL.\");\n                    }\n                },\n            },\n            {\n                content: \"Click join\",\n                trigger: \"button[title='Join Channel']\",\n                extraTrigger: \".o-mail-Thread\",\n            },\n            {\n                content: \"Check that we are on channel page\",\n                trigger: \".o-mail-Thread\",\n                run() {},\n            },\n        ],\n    });\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { createFile, inputFiles } from \"web.test_utils_file\";\n\nregistry.category(\"web_tour.tours\").add(\"mail/static/tests/tours/discuss_public_tour.js\", {\n    test: true,\n    steps: () => [\n        {\n            trigger: \".o-mail-DiscussPublic\",\n            extraTrigger: \".o-mail-Thread\",\n            run() {},\n        },\n        {\n            content: \"Check that we are on channel page\",\n            trigger: \".o-mail-Thread\",\n            run() {\n                if (!window.location.pathname.startsWith(\"/discuss/channel\")) {\n                    console.error(\"Channel secret token is still present in URL.\");\n                }\n                // Wait for modules to be loaded or failed for the next step\n                odoo.__DEBUG__.didLogInfo.then(() => {\n                    const { missing, failed, unloaded } = odoo.__DEBUG__.jsModules;\n                    if ([missing, failed, unloaded].some((arr) => arr.length)) {\n                        console.error(\n                            \"Couldn't load all JS modules.\",\n                            JSON.stringify({ missing, failed, unloaded })\n                        );\n                    }\n                    document.body.classList.add(\"o_discuss_channel_public_modules_loaded\");\n                });\n            },\n            extraTrigger: \".o_discuss_channel_public_modules_loaded\",\n        },\n        {\n            content: \"Wait for all modules loaded check in previous step\",\n            trigger: \".o_discuss_channel_public_modules_loaded\",\n            run() {},\n        },\n        {\n            content: \"Write something in composer\",\n            trigger: \".o-mail-Composer-input\",\n            run: \"text cheese\",\n        },\n        {\n            content: \"Add one file in composer\",\n            trigger: \".o-mail-Composer button[aria-label='Attach files']\",\n            async run() {\n                const file = await createFile({\n                    content: \"hello, world\",\n                    contentType: \"text/plain\",\n                    name: \"text.txt\",\n                });\n                inputFiles(document.querySelector(\".o-mail-Composer-coreMain .o_input_file\"), [\n                    file,\n                ]);\n            },\n        },\n        {\n            content: \"Check the earlier provided attachment is listed\",\n            trigger: '.o-mail-AttachmentCard[title=\"text.txt\"]',\n            extra_trigger: \".o-mail-AttachmentCard:not(.o-isUploading)\", // waiting the attachment to be uploaded\n            run() {},\n        },\n        {\n            content: \"Send message\",\n            trigger: \".o-mail-Composer-send\",\n        },\n        {\n            content: \"Check message is shown\",\n            trigger: '.o-mail-Message-body:contains(\"cheese\")',\n            run() {},\n        },\n        {\n            content: \"Check message contains the attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"text.txt\")',\n            run() {},\n        },\n        {\n            content: \"Click on more menu\",\n            trigger: \".o-mail-Message [title='Expand']\",\n        },\n        {\n            content: \"Click on edit\",\n            trigger: \".o-mail-Message [title='Edit']\",\n        },\n        {\n            content: \"Edit message\",\n            trigger: \".o-mail-Message .o-mail-Composer-input\",\n            run: \"text vegetables\",\n        },\n        {\n            content: \"Add one more file in composer\",\n            trigger: \".o-mail-Message .o-mail-Composer button[aria-label='Attach files']\",\n            async run() {\n                const file = await createFile({\n                    content: \"hello 2\",\n                    contentType: \"text/plain\",\n                    name: \"extra.txt\",\n                });\n                inputFiles(\n                    document.querySelector(\n                        \".o-mail-Message .o-mail-Composer-coreMain .o_input_file\"\n                    ),\n                    [file]\n                );\n            },\n        },\n        {\n            content: \"Check the earlier provided extra attachment is listed\",\n            trigger: '.o-mail-Message .o-mail-Composer .o-mail-AttachmentCard[title=\"extra.txt\"]',\n            extra_trigger:\n                \".o-mail-Message .o-mail-Composer .o-mail-AttachmentCard:not(.o-isUploading)\", // waiting the attachment to be uploaded\n            run() {},\n        },\n        {\n            content: \"Save edited message\",\n            trigger: \".o-mail-Message a:contains(save)\",\n        },\n        {\n            content: \"Check message is edited\",\n            trigger: '.o-mail-Message-body:contains(\"vegetables\")',\n            run() {},\n        },\n        {\n            content: \"Check edited message contains the first attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"text.txt\")',\n            run() {},\n        },\n        {\n            content: \"Check edited message contains the extra attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"extra.txt\")',\n            run() {},\n        },\n    ],\n});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"dynamic_placeholder_tour\", {\n    test: true,\n    url: \"/web\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: 'Go into the Setting \"app\"',\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_administration\"]',\n        },\n        {\n            content: \"Open email templates\",\n            trigger: 'button[name=\"open_mail_templates\"]',\n        },\n        {\n            content: \"Create a new email template\",\n            trigger: \"button.o_list_button_add\",\n        },\n        {\n            content: 'Insert # inside \"Subject\" input',\n            trigger: 'div[name=\"subject\"] input[type=\"text\"]',\n            run(actions) {\n                actions.text(`no_model_id #`, this.$anchor);\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { bubbles: true, key: \"#\" })\n                );\n            },\n        },\n        {\n            content: \"Check subject kept the # char And an error notification appear\",\n            trigger: 'div[name=\"subject\"] input[type=\"text\"]',\n            run() {\n                const subjectValue = this.$anchor[0].value;\n                if (subjectValue !== \"no_model_id #\") {\n                    console.error(\n                        `Email template should have \"#\" in subject input (actual: ${subjectValue})`\n                    );\n                }\n\n                const notification = document.querySelector(\n                    \"div.o_notification_manager .o_notification .o_notification_content\"\n                );\n                if (\n                    !notification ||\n                    notification.textContent !==\n                        \"You need to select a model before opening the dynamic placeholder selector.\"\n                ) {\n                    console.error(`Email template did not show correct notification.`);\n                }\n            },\n        },\n        {\n            content: 'Select \"Contact\" model',\n            trigger: 'div[name=\"model_id\"] input[type=\"text\"]',\n            run: \"text Contact\",\n        },\n        {\n            content: \"Wait for the autocomplete RPC\",\n            trigger: 'div[name=\"model_id\"] .ui-autocomplete:contains(\"Contact\")',\n            run: function () {},\n        },\n        {\n            content: \"Click on contact\",\n            trigger: 'div[name=\"model_id\"] .ui-autocomplete',\n            run: async function () {\n                const contact = Array.from(\n                    document.querySelectorAll(\n                        'div[name=\"model_id\"] .ui-autocomplete .dropdown-item'\n                    )\n                ).find((el) => el.textContent === \"Contact\");\n                await contact.click();\n            },\n        },\n        {\n            content: \"Wait for the drop down to disappear\",\n            trigger: 'div[name=\"model_id\"] .o-autocomplete:not(:has(.ui-autocomplete))',\n            run: async () => {\n                // Ensure the system has registered a correct model value before\n                // we try to open the DPH.\n                // It seems that the autocomplete validation can be very slow.\n                await new Promise((r) => setTimeout(r, 200));\n            },\n        },\n        {\n            content: 'Retry insert # inside \"Subject\" input',\n            trigger: 'div[name=\"subject\"] input[type=\"text\"]',\n            run(actions) {\n                actions.text(`yes_model_id #`, this.$anchor);\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { bubbles: true, key: \"#\" })\n                );\n            },\n        },\n        {\n            content: \"Check if the dynamic placeholder popover is opened\",\n            trigger: \"div.o_model_field_selector_popover\",\n            run: function () {},\n        },\n        {\n            content: \"filter the dph result\",\n            trigger: \"div.o_model_field_selector_popover_search input[type='text']\",\n            run: \"text name\",\n        },\n        {\n            content: \"Click on the first entry of the dynamic placeholder\",\n            trigger: 'div.o_model_field_selector_popover li:first-child button:contains(\"Name\")',\n        },\n        {\n            content: \"Enter a default value\",\n            trigger:\n                'div.o_model_field_selector_popover .o_model_field_selector_default_value_input input[type=\"text\"]',\n            run: \"text defValue\",\n        },\n        {\n            content: \"Click on the the dynamic placeholder default value\",\n            trigger: \"div.o_model_field_selector_popover li:first-child button\",\n        },\n        {\n            content: \"Wait for the popover to disappear\",\n            trigger: \"body:not(:has(.o_model_field_selector_popover))\",\n        },\n        {\n            content: \"Check if subject value was correclty updated\",\n            trigger: 'div[name=\"subject\"] input[type=\"text\"]',\n            run() {\n                const subjectValue = this.$anchor[0].value;\n                const correctValue =\n                    \"yes_model_id {{object.name or '''defValue'''}}\";\n                if (subjectValue !== correctValue) {\n                    console.error(\n                        `Email template should have \"${correctValue}\" in subject input (actual: ${subjectValue})`\n                    );\n                }\n            },\n        },\n        {\n            content: \"Insert tesxt inside editable\",\n            trigger: \".note-editable.odoo-editor-editable\",\n            run(actions) {\n                actions.text(`/`, this.$anchor);\n                document.querySelector(\".note-editable\").dispatchEvent(\n                    new InputEvent(\"input\", {\n                        inputType: \"insertText\",\n                        data: \"/\",\n                    })\n                );\n            },\n        },\n        {\n            content: \"Click on the the dynamic placeholder commandBar options\",\n            trigger: \"div.oe-powerbox-commandWrapper:contains(Dynamic Placeholder)\",\n        },\n        {\n            content: \"Check if the dynamic placeholder popover is opened\",\n            trigger: \"div.o_model_field_selector_popover\",\n        },\n        {\n            content: \"filter the dph result\",\n            trigger: \"div.o_model_field_selector_popover_search input[type='text']\",\n            run: \"text name\",\n        },\n        {\n            content: \"Click on the first entry of the dynamic placeholder\",\n            trigger: 'div.o_model_field_selector_popover li:first-child button:contains(\"Name\")',\n        },\n        {\n            content: \"Enter a default value\",\n            trigger:\n                'div.o_model_field_selector_popover .o_model_field_selector_default_value_input input[type=\"text\"]',\n            run: \"text defValue\",\n        },\n        {\n            content: \"Click on the the dynamic placeholder default value\",\n            trigger: \"div.o_model_field_selector_popover li:first-child button\",\n        },\n        {\n            content: \"Ensure the editable contain the dynamic placeholder t tag\",\n            trigger:\n                \".note-editable.odoo-editor-editable t[t-out=\\\"object.name or '''defValue'''\\\"]\",\n        },\n        {\n            content: \"Discard form changes\",\n            trigger: \"button.o_form_button_cancel\",\n        },\n        {\n            content: \"Wait for the form view to disappear\",\n            trigger: \"body:not(:has(.o_form_sheet))\",\n        },\n    ],\n});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"mail_activity_schedule_from_chatter\", {\n    test: true,\n    steps: () => [\n        {\n            trigger: \"button:contains('Activities')\",\n        },\n        {\n            trigger: \"div[name='summary'] input\",\n            run: \"text Play Mario Party\",\n        },\n        {\n            trigger: \"button:contains('Schedule')\",\n        },\n        {\n            trigger: \".o-mail-Activity:contains('Play Mario Party')\",\n        },\n        {\n            trigger: \"button:contains('Activities')\",\n        },\n        {\n            trigger: \"div[name='summary'] input\",\n            run: \"text Play Mario Kart\",\n        },\n        {\n            trigger: \"button:contains('Mark as Done')\",\n        },\n        {\n            trigger: \".o-mail-Message:contains('Play Mario Kart')\",\n        },\n    ],\n});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { createFile, inputFiles } from \"web.test_utils_file\";\n\n/**\n * This tour depends on data created by python test in charge of launching it.\n * It is not intended to work when launched from interface. It is needed to test\n * an action (action manager) which is not possible to test with QUnit.\n * @see mail/tests/test_mail_full_composer.py\n */\nregistry.category(\"web_tour.tours\").add(\"mail/static/tests/tours/mail_full_composer_test_tour.js\", {\n    test: true,\n    steps: () => [\n        {\n            content: \"Click on Send Message\",\n            trigger: \"button:contains(Send message)\",\n        },\n        {\n            content: \"Write something in composer\",\n            trigger: \".o-mail-Composer-input\",\n            run: \"text blahblah\",\n        },\n        {\n            content: \"Add one file in composer\",\n            trigger: \".o-mail-Composer button[aria-label='Attach files']\",\n            async run() {\n                const file = await createFile({\n                    content: \"hello, world\",\n                    contentType: \"text/plain\",\n                    name: \"text.txt\",\n                });\n                inputFiles(document.querySelector(\".o-mail-Composer-coreMain .o_input_file\"), [\n                    file,\n                ]);\n            },\n        },\n        {\n            content: \"Open full composer\",\n            trigger: \"button[aria-label='Full composer']\",\n            extra_trigger: \".o-mail-AttachmentCard:not(.o-isUploading)\", // waiting the attachment to be uploaded\n        },\n        {\n            content: \"Check composer keeps open after pushing Escape\",\n            trigger: \".o_mail_composer_form_view\",\n            run: () => {\n                window.dispatchEvent(\n                    new KeyboardEvent(\"keydown\", {\n                        bubbles: true,\n                        key: \"Escape\",\n                    })\n                );\n            },\n        },\n        {\n            content: \"Check the earlier provided attachment is listed\",\n            trigger: '.o_attachment[title=\"text.txt\"]',\n            run() {},\n        },\n        {\n            content: \"Check subject is autofilled\",\n            trigger: '[name=\"subject\"] input',\n            run() {\n                const subjectValue = document.querySelector('[name=\"subject\"] input').value;\n                if (subjectValue !== \"Test User\") {\n                    console.error(\n                        `Full composer should have \"Test User\" in subject input (actual: ${subjectValue})`\n                    );\n                }\n            },\n        },\n        {\n            content: \"Check composer content is kept\",\n            trigger: '.o_field_html[name=\"body\"]',\n            run() {\n                const bodyContent = document.querySelector(\n                    '.o_field_html[name=\"body\"]'\n                ).textContent;\n                if (!bodyContent.includes(\"blahblah\")) {\n                    console.error(\n                        `Full composer should contain text from small composer (\"blahblah\") in body input (actual: ${bodyContent})`\n                    );\n                }\n            },\n        },\n        {\n            content: \"Open templates\",\n            trigger: '.o_field_widget[name=\"template_id\"] input',\n        },\n        {\n            content: \"Check a template is listed\",\n            in_modal: false,\n            trigger: '.ui-autocomplete .ui-menu-item a:contains(\"Test template\")',\n            run() {},\n        },\n        {\n            content: \"Send message\",\n            trigger: \".o_mail_send\",\n        },\n        {\n            content: \"Check message is shown\",\n            trigger: '.o-mail-Message-body:contains(\"blahblah\")',\n        },\n        {\n            content: \"Check message contains the attachment\",\n            trigger: '.o-mail-Message .o-mail-AttachmentCard:contains(\"text.txt\")',\n        },\n    ],\n});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\n/**\n * Verify that a user can modify their own profile information.\n */\nregistry.category(\"web_tour.tours\").add(\"mail/static/tests/tours/user_modify_own_profile_tour.js\", {\n    test: true,\n    steps: () => [\n        {\n            content: \"Open user account menu\",\n            trigger: \".o_user_menu button\",\n        },\n        {\n            content: \"Open preferences / profile screen\",\n            trigger: \"[data-menu=settings]\",\n        },\n        {\n            content: \"Update the email address\",\n            trigger: 'div[name=\"email\"] input',\n            run: \"text updatedemail@example.com\",\n        },\n        {\n            content: \"Save the form\",\n            trigger: 'button[name=\"preference_save\"]',\n        },\n        {\n            content: \"Wait until the modal is closed\",\n            trigger: \"body:not(.modal-open)\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('portal_load_homepage', {\n    test: true,\n    url: '/my',\n    steps: () => [\n        {\n            content: \"Check portal is loaded\",\n            trigger: 'a[href*=\"/my/account\"]:contains(\"Edit\"):first',\n        },\n        {\n            content: \"Load my account details\",\n            trigger: 'input[value=\"Joel Willis\"]'\n        }\n    ]\n});\n", "/** @odoo-module alias=account.tax.group.tour.tests */\n\"use strict\";\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('account_tax_group', {\n    test: true,\n    url: \"/web\",\n    steps: () => [stepUtils.showAppsMenuItem(),\n    {\n        id: 'account_menu_click',\n        content: \"Go to Invoicing\",\n        trigger: '.o_app[data-menu-xmlid=\"account.menu_finance\"]',\n    },\n    {\n        content: \"Go to Vendors\",\n        trigger: 'span:contains(\"Vendors\")',\n    },\n    {\n        content: \"Go to Bills\",\n        trigger: 'a:contains(\"Bills\")',\n    },\n    {\n        extra_trigger: '.o_breadcrumb .text-truncate:contains(\"Bills\")',\n        content: \"Create new bill\",\n        trigger: '.o_control_panel_main_buttons .d-none .o_list_button_add',\n    },\n    // Set a vendor\n    {\n        content: \"Add vendor\",\n        trigger: 'div.o_field_widget.o_field_res_partner_many2one[name=\"partner_id\"] div input',\n        run: 'text Azure Interior',\n    },\n    {\n        content: \"Valid vendor\",\n        trigger: '.ui-menu-item a:contains(\"Azure Interior\")',\n    },\n    // Add First product\n    {\n        content: \"Add items\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_field_x2many_list_row_add a:contains(\"Add a line\")',\n    },\n    {\n        content: \"Select input\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_selected_row .o_list_many2one[name=\"product_id\"] input',\n    },\n    {\n        content: \"Type item\",\n        trigger: 'div[name=\"invoice_line_ids\"] .o_selected_row .o_list_many2one[name=\"product_id\"] input',\n        run: \"text Corner Desk Right Sit\",\n    },\n    {\n        content: \"Valid item\",\n        trigger: '.ui-menu-item-wrapper:contains(\"Corner Desk Right Sit\")',\n    },\n    // Save account.move\n    {\n        content: \"Save the account move\",\n        trigger: '.o_form_button_save',\n    },\n    ...stepUtils.saveForm(),\n    // Edit tax group amount\n    {\n        content: \"Edit tax group amount\",\n        trigger: '.o_tax_group_edit',\n    },\n    {\n        content: \"Modify the input value\",\n        trigger: '.o_tax_group_edit_input input',\n        run: function (actions) {\n            $('.o_tax_group_edit_input input').val(200);\n            $('.o_tax_group_edit_input input').select();\n            $('.o_tax_group_edit_input input').blur();\n        },\n    },\n    // Check new value for total (with modified tax_group_amount).\n    {\n        content: \"Valid total amount\",\n        trigger: 'span[name=\"amount_total\"]:contains(\"800\")',\n    },\n    // Modify the quantity of the object\n    {\n        content: \"Select item quantity\",\n        trigger: 'div[name=\"invoice_line_ids\"] tbody tr.o_data_row .o_list_number[name=\"quantity\"]',\n    },\n    {\n        content: \"Change item quantity\",\n        trigger: 'div[name=\"invoice_line_ids\"] tbody tr.o_data_row .o_list_number[name=\"quantity\"] input',\n        run: 'text 2',\n    },\n    {\n        content: \"Valid the new value\",\n        trigger: 'div[name=\"invoice_line_ids\"] tbody tr.o_data_row .o_list_number[name=\"quantity\"] input',\n        run: function (actions) {\n            let keydownEvent = jQuery.Event('keydown');\n            keydownEvent.which = 13;\n            this.$anchor.trigger(keydownEvent);\n        },\n    },\n    // Save form\n    {\n        content: \"Save the account move\",\n        trigger: '.o_form_button_save',\n    },\n    ...stepUtils.saveForm(),\n    // Check new tax group value\n    {\n        content: \"Check new value of tax group\",\n        trigger: '.o_tax_group_amount_value:contains(\"120\")',\n    },\n    {\n        content: \"Edit tax value\",\n        trigger: '.o_tax_group_edit_input input',\n        run: 'text 2'\n    },\n    {\n        content: \"Check new value of total\",\n        trigger: '.oe_subtotal_footer_separator:contains(\"1,202\")',\n    },\n    {\n        content: \"Discard changes\",\n        trigger: '.o_form_button_cancel',\n    },\n    {\n        content: \"Check tax value is reset\",\n        trigger: '.o_tax_group_amount_value:contains(\"120\")',\n    },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\n// This tour relies on data created on the Python test.\nregistry.category(\"web_tour.tours\").add('sale_signature', {\n    test: true,\n    url: '/my/quotes',\n    steps: () => [\n    {\n        content: \"open the test SO\",\n        trigger: 'a:containsExact(\"test SO\")',\n    },\n    {\n        content: \"click sign\",\n        trigger: 'a:contains(\"Sign\")',\n    },\n    {\n        content: \"check submit is enabled\",\n        trigger: '.o_portal_sign_submit:enabled',\n        run: function () {},\n    },\n    {\n        content: \"click select style\",\n        trigger: '.o_web_sign_auto_select_style a',\n    },\n    {\n        content: \"click style 4\",\n        trigger: '.o_web_sign_auto_font_selection a:eq(3)',\n    },\n    {\n        content: \"click submit\",\n        trigger: '.o_portal_sign_submit:enabled',\n    },\n    {\n        content: \"check it's confirmed\",\n        trigger: '#quote_content:contains(\"Thank You\")',\n    }, {\n        trigger: '#quote_content',\n        run: function () {\n            window.location.href = window.location.origin + '/web';\n        },  // Avoid race condition at the end of the tour by returning to the home page.\n    },\n    {\n        trigger: 'nav',\n        run: function() {},\n    }\n]});\n", "/** @odoo-module **/\n\nimport options from \"web_editor.snippets.options\";\n\nconst FocusBlur = options.Class.extend({\n    onFocus() {\n        window.focusBlurSnippetsResult.push(`focus ${this.focusBlurName}`);\n    },\n    onBlur() {\n        window.focusBlurSnippetsResult.push(`blur ${this.focusBlurName}`);\n    },\n});\n\noptions.registry.FocusBlurParent = FocusBlur.extend({focusBlurName: 'parent'});\noptions.registry.FocusBlurChild1 = FocusBlur.extend({focusBlurName: 'child1'});\noptions.registry.FocusBlurChild2 = FocusBlur.extend({focusBlurName: 'child2'});\n", "/** @odoo-module **/\n\nimport wTourUtils from \"website.tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour('automatic_editor_on_new_website', {\n    test: true,\n    url: '/',\n},\n[\n    {\n        content: \"Select the language dropdown\",\n        trigger: 'iframe .js_language_selector .dropdown-toggle'\n    },\n    {\n        content: \"click on Add a language\",\n        trigger: 'iframe a.o_add_language',\n    },\n    {\n        content: \"type Parseltongue\",\n        trigger: 'div[name=\"lang_ids\"] .o_input_dropdown input',\n        run: 'text Parseltongue',\n    },\n    {\n        content: 'select Parseltongue',\n        trigger: '.dropdown-item:contains(Parseltongue)',\n        in_modal: false,\n    },\n    {\n        content: \"load parseltongue\",\n        extra_trigger: '.modal div[name=\"lang_ids\"] .rounded-pill .o_tag_badge_text:contains(Parseltongue)',\n        trigger: '.modal-footer button[name=lang_install]',\n    },\n    {\n        content: \"Select the language dropdown\",\n        trigger: 'iframe .js_language_selector .dropdown-toggle',\n    },\n    {\n        content: \"Select parseltongue\",\n        trigger: 'iframe a.js_change_lang[data-url_code=pa_GB]',\n        extra_trigger: 'iframe a.js_change_lang .o_lang_flag',\n    },\n    {\n        content: \"Check that we're on parseltongue and then go to settings\",\n        trigger: 'iframe html[lang=pa-GB]',\n        run: () => {\n            // Now go through the settings for a new website. A frontend_lang\n            // cookie was set during previous steps. It should not be used when\n            // redirecting to the frontend in the following steps.\n            window.location.href = '/web#action=website.action_website_configuration';\n        }\n    },\n    {\n        content: \"create a new website\",\n        trigger: 'button[name=\"action_website_create_new\"]',\n    },\n    {\n        content: \"insert website name\",\n        trigger: 'div[name=\"name\"] input',\n        run: 'text Website EN'\n    },\n    {\n        content: \"validate the website creation modal\",\n        trigger: 'button.btn-primary'\n    },\n    {\n        content: \"skip configurator\",\n        // This trigger targets the skip button, it doesn't have a more\n        // explicit class or ID.\n        trigger: '.o_configurator_container .container-fluid .btn.btn-link'\n    },\n    {\n        content: \"make hover button appear\",\n        trigger: '.o_theme_preview',\n        run: () => {\n            $('.o_theme_preview .o_button_area').attr('style', 'visibility: visible; opacity: 1;');\n        },\n    },\n    {\n        content: \"Install a theme\",\n        trigger: 'button[name=\"button_choose_theme\"]'\n    },\n    {\n        content: \"Check that the editor is loaded\",\n        trigger: 'iframe body.editor_enable',\n        timeout: 30000,\n        run: () => null, // it's a check\n    },\n    {\n        content: \"exit edit mode\",\n        trigger: '.o_we_website_top_actions button.btn-primary:contains(\"Save\")',\n    },\n    {\n        content: \"wait for editor to close\",\n        trigger: 'iframe body:not(.editor_enable)',\n        run: () => null, // It's a check\n    }\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour(\"carousel_content_removal\", {\n    test: true,\n    url: '/',\n    edition: true,\n}, [{\n    trigger: \"#snippet_structure .oe_snippet:has(span:contains('Carousel')) .oe_snippet_thumbnail\",\n    content: \"Drag the Carousel block and drop it in your page.\",\n    run: \"drag_and_drop iframe #wrap\",\n},\n{\n    trigger: \"iframe .carousel .carousel-item.active .carousel-content\",\n    content: \"Select the active carousel item.\",\n}, {\n    trigger: \"iframe .oe_overlay.oe_active .oe_snippet_remove\",\n    content: \"Remove the active carousel item.\",\n},\n{\n    trigger: \"iframe .carousel .carousel-item.active .container:not(:has(*))\",\n    content: \"Check for a carousel slide with an empty container tag\",\n    allowInvisible: true,\n    run: function () {},\n}]);\n", "/** @odoo-module */\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('client_action_iframe_fallback', {\n    test: true,\n    url: '/',\n},\n[\n    {\n        content: \"Ensure we are on the expected page\",\n        trigger: 'body iframe html[data-view-xmlid=\"website.homepage\"]',\n        run: () => {}, // It's a check.\n    }, {\n        content: \"Ensure the iframe fallback is not loaded in test mode\",\n        trigger: 'body',\n        run: () => {\n            if (document.querySelector('iframe[src=\"/website/iframefallback\"]')) {\n                console.error(\"The iframe fallback shouldn't be inside the DOM.\");\n            }\n        },\n    },\n]);\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nconst testUrl = '/test_client_action_redirect';\n\nconst goToFrontendSteps = [{\n    content: \"Go to the frontend\",\n    trigger: 'body',\n    run: () => {\n        window.location.href = testUrl;\n    },\n}, {\n    content: \"Check we are in the frontend\",\n    trigger: 'body:not(:has(.o_website_preview)) #test_contact_FE',\n    run: () => null, // it's a check\n}];\nconst goToBackendSteps = [{\n    content: \"Go to the backend\",\n    trigger: 'body',\n    run: () => {\n        window.location.href = `/@${testUrl}`;\n    },\n}, {\n    content: \"Check we are in the backend\",\n    trigger: '.o_website_preview',\n    run: () => null, // it's a check\n}];\nconst checkEditorSteps = [{\n    content: \"Check that the editor is loaded\",\n    trigger: 'iframe body.editor_enable',\n    timeout: 30000,\n    run: () => null, // it's a check\n}, {\n    content: \"exit edit mode\",\n    trigger: '.o_we_website_top_actions button.btn-primary:contains(\"Save\")',\n}, {\n    content: \"wait for editor to close\",\n    trigger: 'iframe body:not(.editor_enable)',\n    run: () => null, // It's a check\n}];\n\nregistry.category(\"web_tour.tours\").add('client_action_redirect', {\n    test: true,\n    url: testUrl,\n    steps: () => [\n    // Case 1: From frontend, click on `enable_editor=1` link without `/@/` in it\n    ...goToFrontendSteps,\n    {\n        content: \"Click on the link to frontend\",\n        trigger: '#test_contact_FE',\n    },\n    ...checkEditorSteps,\n\n    // Case 2: From frontend, click on `enable_editor=1` link with `/@/` in it\n    ...goToFrontendSteps,\n    {\n        content: \"Click on the link to backend\",\n        trigger: '#test_contact_BE',\n    },\n    ...checkEditorSteps,\n\n    // Case 3: From backend, click on `enable_editor=1` link without `/@/` in it\n    // TODO: This will be fixed in another fix related to the listening of the\n    //       URL changes from the client action.\n    // ...goToBackendSteps,\n    // {\n    //     content: \"Click on the link to frontend (2)\",\n    //     trigger: 'iframe #test_contact_FR',\n    // },\n    // ...checkEditorSteps,\n\n    // Case 4: From backend, click on `enable_editor=1` link with `/@/` in it\n    ...goToBackendSteps,\n    {\n        content: \"Click on the link to backend (2)\",\n        trigger: 'iframe #test_contact_BE',\n    },\n    ...checkEditorSteps,\n]});\n", "/** @odoo-module */\n\nimport wTourUtils from 'website.tour_utils';\n\nconst snippets = [\n    {\n        id: 's_text_image',\n        name: 'Text - Image',\n    },\n    {\n        id: \"s_banner\",\n        name: \"Banner\",\n    },\n    {\n        id: \"s_popup\",\n        name: \"Popup\",\n    },\n];\nfunction checkEyeIcon(snippetName, visible) {\n    const eyeIcon = visible ? \"fa-eye\" : \"fa-eye-slash\";\n    const openOrClose = visible ? \"open\" : \"close\";\n    const endExplanation = `should be ${openOrClose} in the \"Invisible Elements\" panel`;\n    const invisibleElPanel = \"o_we_invisible_el_panel\";\n    return {\n            content: `The eye icon of ${snippetName} ${endExplanation}`,\n            trigger:\n            `.${invisibleElPanel} .o_we_invisible_entry:contains(\"${snippetName}\") i.${eyeIcon}`,\n            run: () => {}, // it is a check\n        };\n}\nfunction checkEyesIconAfterSave(footerIsHidden = true) {\n    const eyeIconChecks = [\n        checkEyeIcon(\"Header\", false),\n        checkEyeIcon(\"Text - Image\", true),\n        checkEyeIcon(\"Popup\", false),\n        checkEyeIcon(\"Banner\", true),\n    ];\n    if (footerIsHidden) {\n        eyeIconChecks.push(checkEyeIcon(\"Footer\", false));\n    }\n    return eyeIconChecks;\n}\nwTourUtils.registerWebsitePreviewTour('conditional_visibility_1', {\n    edition: true,\n    url: '/',\n    test: true,\n}, [\nwTourUtils.dragNDrop(snippets[0]),\nwTourUtils.clickOnSnippet(snippets[0]),\nwTourUtils.changeOption('ConditionalVisibility', 'we-toggler'),\n{\n    content: 'click on conditional visibility',\n    trigger: '[data-name=\"visibility_conditional\"]',\n    run: 'click',\n},\n{\n    content: 'click on utm medium toggler',\n    trigger: '[data-save-attribute=\"visibilityValueUtmMedium\"] we-toggler',\n    run: 'click',\n},\n{\n    trigger: '[data-save-attribute=\"visibilityValueUtmMedium\"] we-selection-items [data-add-record=\"Email\"]',\n    content: 'click on Email',\n    run: 'click',\n},\n...wTourUtils.clickOnSave(),\n{\n    content: 'Check if the rule was applied',\n    extra_trigger: '.o_website_preview:only-child',\n    trigger: 'iframe #wrap',\n    allowInvisible: true,\n    run: function (actions) {\n        const style = window.getComputedStyle(this.$anchor[0].getElementsByClassName('s_text_image')[0]);\n        if (style.display !== 'none') {\n            console.error('error This item should be invisible and only visible if utm_medium === email');\n        }\n    },\n},\n...wTourUtils.clickOnEditAndWaitEditMode(),\n{\n    content: 'Check if the element is visible as it should always be visible in edit view',\n    trigger: 'iframe #wrap .s_text_image',\n    run: function (actions) {\n        const style = window.getComputedStyle((this.$anchor[0]));\n        if (style.display === 'none') {\n            console.error('error This item should now be visible because utm_medium === email');\n        }\n    },\n},\n]);\n\nwTourUtils.registerWebsitePreviewTour(\"conditional_visibility_3\", {\n    edition: true,\n    test: true,\n    url: \"/\",\n},\n[\ncheckEyeIcon(\"Text - Image\", true),\n// Drag a \"Banner\" snippet on the website.\nwTourUtils.dragNDrop(snippets[1]),\n// Click on the \"Banner\" snippet.\nwTourUtils.clickOnSnippet(snippets[1]),\nwTourUtils.changeOption(\"ConditionalVisibility\", \"we-toggler\"),\nwTourUtils.changeOption(\"ConditionalVisibility\", '[data-name=\"visibility_conditional\"]'),\ncheckEyeIcon(\"Banner\", true),\n{\n    content: \"click on 'Blocks'\",\n    trigger: \"#snippets_menu button:contains('Blocks')\",\n},\n// Drag a \"Popup\" snippet on the website.\nwTourUtils.dragNDrop(snippets[2]),\n{\n    content: \"Toggle the visibility of the popup\",\n    in_modal: false,\n    trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Popup')\",\n},\ncheckEyeIcon(\"Popup\", false),\n{\n    content: \"Click on footer\",\n    trigger: \"iframe #wrapwrap footer\",\n},\nwTourUtils.changeOption(\"HideFooter\", \"we-checkbox\"),\ncheckEyeIcon(\"Footer\", false),\n{\n    content: \"Click on Header\",\n    trigger: \"iframe #wrapwrap header\",\n},\nwTourUtils.changeOption(\"TopMenuVisibility\", \"we-toggler\"),\nwTourUtils.changeOption(\"TopMenuVisibility\", '[data-visibility=\"hidden\"]'),\ncheckEyeIcon(\"Header\", false),\n{\n    content: \"Toggle the visibility of the Banner snippet\",\n    trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Banner')\",\n},\ncheckEyeIcon(\"Banner\", false),\n...wTourUtils.clickOnSave(),\n...wTourUtils.clickOnEditAndWaitEditMode(),\n...checkEyesIconAfterSave(),\n]);\n\nwTourUtils.registerWebsitePreviewTour(\"conditional_visibility_4\", {\n    edition: true,\n    test: true,\n    url: \"/\",\n},\n[\n// Click on the \"Text-Image\" snippet.\nwTourUtils.clickOnSnippet(snippets[0]),\n{\n    content: \"Click on the 'move down' option\",\n    trigger: \"iframe we-button.o_we_user_value_widget.fa-angle-down\",\n},\n...checkEyesIconAfterSave(),\n{\n    content: \"Check the order on the 'Invisible Elements' panel\",\n    trigger: \".o_we_invisible_el_panel div:nth-child(3):contains('Banner')\",\n    run: () => {}, // it is a check\n},\n{\n    content: \"Toggle the visibility of the Footer\",\n    trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:contains('Footer')\",\n},\n{\n    content: \"Check that the footer is visible\",\n    trigger: \"iframe #wrapwrap footer\",\n    run: () => {}, // it is a check\n},\n// Click on the \"Banner\" snippet.\nwTourUtils.clickOnSnippet(snippets[1]),\n{\n    content: \"Drag the 'Banner' snippet to the end of the page\",\n    trigger: \"iframe .o_overlay_move_options .ui-draggable-handle\",\n    run: \"drag_and_drop iframe #wrapwrap footer\",\n},\n...checkEyesIconAfterSave(false),\n{\n    content: \"Check the order on the 'Invisible Elements' panel\",\n    trigger: \".o_we_invisible_el_panel div:nth-child(3):contains('Text - Image')\",\n    run: () => {}, // it is a check\n},\n]);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('conditional_visibility_2', {\n    test: true,\n    url: '/?utm_medium=Email',\n    steps: () => [{\n    content: 'The content previously hidden should now be visible',\n    trigger: 'body #wrap',\n    run: function (actions) {\n        const style = window.getComputedStyle(this.$anchor[0].getElementsByClassName('s_text_image')[0]);\n        if (style.display === 'none') {\n            console.error('error This item should now be visible because utm_medium === email');\n        }\n    },\n},\n]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('configurator_translation', {\n    test: true,\n    url: '/website/configurator',\n    steps: () => [\n    // Configurator first screen\n    {\n        content: \"click next\",\n        trigger: 'button.o_configurator_show',\n    },\n    // Make sure \"Back\" works\n    {\n        content: \"use browser's Back\",\n        trigger: 'a.o_change_website_type',\n        run: () => {\n            window.history.back();\n        },\n    }, {\n        content: \"return to description screen\",\n        trigger: 'button.o_configurator_show',\n    },\n    // Description screen\n    {\n        content: \"select a website type\",\n        trigger: 'a.o_change_website_type',\n    }, {\n        content: \"insert a website industry\",\n        trigger: '.o_configurator_industry input',\n        run: 'text ab',\n    }, {\n        content: \"select a website industry from the autocomplete\",\n        trigger: '.o_configurator_industry_wrapper ul li a:contains(\"in fr\")',\n    }, {\n        content: \"select an objective\",\n        trigger: '.o_configurator_purpose_dd a',\n    }, {\n        content: \"choose from the objective list\",\n        trigger: 'a.o_change_website_purpose',\n    },\n    // Palette screen\n    {\n        content: \"chose a palette card\",\n        trigger: '.palette_card',\n    },\n    // Features screen\n    {\n        content: \"select confidentialit\u00e9\",\n        trigger: '.card:contains(Parseltongue_privacy)',\n    }, {\n        content: \"Click on build my website\",\n        trigger: 'button.btn-primary',\n    }, {\n        content: \"Loader should be shown\",\n        trigger: '.o_website_loader_container',\n        run: function () {}, // it's a check\n    }, {\n        content: \"Wait untill the configurator is finished\",\n        trigger: '#oe_snippets.o_loaded',\n        timeout: 30000,\n    }, {\n        // Check the content of the save button to make sure the website is in\n        // Parseltongue. (The editor should be in the website's default language,\n        // which should be parseltongue in this test.)\n        content: \"exit edit mode\",\n        trigger: '.o_we_website_top_actions button.btn-primary:contains(\"Save_Parseltongue\")',\n    }, {\n         content: \"wait for editor to be closed\",\n         trigger: 'iframe body:not(.editor_enable)',\n         run: function () {}, // It's a check.\n    }\n]});\n", "/** @odoo-module **/\n\nimport wTourUtils from \"website.tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\"default_shape_gets_palette_colors\", {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    wTourUtils.clickOnSnippet({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    wTourUtils.changeOption('ColoredLevelBackground', 'Shape'),\n    {\n        content: \"Check that shape does not have a background-image in its inline style\",\n        trigger: 'iframe #wrap .s_text_image .o_we_shape',\n        run: () => {\n            const shape = $('iframe:not(.o_ignore_in_tour)').contents().find('#wrap .s_text_image .o_we_shape')[0];\n            if (shape.style.backgroundImage) {\n                console.error(\"error The default shape has a background-image in its inline style (should rely on the class)\");\n            }\n        },\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"website.tour_utils\";\nimport { browser } from \"@web/core/browser/browser\";\nimport { patch } from \"@web/core/utils/patch\";\n\nconst FIRST_PARAGRAPH = 'iframe #wrap .s_text_image p:nth-child(2)';\n\nconst clickFooter = [{\n    content: \"Save the link by clicking outside the URL input (not on a link element)\",\n    trigger: 'iframe footer h5:first',\n}, {\n    content: \"Wait delayed click on footer\",\n    trigger: '.o_we_customize_panel we-title:contains(\"Footer\")',\n    run: function () {}, // it's a check\n}];\n\nconst clickEditLink = [{\n    content: \"Click on Edit Link in Popover\",\n    trigger: 'iframe .o_edit_menu_popover .o_we_edit_link',\n}, {\n    content: \"Ensure popover is closed\",\n    trigger: 'iframe html:not(:has(.o_edit_menu_popover))', // popover should be closed\n    run: function () {}, // it's a check\n    in_modal: false,\n}];\n\nwTourUtils.registerWebsitePreviewTour('edit_link_popover', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\n    // 1. Test links in page content (web_editor)\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    {\n        content: \"Click on a paragraph\",\n        trigger: FIRST_PARAGRAPH,\n        run: 'text Paragraph', // Make sure the selection is set in the paragraph\n    },\n    {\n        content: \"Click on 'Link' to open Link Dialog\",\n        trigger: \"#toolbar:not(.oe-floating) #create-link\",\n    },\n    {\n        content: \"Type the link URL /contactus\",\n        trigger: '#o_link_dialog_url_input',\n        run: 'text /contactus'\n    },\n    ...clickFooter,\n    {\n        content: \"Click on newly created link\",\n        trigger: `${FIRST_PARAGRAPH} a`,\n    },\n    {\n        content: \"Popover should be shown\",\n        trigger: 'iframe .o_edit_menu_popover .o_we_url_link:contains(\"Contact Us\")', // At this point preview is loaded\n        run: function () {}, // it's a check\n    },\n    ...clickEditLink,\n    {\n        content: \"Type the link URL /\",\n        trigger: '#o_link_dialog_url_input',\n        run: \"text /\"\n    },\n    ...clickFooter,\n    {\n        content: \"Click on link\",\n        trigger: `${FIRST_PARAGRAPH} a`,\n    },\n    {\n        content: \"Popover should be shown with updated preview data\",\n        trigger: 'iframe .o_edit_menu_popover .o_we_url_link:contains(\"Home\")',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Click on Remove Link in Popover\",\n        trigger: 'iframe .o_edit_menu_popover .o_we_remove_link',\n    },\n    {\n        content: \"Link should be removed\",\n        trigger: `${FIRST_PARAGRAPH}:not(:has(a))`,\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Ensure popover is closed\",\n        trigger: 'iframe html:not(:has(.o_edit_menu_popover))', // popover should be closed\n        run: function () {}, // it's a check\n    },\n    // 2. Test links in navbar (website)\n    {\n        content: \"Click navbar menu Home\",\n        trigger: 'iframe #top_menu a:contains(\"Home\")',\n    },\n    {\n        content: \"Popover should be shown (2)\",\n        trigger: 'iframe .o_edit_menu_popover .o_we_url_link:contains(\"Home\")',\n        run: function () {}, // it's a check\n    },\n    ...clickEditLink,\n    {\n        content: \"Change the URL\",\n        trigger: '#url_input',\n        run: \"text /contactus\"\n    },\n    {\n        content: \"Save the Edit Menu modal\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Click on the Home menu again\",\n        extra_trigger: 'div:not(.o_loading_dummy) > #oe_snippets',\n        trigger: 'iframe #top_menu a:contains(\"Home\")[href=\"/contactus\"]',\n    },\n    {\n        content: \"Popover should be shown with updated preview data (2)\",\n        trigger: 'iframe .o_edit_menu_popover .o_we_url_link:contains(\"Contact Us\")',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Click on Edit Menu in Popover\",\n        trigger: 'iframe .o_edit_menu_popover .js_edit_menu',\n    },\n    {\n        content: \"Edit Menu (tree) should open\",\n        trigger: '.o_website_dialog .oe_menu_editor',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Close modal\",\n        trigger: '.modal-footer .btn-secondary',\n    },\n    // 3. Test other links (CTA in navbar & links in footer)\n    {\n        content: \"Click CTA in navbar\",\n        trigger: 'iframe #top_menu_container a.btn-primary[href=\"/contactus\"]',\n    },\n    {\n        content: \"Popover should be shown (3)\",\n        trigger: 'iframe .o_edit_menu_popover .o_we_url_link:contains(\"Contact Us\")',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Toolbar should be shown (3)\",\n        trigger: '.oe-toolbar:not(.oe-floating):has(#o_link_dialog_url_input:propValue(/contactus))',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Click 'Home' link in footer\",\n        trigger: 'iframe footer a[href=\"/\"]',\n    },\n    {\n        content: \"Popover should be shown (4)\",\n        trigger: 'iframe .o_edit_menu_popover .o_we_url_link:contains(\"Home\")',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Toolbar should be shown (4)\",\n        trigger: '.oe-toolbar:not(.oe-floating):has(#o_link_dialog_url_input:propValue(/))',\n        run: function () {}, // it's a check\n    },\n    // 4. Popover should close when clicking non-link element\n    ...clickFooter,\n    // 5. Double click should not open popover but should open toolbar link\n    {\n        content: \"Double click on link\",\n        extra_trigger: 'iframe html:not(:has(.o_edit_menu_popover))', // popover should be closed\n        trigger: 'iframe footer a[href=\"/\"]',\n        run: function (actions) {\n            // Create range to simulate real double click, see pull request\n            const range = document.createRange();\n            range.selectNodeContents(this.$anchor[0]);\n            const sel = window.getSelection();\n            sel.removeAllRanges();\n            sel.addRange(range);\n            actions.click();\n            actions.dblclick();\n        },\n    },\n    {\n        content: \"Ensure popover is opened on double click, and so is right panel edit link\",\n        trigger: 'html:has(#o_link_dialog_url_input)',\n        extra_trigger: 'iframe html:has(.o_edit_menu_popover)',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Ensure that a click on the link popover link opens a new window in edit mode\",\n        trigger: 'iframe .o_edit_menu_popover a.o_we_url_link[target=\"_blank\"]',\n        extra_trigger: 'iframe .o_edit_menu_popover a.o_we_full_url[target=\"_blank\"]',\n        run: (actions) => {\n            // We do not want to open a link in a tour\n            patch(browser, 'window_open_action', {\n                open: (url) => {\n                    if (window.location.hostname === url.hostname && url.pathname.startsWith('/@/')) {\n                        document.querySelector('body').classList.add('new_backend_window_opened');\n                    }\n                }\n            }, { pure: true });\n            actions.click();\n        },\n    },\n    {\n        content: \"Ensure that link is opened correctly in edit mode\",\n        trigger: '.new_backend_window_opened',\n        run: () => {}, // it's a check\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"website.tour_utils\";\n\nconst toggleMegaMenu = (stepOptions) => Object.assign({}, {\n    content: \"Toggles the mega menu.\",\n    trigger: 'iframe #top_menu .nav-item a.o_mega_menu_toggle',\n    run: function () {\n        // If the mega menu is displayed inside the extra menu items, it should\n        // already be displayed.\n        if (!this.$anchor[0].closest('.o_extra_menu_items')) {\n            this.$anchor[0].dispatchEvent(new Event('click'))\n        }\n    },\n}, stepOptions);\n\nwTourUtils.registerWebsitePreviewTour('edit_megamenu', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\n    // Add a megamenu item to the top menu.\n    {\n        content: \"Click on a menu item\",\n        trigger: 'iframe #top_menu .nav-item a',\n    },\n    {\n        content: \"Click on 'Link' to open Link Dialog\",\n        trigger: 'iframe .o_edit_menu_popover a.js_edit_menu',\n    },\n    {\n        content: \"Trigger the link dialog (click 'Add Mega Menu Item')\",\n        extra_trigger: '.o_website_dialog:visible',\n        trigger: '.modal-body a:eq(1)',\n    },\n    {\n        content: \"Write a label for the new menu item\",\n        trigger: '.modal-dialog .o_website_dialog input',\n        run: 'text Megaaaaa!'\n    },\n    {\n        content: \"Confirm the mega menu label\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Save the website menu with a new mega menu\",\n        trigger: '.modal-footer .btn-primary',\n        extra_trigger: '.oe_menu_editor [data-is-mega-menu=\"true\"] .js_menu_label:contains(\"Megaaaaa!\")',\n    },\n    {\n        trigger: '#oe_snippets.o_loaded',\n        run() {},\n    },\n    // Edit a menu item\n    wTourUtils.clickOnExtraMenuItem({extra_trigger: \".o_website_preview.editor_enable.editor_has_snippets:not(.o_is_blocked)\"}, true),\n    toggleMegaMenu({extra_trigger: 'iframe #top_menu .nav-item a.o_mega_menu_toggle:contains(\"Megaaaaa!\")'}),\n    {\n        content: \"Select the last menu link of the first column\",\n        trigger: 'iframe .s_mega_menu_odoo_menu .row > div:first-child .nav > :nth-child(6)', // 6th is the last one\n    },\n    {\n        content: \"Hit the delete button to remove the menu link\",\n        trigger: 'iframe .oe_overlay .oe_snippet_remove',\n    },\n    {\n        content: \"Check that the last menu link was deleted\",\n        trigger: 'iframe .s_mega_menu_odoo_menu .row > div:first-child .nav:not(:has(> :nth-child(6)))',\n        run: () => null,\n    },\n    {\n        content: \"Clicks on the first title item.\",\n        trigger: 'iframe .o_mega_menu h4',\n    },\n    {\n        content: \"Press enter.\",\n        trigger: 'iframe .o_mega_menu h4',\n        run: function (actions) {\n            this.$anchor[0].dispatchEvent(new window.InputEvent('input', {bubbles: true, inputType: 'insertParagraph'}));\n        },\n    },\n    {\n        content: \"The menu should still be visible. Edit a menu item.\",\n        trigger: 'iframe .o_mega_menu h4',\n        // The content is removed in the previous step so it's now invisible.\n        allowInvisible: true,\n        run: 'text New Menu Item',\n    },\n    ...wTourUtils.clickOnSave(),\n    wTourUtils.clickOnExtraMenuItem({extra_trigger: 'iframe body:not(.editor_enable)'}, true),\n    toggleMegaMenu(),\n    {\n        content: \"The menu item should have been renamed.\",\n        trigger: 'iframe .o_mega_menu h4:contains(\"New Menu Item\")',\n        run: function () {}, // it's a check\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('edit_menus', {\n    test: true,\n    url: '/',\n}, [\n    // Add a megamenu item from the menu.\n    {\n        content: \"open site menu\",\n        extra_trigger: \"iframe #wrapwrap\",\n        trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n    },\n    {\n        content: \"Click on Edit Menu\",\n        trigger: 'a[data-menu-xmlid=\"website.menu_edit_menu\"]',\n    },\n    {\n        content: \"Trigger the link dialog (click 'Add Mega Menu Item')\",\n        extra_trigger: '.o_website_dialog:visible',\n        trigger: '.modal-body a:eq(1)',\n    },\n    {\n        content: \"Write a label for the new menu item\",\n        trigger: '.modal-dialog .o_website_dialog input',\n        run: 'text Megaaaaa!'\n    },\n    {\n        content: \"Confirm the mega menu label\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Save the new menu\",\n        trigger: '.modal-footer .btn-primary',\n        extra_trigger: '.oe_menu_editor [data-is-mega-menu=\"true\"] .js_menu_label:contains(\"Megaaaaa!\")',\n    },\n    wTourUtils.clickOnExtraMenuItem({extra_trigger: 'body:not(:has(.oe_menu_editor))'}, true),\n    {\n        content: \"There should be a new megamenu item.\",\n        trigger: 'iframe #top_menu .nav-item a.o_mega_menu_toggle:contains(\"Megaaaaa!\")',\n        run: () => {}, // It's a check.\n    },\n    // Add a menu item in edit mode.\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Click on a menu item\",\n        trigger: 'iframe #top_menu .nav-item a',\n    },\n    {\n        content: \"Click on Edit Menu\",\n        trigger: 'iframe .o_edit_menu_popover a.js_edit_menu',\n    },\n    {\n        content: \"Trigger the link dialog (click 'Add Menu Item')\",\n        extra_trigger: '.o_website_dialog:visible',\n        trigger: '.modal-body a:eq(0)',\n    },\n    {\n        content: \"Confirm the new menu entry without a label\",\n        extra_trigger: '.modal-dialog .o_website_dialog input:eq(0)',\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"It didn't save without a label. Fill label input.\",\n        extra_trigger: '.o_website_dialog:eq(1):visible',\n        trigger: '.modal-dialog .o_website_dialog input:eq(0)',\n        run: 'text Random!',\n    },\n    {\n        content: \"Confirm the new menu entry without a url\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"It didn't save without a url. Fill url input.\",\n        trigger: '.modal-dialog .o_website_dialog input:eq(1)',\n        extra_trigger: '.modal-dialog .o_website_dialog input.is-invalid',\n        run: 'text #',\n    },\n    {\n        content: \"Confirm the new menu entry\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Save the website menu with the new entry\",\n        trigger: '.modal-footer .btn-primary',\n        extra_trigger: '.oe_menu_editor .js_menu_label:contains(\"Random!\")',\n    },\n    // Edit the new menu item from the \"edit link\" popover button\n    wTourUtils.clickOnExtraMenuItem({extra_trigger: '#oe_snippets.o_loaded'}, true),\n    {\n        content: \"Menu should have a new link item\",\n        trigger: 'iframe #top_menu .nav-item a:contains(\"Random!\")',\n        // Don't click the new menu when the editor is still blocked.\n        extra_trigger: \".o_website_preview.editor_enable.editor_has_snippets:not(.o_is_blocked)\",\n    },\n    {\n        content: \"Click on Edit Link\",\n        trigger: 'iframe .o_edit_menu_popover a.o_we_edit_link',\n    },\n    {\n        content: \"Change the label\",\n        trigger: '.modal-dialog .o_website_dialog input:eq(0)',\n        run: 'text Modnar',\n    },\n    {\n        content: \"Confirm the new label\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    ...wTourUtils.clickOnSave(),\n    wTourUtils.clickOnExtraMenuItem({extra_trigger: 'iframe body:not(.editor_enable)'}, true),\n    {\n        content: \"Label should have changed\",\n        extra_trigger: \"iframe body:not(.editor_enable)\",\n        trigger: 'iframe #top_menu .nav-item a:contains(\"Modnar\")',\n        run: () => {}, // it's a check\n    },\n    // Edit the menu item from the \"edit menu\" popover button\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Click on the 'Modnar' link\",\n        trigger: 'iframe #top_menu .nav-item a:contains(\"Modnar\")',\n    },\n    {\n        content: \"Click on the popover Edit Menu button\",\n        trigger: 'iframe .o_edit_menu_popover a.js_edit_menu',\n    },\n    {\n        content: \"Click on the dialog Edit Menu button\",\n        trigger: '.oe_menu_editor .js_menu_label:contains(\"Modnar\")',\n        run: function () {\n            const liEl = this.$anchor[0].closest('[data-menu-id]');\n            liEl.querySelector('button.js_edit_menu').click();\n        },\n    },\n    {\n        content: \"Change the label\",\n        trigger: '.modal-dialog .o_website_dialog input:eq(0)',\n        run: 'text Modnar !!',\n    },\n    {\n        content: \"Confirm the new menu label\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Save the website menu with the new menu label\",\n        trigger: '.modal-footer .btn-primary',\n        extra_trigger: '.oe_menu_editor .js_menu_label:contains(\"Modnar !!\")',\n    },\n    // Drag a block to be able to scroll later.\n    wTourUtils.dragNDrop({id: 's_media_list', name: 'Media List'}),\n    ...wTourUtils.clickOnSave(),\n    wTourUtils.clickOnExtraMenuItem({extra_trigger: 'iframe body:not(.editor_enable)'}, true),\n    {\n        content: \"Label should have changed\",\n        trigger: 'iframe #top_menu .nav-item a:contains(\"Modnar !!\")',\n        run: () => {}, // It's a check.\n    },\n    // Nest menu item from the menu.\n    {\n        content: \"open site menu\",\n        trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n    },\n    {\n        content: \"Click on Edit Menu\",\n        trigger: 'a[data-menu-xmlid=\"website.menu_edit_menu\"]',\n    },\n    {\n        content: \"Drag item into parent\",\n        trigger: '.oe_menu_editor li:contains(\"Contact us\") > .ui-sortable-handle',\n        // Menu rows are 38px tall.\n        run: \"drag_move_and_drop [50,38]@.oe_menu_editor li:contains('Home') > .ui-sortable-handle => .oe_menu_editor li:contains('Home') .ui-sortable-placeholder\",\n    },\n    {\n        content: \"Wait for drop\",\n        trigger: '.oe_menu_editor li:contains(\"Home\") ul li:contains(\"Contact us\")',\n        run: () => {}, // It's a check.\n    },\n    // Drag the Mega menu to the first position.\n    {\n        content: \"Drag Mega at the top\",\n        trigger: '.oe_menu_editor li:contains(\"Megaaaaa!\") > .ui-sortable-handle',\n        run: \"drag_move_and_drop [0,0]@.oe_menu_editor li:contains('Home') > .ui-sortable-handle => .oe_menu_editor li\",\n    },\n    {\n        content: \"Wait for drop\",\n        trigger: '.oe_menu_editor:first-child:contains(\"Megaaaaa!\")',\n        run: () => {}, // It's a check.\n    },\n    {\n        content: \"Save the website menu with new nested menus\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    {\n        content: \"Menu item should have a child\",\n        trigger: 'iframe #top_menu .nav-item a.dropdown-toggle:contains(\"Home\")',\n    },\n    // Check that with the auto close of dropdown menus, the dropdowns remain\n    // openable.\n    {\n        content: \"When menu item is opened, child item must appear in the shown menu\",\n        trigger: 'iframe #top_menu .nav-item:contains(\"Home\") ul.show li a.dropdown-item:contains(\"Contact us\")[href=\"/contactus\"]',\n        run: function () {\n            // Scroll down.\n            this.$anchor[0].closest('body').querySelector('.o_footer_copyright_name')\n                .scrollIntoView(true);\n        },\n    },\n    {\n        content: \"The Home menu should be closed\",\n        trigger: 'iframe #top_menu .nav-item:contains(\"Home\"):has(ul:not(.show))',\n        run: () => {}, // It's a check.\n    },\n    {\n        content: \"Open the Home menu after scroll\",\n        trigger: 'iframe #top_menu .nav-item a.dropdown-toggle:contains(\"Home\")',\n    },\n    {\n        content: \"Check that the Home menu is opened\",\n        trigger: 'iframe #top_menu .nav-item:contains(\"Home\") ul.show li' +\n            ' a.dropdown-item:contains(\"Contact us\")[href=\"/contactus\"]',\n        run: () => {}, // It's a check.\n    },\n    {\n        content: \"Close the Home menu\",\n        trigger: 'iframe #top_menu .nav-item:has(a.dropdown-toggle:contains(\"Home\"))',\n    },\n    {\n        content: \"Check that the Home menu is closed\",\n        trigger: 'iframe #top_menu .nav-item:contains(\"Home\"):has(ul:not(.show))',\n        run: () => {}, // It's a check.\n    },\n    {\n        content: \"Open the mega menu\",\n        trigger: 'iframe #top_menu .nav-item a.o_mega_menu_toggle:contains(\"Megaaaaa!\")',\n    },\n    {\n        content: \"When the mega menu is opened, scroll up\",\n        trigger: 'iframe #top_menu .o_mega_menu_toggle.show',\n        run: function () {\n            const marginTopOfMegaMenu = getComputedStyle(\n                this.$anchor[0].closest('.dropdown').querySelector('.o_mega_menu'))['margin-top'];\n            if (marginTopOfMegaMenu !== '0px') {\n                console.error('The margin-top of the mega menu should be 0px');\n            }\n            // Scroll up.\n            this.$anchor[0].closest('body').querySelector('.s_media_list_item:nth-child(2)')\n                .scrollIntoView(true);\n        }\n    },\n    {\n        content: \"Check that the mega menu is closed\",\n        trigger: 'iframe #top_menu .nav-item:contains(\"Megaaaaa!\"):has(div[data-name=\"Mega Menu\"]:not(.show))',\n        run:() => {}, // It's a check.\n    },\n    {\n        content: \"Open the mega menu after scroll\",\n        trigger: 'iframe #top_menu .nav-item a.o_mega_menu_toggle:contains(\"Megaaaaa!\")',\n    },\n    {\n        content: \"Check that the mega menu is opened\",\n        trigger: 'iframe #top_menu .nav-item:has(a.o_mega_menu_toggle:contains(\"Megaaaaa!\")) ' +\n                 '.s_mega_menu_odoo_menu',\n        run: () => {}, // It's a check.\n    }\n]);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport wTourUtils from \"website.tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('edit_translated_page_redirect', {\n    test: true,\n    url: '/nl/contactus',\n    steps: () => [\n    {\n        content: \"Enter backend\",\n        trigger: 'a.o_frontend_to_backend_edit_btn',\n    },\n    {\n        content: \"Check the data-for attribute\",\n        trigger: 'iframe main:has([data-for=\"contactus_form\"])',\n        run: () => {}, // it's a check\n        },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Go to /nl\",\n        trigger: \"body\",\n        run: () => {\n            // After checking the presence of the editor dashboard, we visit a\n            // translated version of the homepage. The homepage is a special\n            // case (there is no trailing slash), so we test it separately.\n            location.href = '/nl';\n        },\n    },\n    {\n        content: \"Enter backend\",\n        trigger: 'a.o_frontend_to_backend_edit_btn',\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n]});\n", "/** @odoo-module **/\n\nimport wTourUtils from 'website.tour_utils';\n\nconst blockIDToData = {\n    parent: {\n        selector: 'iframe .s_focusblur',\n        name: 'section',\n        overlayIndex: 2,\n    },\n    child1: {\n        selector: 'iframe .s_focusblur_child1',\n        name: 'first child',\n        overlayIndex: 1,\n    },\n    child2: {\n        selector: 'iframe .s_focusblur_child2',\n        name: 'second child',\n        overlayIndex: 0,\n    },\n};\n\nfunction clickAndCheck(blockID, expected) {\n    const blockData = blockIDToData[blockID] || {};\n\n    return [{\n        content: blockID ? `Enable the ${blockData.name}` : 'Disable all blocks',\n        trigger: blockData.selector || 'iframe #wrapwrap',\n    }, {\n        content: 'Once the related overlays are enabled/disabled, check that the focus/blur calls have been correct.',\n        trigger: blockID\n            ? `iframe .oe_overlay.ui-draggable:eq(${blockData.overlayIndex}).oe_active`\n            : `iframe #oe_manipulators:not(:has(.oe_active))`,\n        allowInvisible: !blockID,\n        run: function (actions) {\n            const result = window.focusBlurSnippetsResult;\n            window.focusBlurSnippetsResult = [];\n\n            if (expected.length !== result.length\n                    || !expected.every((item, i) => item === result[i])) {\n                console.error(`\n                    Expected: ${expected.toString()}\n                    Result: ${result.toString()}\n                `);\n            }\n        },\n    }];\n}\n\nwindow.focusBlurSnippetsResult = [];\n\nwTourUtils.registerWebsitePreviewTour(\"focus_blur_snippets\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, [\n    {\n        content: 'Drag the custom block into the page',\n        trigger: '#snippet_structure .oe_snippet:has(.oe_snippet_body.s_focusblur) .oe_snippet_thumbnail',\n        run: 'drag_and_drop iframe #wrap',\n    },\n    ...clickAndCheck('parent', ['focus parent']),\n    ...clickAndCheck(null, ['blur parent']),\n    ...clickAndCheck('child1', ['focus parent', 'focus child1']),\n    ...clickAndCheck('child1', []),\n    ...clickAndCheck(null, ['blur parent', 'blur child1']),\n    ...clickAndCheck('parent', ['focus parent']),\n    ...clickAndCheck('child1', ['blur parent', 'focus parent', 'focus child1']),\n    ...clickAndCheck('child2', ['blur parent', 'blur child1', 'focus parent', 'focus child2']),\n    ...clickAndCheck('parent', ['blur parent', 'blur child2', 'focus parent']),\n]);\n", "/** @odoo-module **/\nimport wTourUtils from 'website.tour_utils';\n\nfunction waitForCSSReload() {\n    // TODO we should find a better way to wait for this in tests after CSS\n    // reload, it is currently done multiple different ways depending on the\n    // test.\n    return [\n        {\n            // This step is here because the option is applied but triggers a\n            // reloading of the CC value, so if the second value is sent too\n            // soon, it will be ignored. Clicking on the snippet tab and back\n            // will ensure that the mutex is cleared, and therefore we can apply\n            // the saturation step.\n            content: \"Click on the blocks tab and back on theme to ensure the changes are applied\",\n            trigger: '.o_we_add_snippet_btn',\n        },\n        {\n            content: \"Go back to theme options\",\n            trigger: '.o_we_customize_theme_btn',\n            extra_trigger: '#o_scroll',\n        },\n        {\n            content: \"Wait for no loading\",\n            trigger: 'body:not(:has(.o_we_ui_loading)) iframe body:not(:has(.o_we_ui_loading))',\n            run: () => null,\n        },\n    ];\n}\n\nwTourUtils.registerWebsitePreviewTour('website_gray_color_palette', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\n    {\n        content: \"Go to theme options\",\n        trigger: '.o_we_customize_theme_btn',\n    },\n    {\n        content: \"Toggle gray color palette\",\n        trigger: '.o_we_gray_preview.o_we_collapse_toggler',\n    },\n    {\n        content: \"Drag the hue slider\",\n        trigger: '.o_we_slider_tint[data-param=\"gray-hue\"]',\n        run: () => {\n            const slider = document.querySelector('.o_we_slider_tint[data-param=\"gray-hue\"] input');\n            slider.value = 100;\n            slider.dispatchEvent(new InputEvent('change', {bubbles: true}));\n        },\n    },\n    {\n        content: \"Check the preview of the gray 900 after hue change\",\n        trigger: '[variable=\"900\"][style=\"background-color: rgb(36, 41, 33) !important;\"]',\n        run: () => {}, // This is a check.\n    },\n    ...waitForCSSReload(),\n    {\n        content: \"Drag the saturation slider\",\n        trigger: '.o_we_user_value_widget[data-param=\"gray-extra-saturation\"]',\n        run: () => {\n            const slider = document.querySelector('.o_we_user_value_widget[data-param=\"gray-extra-saturation\"] input');\n            slider.value = 15;\n            slider.dispatchEvent(new InputEvent('change', {bubbles: true}));\n        }\n    },\n    {\n        content: \"Check the preview of the gray 900 after saturation change\",\n        trigger: '[variable=\"900\"][style=\"background-color: rgb(34, 47, 27) !important;\"]',\n        run: () => {}, // This is a check.\n    },\n    ...waitForCSSReload(),\n    {\n        content: \"Wait for the iframe to be loaded\",\n        trigger: 'iframe body',\n        run: () => {\n            const iframeEl = document.querySelector('.o_website_preview .o_iframe');\n            const styles = iframeEl.contentWindow.getComputedStyle(iframeEl.contentDocument.documentElement);\n            if (styles.getPropertyValue('--900').toString().replace(/ /g, '') !== '#222F1B') {\n                console.error('The value for the gray 900 is not right');\n            }\n        }\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('website_replace_grid_image', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    wTourUtils.clickOnSnippet({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    {\n        content: \"Toggle to grid mode\",\n        trigger: '.o_we_user_value_widget[data-name=\"grid_mode\"]',\n    },\n    {\n        content: \"Replace image\",\n        trigger: 'iframe .s_text_image img',\n        run: 'dblclick',\n    },\n    {\n        content: \"Pick new image\",\n        trigger: '.o_select_media_dialog img[title=\"s_banner_default_image.jpg\"]',\n    },\n    {\n        content: \"Add new image column\",\n        trigger: '.o_we_user_value_widget[data-add-element=\"image\"]',\n    },\n    {\n        content: \"Replace new image\",\n        trigger: 'iframe .s_text_image img[src=\"/web/image/website.s_text_image_default_image\"]',\n        run: 'dblclick',\n    },\n    {\n        content: \"Pick new image\",\n        trigger: '.o_select_media_dialog img[title=\"s_banner_default_image.jpg\"]',\n    },\n    ...wTourUtils.clickOnSave()\n]);\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nimport wTourUtils from \"website.tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"test_hide_chat_window_on_preview\", {\n    test: true,\n    steps: () => [\n        {\n            trigger: \".o-mail-ChatWindow\",\n            run() {\n                window.location.href = wTourUtils.getClientActionUrl(\"/\");\n            },\n        },\n        {\n            trigger: \".o_website_preview\",\n            run() {\n                if (document.querySelector(\".o-mail-ChatWindow\")) {\n                    throw new Error(\"Chat window should not be visible\");\n                }\n            },\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport wTourUtils from \"website.tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour('homepage_edit_discard', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [{\n    trigger: \"#oe_snippets button[data-action=\\\"cancel\\\"]:not([disabled])\",\n    extra_trigger: \"body:not(:has(.o_dialog))\",\n    content: \"<b>Click Discard</b> to Discard all Changes.\",\n    position: \"bottom\",\n}, {\n    trigger: \"iframe body:not(.editor_enable)\",\n    auto: true,\n    run: () => null,\n}]);\n", "/** @odoo-module**/\n/* global ace */\n\nimport wTourUtils from \"website.tour_utils\";\n\nconst adminCssModif = '#wrap {display: none;}';\nconst demoCssModif = '// demo_edition';\n\nwTourUtils.registerWebsitePreviewTour('html_editor_multiple_templates', {\n    url: '/generic',\n    edition: true,\n    test: true,\n},\n    [\n        {\n            content: \"drop a snippet\",\n            trigger: \".oe_snippet:has(.s_cover) .oe_snippet_thumbnail\",\n            // id starting by 'oe_structure..' will actually create an inherited view\n            run: \"drag_and_drop iframe #oe_structure_test_ui\",\n        },\n        ...wTourUtils.clickOnSave(),\n        // 2. Edit generic view\n        {\n            content: \"open site menu\",\n            extra_trigger: \"iframe body:not(.editor_enable)\",\n            trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n        },\n        {\n            content: \"open html editor\",\n            trigger: 'a[data-menu-xmlid=\"website.menu_ace_editor\"]',\n        },\n        {\n            content: \"add something in the generic view\",\n            trigger: 'div.ace_line .ace_xml:contains(\"Generic\")',\n            run: function () {\n                ace.edit('ace-view-editor').getSession().insert({row: 3, column: 1}, '<p>somenewcontent</p>\\n');\n            },\n        },\n        // 3. Edit oe_structure specific view\n        {\n            content: \"select oe_structure specific view\",\n            trigger: 'div.ace_line .ace_xml:contains(\"somenewcontent\")',\n            run: function () {\n                var viewId = $('#ace-view-list option:contains(\"oe_structure_test_ui\")').val();\n                $('#ace-view-list').val(viewId).trigger('change');\n            },\n        },\n        {\n            content: \"add something in the oe_structure specific view\",\n            extra_trigger: '#ace-view-id:contains(\"test.generic_view_oe_structure_test_ui\")', // If no xml_id it should show key\n            trigger: 'div.ace_line .ace_xml:contains(\"s_cover\")',\n            run: function () {\n                ace.edit('ace-view-editor').getSession().insert({row: 2, column: 1}, '<p>anothernewcontent</p>\\n');\n            },\n        },\n        {\n            content: \"save the html editor\",\n            extra_trigger: 'div.ace_line .ace_xml:contains(\"anothernewcontent\")',\n            trigger: \".o_ace_view_editor button[data-action=save]\",\n        },\n        {\n           content: \"check that the page has both modification\",\n           extra_trigger: 'iframe #wrapwrap:contains(\"anothernewcontent\")',\n           trigger: 'iframe #wrapwrap:contains(\"somenewcontent\")',\n           run: function () {}, // it's a check\n       },\n    ]\n);\n\nwTourUtils.registerWebsitePreviewTour('test_html_editor_scss', {\n    url: '/contactus',\n    test: true,\n},\n    [\n        // 1. Open Html Editor and select a scss file\n        {\n            content: \"open site menu\",\n            extra_trigger: 'iframe #wrap:visible', // ensure state for later\n            trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n        },\n        {\n            content: \"open html editor\",\n            trigger: 'a[data-menu-xmlid=\"website.menu_ace_editor\"]',\n        },\n        {\n            content: \"open type switcher\",\n            trigger: '.o_ace_type_switcher button',\n        },\n        {\n            content: \"select scss files\",\n            trigger: '.o_ace_type_switcher_choice[data-type=\"scss\"]',\n        },\n        {\n            content: \"select 'user_custom_rules'\",\n            trigger: 'body:has(#ace-scss-list option:contains(\"user_custom_rules\"))',\n            run: function () {\n                var scssId = $('#ace-scss-list option:contains(\"user_custom_rules\")').val();\n                $('#ace-scss-list').val(scssId).trigger('change');\n            },\n        },\n        // 2. Edit that file and ensure it was saved then reset it\n        {\n            content: \"add some scss content in the file\",\n            trigger: 'div.ace_line .ace_comment:contains(\"footer {\")',\n            run: function () {\n                ace.edit('ace-view-editor').getSession().insert({row: 2, column: 0}, `${adminCssModif}\\n`);\n            },\n        },\n        {\n            content: \"save the html editor\",\n            extra_trigger: `div.ace_line:contains(\"${adminCssModif}\")`,\n            trigger: \".o_ace_view_editor button[data-action=save]\",\n        },\n         {\n            content: \"check that the scss modification got applied\",\n            trigger: 'iframe body:has(#wrap:hidden)',\n            run: function () {}, // it's a check\n            timeout: 30000, // SCSS compilation might take some time\n        },\n        {\n            content: \"reset view (after reload, html editor should have been reopened where it was)\",\n            trigger: '#ace-view-id button[data-action=\"reset\"]:not([disabled])',\n        },\n        {\n            content: \"confirm reset warning\",\n            trigger: '.modal-footer .btn-primary',\n        },\n        {\n            content: \"check that the scss file was reset correctly, wrap content should now be visible again\",\n            trigger: 'iframe #wrap:visible',\n            run: function () {}, // it's a check\n            timeout: 30000, // SCSS compilation might take some time\n        },\n        // 3. Customize again that file (will be used in second part of the test\n        //    to ensure restricted user can still use the HTML Editor)\n        {\n            content: \"add some scss content in the file\",\n            trigger: 'div.ace_line .ace_comment:contains(\"footer {\")',\n            run: function () {\n                ace.edit('ace-view-editor').getSession().insert({row: 2, column: 0}, `${adminCssModif}\\n`);\n            },\n        },\n        {\n            content: \"save the html editor\",\n            extra_trigger: `div.ace_line:contains(\"${adminCssModif}\")`,\n            trigger: '.o_ace_view_editor button[data-action=save]',\n        },\n        {\n            content: \"check that the scss modification got applied\",\n            trigger: 'iframe body:has(#wrap:hidden)',\n            run: function () {}, // it's a check\n        },\n    ]\n);\n\nwTourUtils.registerWebsitePreviewTour('test_html_editor_scss_2', {\n    url: '/',\n    test: true,\n},\n    [\n        // This part of the test ensures that a restricted user can still use\n        // the HTML Editor if someone else made a customization previously.\n\n        // 4. Open Html Editor and select a scss file\n        {\n            content: \"open site menu\",\n            trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n        },\n        {\n            content: \"open html editor\",\n            trigger: 'a[data-menu-xmlid=\"website.menu_ace_editor\"]',\n        },\n        {\n            content: \"open type switcher\",\n            trigger: '.o_ace_type_switcher button',\n        },\n        {\n            content: \"select scss files\",\n            trigger: '.o_ace_type_switcher_choice[data-type=\"scss\"]',\n        },\n        {\n            content: \"select 'user_custom_rules'\",\n            trigger: 'body:has(#ace-scss-list option:contains(\"user_custom_rules\"))',\n            run: function () {\n                var scssId = $('#ace-scss-list option:contains(\"user_custom_rules\")').val();\n                $('#ace-scss-list').val(scssId).trigger('change');\n            },\n        },\n        // 5. Edit that file and ensure it was saved then reset it\n        {\n            content: \"add some scss content in the file\",\n            trigger: `div.ace_line:contains(\"${adminCssModif}\")`, // ensure the admin modification is here\n            run: function () {\n                ace.edit('ace-view-editor').getSession().insert({row: 2, column: 0}, `${demoCssModif}\\n`);\n            },\n        },\n        {\n            content: \"save the html editor\",\n            extra_trigger: `div.ace_line:contains(\"${demoCssModif}\")`,\n            trigger: \".o_ace_view_editor button[data-action=save]\",\n        },\n        {\n            content: \"reset view (after reload, html editor should have been reopened where it was)\",\n            trigger: '#ace-view-id button[data-action=\"reset\"]:not([disabled])',\n            timeout: 30000, // SCSS compilation might take some time\n        },\n        {\n            content: \"confirm reset warning\",\n            trigger: '.modal-footer .btn-primary',\n        },\n        {\n            content: \"check that the scss file was reset correctly\",\n            extra_trigger: `body:not(:has(div.ace_line:contains(\"${adminCssModif}\")))`,\n            trigger: `body:not(:has(div.ace_line:contains(\"${demoCssModif}\")))`,\n            run: function () {}, // it's a check\n            timeout: 30000, // SCSS compilation might take some time\n        },\n    ]\n);\n", "/** @odoo-module */\n\nimport wTourUtils from 'website.tour_utils';\n\nconst clickOnImgStep = {\n    content: \"Click somewhere else to save.\",\n    trigger: 'iframe #wrap .s_text_image img',\n};\n\nwTourUtils.registerWebsitePreviewTour('link_tools', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\n    // 1. Create a new link from scratch.\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    {\n        content: \"Replace first paragraph, to insert a new link\",\n        trigger: 'iframe #wrap .s_text_image p',\n        run: 'text Go to odoo: '\n    },\n    {\n        content: \"Open link tools\",\n        trigger: \"#toolbar:not(.oe-floating) #create-link\",\n    },\n    {\n        content: \"Type the link URL odoo.com\",\n        trigger: '#toolbar:not(.oe-floating) #o_link_dialog_url_input',\n        run: 'text odoo.com'\n    },\n    clickOnImgStep,\n    // 2. Edit the link with the link tools.\n    {\n        content: \"Click on the newly created link\",\n        trigger: 'iframe .s_text_image a[href=\"http://odoo.com\"]:contains(\"odoo.com\")',\n    },\n    {\n        content: \"Label value should contain odoo.com\",\n        trigger: '#o_link_dialog_label_input',\n        run: () => {\n            if ($('#o_link_dialog_label_input').val() !== 'odoo.com') {\n                throw new Error('Label value should contain odoo.com');\n            }\n        },\n    },\n    {\n        content: \"Change content (editing the label input) to odoo website_2\",\n        trigger: '#o_link_dialog_label_input',\n        run: 'text odoo website_2',\n    },\n    {\n        content: \"Click again on the link\",\n        trigger: 'iframe .s_text_image a[href=\"http://odoo.com\"]:contains(\"odoo website_2\")',\n    },\n    {\n        content: \"Change content (editing the DOM) to odoo website\",\n        trigger: 'iframe .s_text_image a[href=\"http://odoo.com\"]:contains(\"odoo website_2\")',\n        run: 'text odoo website',\n    },\n    clickOnImgStep,\n    {\n        content: \"Click again on the link\",\n        trigger: 'iframe .s_text_image a[href=\"http://odoo.com\"]:contains(\"odoo website\")',\n    },\n    {\n        content: \"Label value should contain odoo website\",\n        trigger: '#o_link_dialog_label_input',\n        run: () => {\n            if ($('#o_link_dialog_label_input').val() !== 'odoo website') {\n                throw new Error('Label value should contain odoo website');\n            }\n        },\n    },\n    {\n        content: \"Link tools, should be open, change the url\",\n        trigger: '#o_link_dialog_url_input',\n        run: 'text odoo.be'\n    },\n\n    clickOnImgStep,\n    ...wTourUtils.clickOnSave(),\n    // 3. Edit a link after saving the page.\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    clickOnImgStep,\n    {\n        content: \"The new link content should be odoo website and url odoo.be\",\n        trigger: 'iframe .s_text_image a[href=\"http://odoo.be\"]:contains(\"odoo website\")',\n    },\n    {\n        content: \"The new link content should be odoo website and url odoo.be\",\n        trigger: '#toolbar:not(.oe-floating) .dropdown:has([name=\"link_style_color\"]) > button',\n    },\n    {\n        // When doing automated testing, the link popover takes time to\n        // hide. While hidding, the editor observer is unactive in order to\n        // prevent the popover mutation to be recorded. In a manual\n        // scenario, the popover has plenty of time to be hidden and the\n        // obsever would be re-activated in time. As this problem arise only\n        // in test, we make sure the popover is hidden\n        trigger: 'iframe html:not(:has(.popover))',\n        run: () => null, // it's a check\n    },\n    {\n        content: \"Click on the secondary style button.\",\n        trigger: '#toolbar:not(.oe-floating) we-button[data-value=\"secondary\"]',\n    },\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"The link should have the secondary button style.\",\n        trigger: 'iframe .s_text_image a.btn.btn-secondary[href=\"http://odoo.be\"]:contains(\"odoo website\")',\n        run: () => {}, // It's a check.\n    },\n    // 4. Add link on image.\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.dragNDrop({\n        id: 's_three_columns',\n        name: 'Columns',\n    }),\n    {\n        content: \"Click on the first image.\",\n        trigger: 'iframe .s_three_columns .row > :nth-child(1) img',\n    },\n    {\n        content: \"Activate link.\",\n        trigger: '.o_we_customize_panel we-row:contains(\"Media\") we-button.fa-link',\n    },\n    {\n        content: \"Set URL.\",\n        trigger: '.o_we_customize_panel we-input:contains(\"Your URL\") input',\n        run: 'text odoo.com',\n    },\n    {\n        content: \"Deselect image.\",\n        trigger: 'iframe .s_three_columns .row > :nth-child(2) img',\n    },\n    {\n        content: \"Re-select image.\",\n        trigger: 'iframe .s_three_columns .row > :nth-child(1) img',\n    },\n    {\n        content: \"Check that the second image is not within a link.\",\n        trigger: 'iframe .s_three_columns .row > :nth-child(2) div > img',\n        run: () => {}, // It's a check.\n    },\n    {\n        content: \"Check that link tools appear.\",\n        trigger: 'iframe .popover div a:contains(\"http://odoo.com\")',\n        run: () => {}, // It's a check.\n    },\n    // 5. Remove link from image.\n    {\n        content: \"Remove link.\",\n        trigger: 'iframe .popover:contains(\"http://odoo.com\") a .fa-chain-broken',\n    },\n    {\n        content: \"Check that image is not within a link anymore.\",\n        trigger: 'iframe .s_three_columns .row > :nth-child(1) div > img',\n        run: () => {}, // It's a check.\n    },\n    // 6. Add mega menu with Cards template and edit URL on text-selected card.\n    wTourUtils.clickOnElement(\"menu link\", \"iframe header .nav-item a\"),\n    wTourUtils.clickOnElement(\"'Edit menu' icon\", \"iframe .o_edit_menu_popover .fa-sitemap\"),\n    {\n        content: \"Click on 'Add Mega Menu Item' link\",\n        extra_trigger: '.o_website_dialog:visible',\n        trigger: \".modal-body a:contains('Add Mega Menu Item')\",\n    },\n    {\n        content: \"Enter mega menu name\",\n        trigger: \".modal-body input\",\n        run: \"text Mega\",\n    },\n    wTourUtils.clickOnElement(\"OK button\", \".btn-primary\"),\n    {\n        content: \"Drag Mega at the top\",\n        trigger: '.oe_menu_editor li:contains(\"Mega\") .fa-bars',\n        run: \"drag_move_and_drop [0,0]@.oe_menu_editor li:contains('Home') .fa-bars => .oe_menu_editor li\",\n    },\n    {\n        content: \"Wait for drop\",\n        trigger: '.oe_menu_editor:first-child:contains(\"Mega\")',\n        run: () => {}, // This is a check.\n    },\n    wTourUtils.clickOnElement(\"Save button\", \".btn-primary:contains('Save')\"),\n    wTourUtils.clickOnElement(\"mega menu\", \"iframe header .o_mega_menu_toggle\"),\n    wTourUtils.changeOption(\"MegaMenuLayout\", \"we-toggler\"),\n    wTourUtils.changeOption(\"MegaMenuLayout\", '[data-select-label=\"Cards\"]'),\n    wTourUtils.clickOnElement(\"card's text\", \"iframe header .s_mega_menu_cards font\"),\n    {\n        content: \"Enter an URL\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: \"text https://www.odoo.com\",\n    },\n    {\n        content: \"Check nothing is lost\",\n        trigger: \"iframe header .s_mega_menu_cards a[href='https://www.odoo.com']:has(img):has(h4):has(p font)\",\n        run: () => {}, // This is a check.\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour(\"website_media_dialog_undraw\", {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\nwTourUtils.dragNDrop({\n    id: 's_text_image',\n    name: 'Text - Image',\n}),\n{\n    trigger: '.s_text_image img',\n    run: \"dblclick\",\n},\n{\n    trigger: '.o_select_media_dialog:has(.o_we_search_select option[value=\"media-library\"])',\n},\n]);\n\nwTourUtils.registerWebsitePreviewTour('website_media_dialog_icons', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\n    wTourUtils.dragNDrop({\n        id: 's_process_steps',\n        name: 'Steps',\n    }),\n    {\n        content: \"Open MediaDialog from a snippet icon\",\n        trigger: 'iframe .s_process_steps .fa-unlock-alt',\n        run: \"dblclick\",\n    },\n    {\n        content: \"Pick the same icon\",\n        trigger: '.o_select_media_dialog .o_we_attachment_selected.fa-unlock-alt',\n    },\n    {\n        content: \"Check if the icon remains the same\",\n        trigger: 'iframe .s_process_steps .fa-unlock-alt',\n        run: () => null, // it's a check\n    },\n    {\n        content: \"Open MediaDialog again\",\n        trigger: 'iframe .s_process_steps .fa-unlock-alt',\n        run: \"dblclick\",\n    },\n    {\n        content: \"Click on the ADD button\",\n        trigger: '.o_select_media_dialog .btn:contains(Add)',\n    },\n    {\n        content: \"Check if the icon remains the same\",\n        trigger: 'iframe .s_process_steps .fa-unlock-alt',\n        run: () => null, // it's a check\n    },\n    ...wTourUtils.clickOnSave()\n]);\n\nwTourUtils.registerWebsitePreviewTour(\"website_media_dialog_image_shape\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, [\n    wTourUtils.dragNDrop({\n        id: \"s_text_image\",\n        name: \"Text - Image\",\n    }),\n    {\n        content: \"Click on the image\",\n        trigger: \"iframe .s_text_image img\",\n    },\n    wTourUtils.changeOption(\"ImageTools\", 'we-select[data-name=\"shape_img_opt\"] we-toggler'),\n    wTourUtils.changeOption(\"ImageTools\", \"we-button[data-set-img-shape]\"),\n    {\n        content: \"Open MediaDialog from an image\",\n        trigger: \"iframe .s_text_image img[data-shape]\",\n        run: \"dblclick\",\n    },\n    {\n        content: \"Click on the 'Icons' tab\",\n        trigger: '.o_select_media_dialog .o_notebook_headers .nav-item a:contains(\"Icons\")',\n    },\n    {\n        content: \"Select an icon\",\n        trigger: \".o_select_media_dialog:has(.nav-link.active:contains('Icons')) .tab-content span.fa-heart\",\n    },\n    {\n        content: \"Checks that the icon doesn't have a shape\",\n        trigger: \"iframe .s_text_image .fa-heart:not([data-shape])\",\n        run: () => {}, //it's a check\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('website_multi_edition', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\n    {\n        content: 'Check the current page has not the elements that will be added',\n        trigger: 'iframe body:not(:has(.s_text_image)):not(:has(.s_hr))',\n        run: () => null,\n    },\n    // Edit the main element of the page\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    // Edit another part in the page, like the footer\n    wTourUtils.dragNDrop({\n        id: 's_hr',\n        name: 'Separator',\n    }),\n    ...wTourUtils.clickOnSave(),\n    {\n        content: 'Check that the main element of the page was properly saved',\n        trigger: 'iframe main .s_text_image',\n        run: () => null,\n    },\n    {\n        content: 'Check that the footer was properly saved',\n        trigger: 'iframe footer .s_hr',\n        run: () => null,\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from 'website.tour_utils';\n\n// TODO: This part should be moved in a QUnit test\nconst checkKanbanGroupBy = [{\n    content: \"Click on Kanban View\",\n    trigger: '.o_cp_switch_buttons .o_kanban',\n}, {\n    content: \"Open search panel menu\",\n    extra_trigger: '.o_kanban_renderer',\n    trigger: '.o_control_panel .o_searchview_dropdown_toggler',\n}, {\n    content: \"Click on Add Custom Group\",\n    trigger: '.o_add_custom_group_menu',\n}, {\n    content: \"Click on Apply\", // Active is selected by default\n    trigger: '.o_add_custom_group_menu + .o_accordion_values .btn-primary',\n}, {\n    content: \"Click on List View\",\n    extra_trigger: '.o_kanban_renderer .o_kanban_header',\n    trigger: '.o_cp_switch_buttons .o_list',\n}, {\n    content: \"Remove applied Group By\",\n    extra_trigger: '.o_list_renderer',\n    trigger: '.o_cp_searchview .o_facet_remove',\n}];\n\nconst checkWebsiteFilter = [{\n\tcontent: \"Click on the search options\",\n\ttrigger: \".o_searchview_dropdown_toggler\",\n}, {\n\tcontent: \"Select My Website 2\",\n\ttrigger: \".o_dropdown_container.o_website_menu > .dropdown-item:contains('My Website 2')\",\n}, {\n\tcontent: \"Check that the homepage is now the one of My Website 2\",\n\ttrigger: \".o_list_table .o_data_row .o_data_cell[name=name]:contains('Home') \" +\n\t\t\t \"~ .o_data_cell[name=website_id]:contains('My Website 2')\",\n\trun: () => null, // it's a check\n}, {\n\tcontent: \"Check that the search options are still open\",\n\ttrigger: \".o_search_bar_menu\",\n\trun: () => null, // it's a check\n}, {\n\tcontent: \"Go back to My Website\",\n\ttrigger: \".o_dropdown_container.o_website_menu > .dropdown-item:contains('My Website')\",\n}, {\n\tcontent: \"Check that the homepage is now the one of My Website\",\n\ttrigger: \".o_list_table .o_data_row .o_data_cell[name=name]:contains('Home') \" +\n\t\t\t \"~ .o_data_cell[name=website_id]:contains('My Website'):not(:contains('2'))\",\n\trun: () => null, // it's a check\n}];\n\nconst deleteSelectedPage = [\n    {\n        content: \"Click on Action\",\n        trigger: '.o_cp_action_menus button',\n    },\n    {\n        content: \"Click on Delete\",\n        trigger: '.o-dropdown--menu span:contains(\"Delete\")',\n    },\n    {\n        content: \"Click on I am sure about this\",\n        trigger: 'main.modal-body input[type=\"checkbox\"]',\n        // The loading of the dependencies can take a while and\n        // sometimes reach the default 10s timeout\n        timeout: 20000,\n    },\n    {\n        content: \"Click on OK\",\n        trigger: '.modal-content footer button.btn-primary:not([disabled])',\n    }\n];\nconst homePage = 'tr:contains(\"Home\")';\n\nwTourUtils.registerWebsitePreviewTour('website_page_manager', {\n    test: true,\n    url: '/',\n}, [\n    {\n        content: \"Click on Site\",\n        trigger: 'button.dropdown-toggle[data-menu-xmlid=\"website.menu_site\"]',\n    },\n    {\n        content: \"Click on Pages\",\n        trigger: 'a.dropdown-item[data-menu-xmlid=\"website.menu_website_pages_list\"]',\n    },\n    ...checkKanbanGroupBy,\n    ...checkWebsiteFilter,\n    {\n        content: \"Click on Home Page\",\n        trigger: `.o_list_renderer ${homePage} td.o_list_record_selector input[type=\"checkbox\"]`,\n    },\n    ...deleteSelectedPage,\n    {\n        content: \"Check that the page has been removed\",\n        trigger: `.o_list_renderer:not(:has(${homePage}))`,\n        run: () => null,\n    },\n    {\n        content: \"Click on All Pages\",\n        trigger: '.o_list_renderer thead input[type=\"checkbox\"]',\n    },\n    ...deleteSelectedPage,\n    {\n        content: \"Check that all pages have been removed\",\n        trigger: '.o_list_renderer tbody:not(:has([data-id]))',\n        run: () => null,\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"website.tour_utils\";\n\nconst coverSnippet = {id: \"s_cover\", name: \"Cover\"};\n\nwTourUtils.registerWebsitePreviewTour(\"test_parallax\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, [\n    wTourUtils.dragNDrop(coverSnippet),\n    wTourUtils.clickOnSnippet(coverSnippet),\n    wTourUtils.changeOption(\"BackgroundOptimize\", \"we-toggler\"),\n    wTourUtils.changeOption(\"BackgroundOptimize\", 'we-button[data-gl-filter=\"blur\"]'),\n{\n    content: \"Check that the Cover snippet has the Blur filter on its background image\",\n    trigger: \"iframe .s_cover span[data-gl-filter='blur']\",\n    isCheck: true,\n},\n    wTourUtils.changeOption(\"Parallax\", \"we-toggler\"),\n    wTourUtils.changeOption(\"Parallax\", 'we-button[data-select-data-attribute=\"0\"]'),\n{\n    content: \"Check that the data related to the filter have been transferred to the new target\",\n    trigger: \"iframe .s_cover[data-gl-filter='blur']\",\n    isCheck: true,\n},\n{\n    content: \"Check that the 'o_modified_image_to_save' class has been transferred to the new target\",\n    trigger: \"iframe .s_cover.o_modified_image_to_save\",\n    isCheck: true,\n},\n    wTourUtils.changeOption(\"Parallax\", \"we-toggler\"),\n    wTourUtils.changeOption(\"Parallax\", 'we-button[data-select-data-attribute=\"1\"]'),\n{\n    content: \"Check that the 'o_modified_image_to_save' class has been deleted from the old target\",\n    trigger: \"iframe .s_cover:not(.o_modified_image_to_save)\",\n    isCheck: true,\n},\n{\n    content: \"Check that the 'o_modified_image_to_save' class has been transferred to the new target\",\n    trigger: \"iframe span.s_parallax_bg.o_modified_image_to_save\",\n    isCheck: true,\n},\n{\n    content: \"Check that the data related to the filter have been transferred to the new target\",\n    trigger: \"iframe span.s_parallax_bg[data-gl-filter='blur']\",\n    isCheck: true,\n},\n]);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('public_user_editor', {\n    test: true,\n    steps: () => [{\n    trigger: '.note-editable',\n    run: function () {}, // Simple check\n}]});\n", "/** @odoo-module **/\n\nimport publicWidget from \"web.public.widget\";\nimport { loadWysiwygFromTextarea } from \"@web_editor/js/frontend/loadWysiwygFromTextarea\";\n\npublicWidget.registry['public_user_editor_test'] = publicWidget.Widget.extend({\n    selector: 'textarea.o_public_user_editor_test_textarea',\n\n    /**\n     * @override\n     */\n    start: async function () {\n        await this._super(...arguments);\n        await loadWysiwygFromTextarea(this, this.el, {});\n    },\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('website_reset_password', {\n    test: true,\n    steps: () => [\n    {\n        content: \"fill new password\",\n        trigger: '.oe_reset_password_form input[name=\"password\"]',\n        run: \"text adminadmin\"\n    },\n    {\n        content: \"fill confirm password\",\n        trigger: '.oe_reset_password_form input[name=\"confirm_password\"]',\n        run: \"text adminadmin\"\n    },\n    {\n        content: \"submit reset password form\",\n        trigger: '.oe_reset_password_form button[type=\"submit\"]',\n    },\n    {\n        content: \"check that we're logged in\",\n        trigger: '.o_user_menu .dropdown-toggle',\n        run: function () {}\n    },\n]});\n", "/** @odoo-module **/\n\nimport wTourUtils from \"website.tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\"restricted_editor\", {\n    test: true,\n    url: \"/\",\n}, [\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n]);\n", "/** @odoo-module **/\n\nimport session from \"web.session\";\nimport wTourUtils from \"website.tour_utils\";\nimport { Wysiwyg } from \"@web_editor/js/wysiwyg/wysiwyg\";\n\nvar domReady = new Promise(function (resolve) {\n    $(resolve);\n});\nvar ready = Promise.all([domReady, session.is_bound]);\n\nwTourUtils.registerWebsitePreviewTour('rte_translator', {\n    test: true,\n    url: '/',\n    wait_for: ready,\n}, [{\n    content: \"click language dropdown\",\n    trigger: 'iframe .js_language_selector .dropdown-toggle',\n}, {\n    content: \"click on Add a language\",\n    trigger: 'iframe a.o_add_language',\n}, {\n    content: \"type Parseltongue\",\n    trigger: 'div[name=\"lang_ids\"] .o_input_dropdown input',\n    run: 'text Parseltongue',\n}, {\n    content: 'select Parseltongue',\n    trigger: '.dropdown-item:contains(Parseltongue)',\n}, {\n    content: \"load Parseltongue\",\n    trigger: '.modal-footer .btn-primary',\n    extra_trigger: '.modal-dialog div[name=\"lang_ids\"] .rounded-pill .o_tag_badge_text:contains(Parseltongue)',\n}, {\n    content: \"click language dropdown (2)\",\n    trigger: 'iframe .js_language_selector .dropdown-toggle',\n    timeout: 60000,\n}, {\n    content: \"go to english version\",\n    trigger: 'iframe .js_language_selector a[data-url_code=\"en\"]',\n    extra_trigger: 'iframe html[lang*=\"pa-GB\"]',\n}, {\n    content: \"Open new page menu\",\n    trigger: \".o_menu_systray .o_new_content_container > a\",\n    extra_trigger: 'iframe html[lang*=\"en-US\"]',\n    consumeVisibleOnly: true,\n}, {\n    content: \"click on new page\",\n    trigger: '.o_new_content_element a',\n}, {\n    content: \"insert file name\",\n    trigger: '.modal-dialog input[type=\"text\"]',\n    run: 'text rte_translator.xml',\n}, {\n    content: \"create file\",\n    trigger: '.modal-dialog button.btn-primary',\n    extra_trigger: 'input[type=\"text\"]:propValue(rte_translator.xml)',\n}, {\n    content: \"click on the 'page manager' button\",\n    trigger: 'button[name=\"website.action_website_pages_list\"]',\n}, {\n    content: \"click on the record to display the xml file in the iframe\",\n    trigger: 'td:contains(\"rte_translator.xml\")',\n}, {\n    content: \"Open new page menu\",\n    trigger: \".o_menu_systray .o_new_content_container > a\",\n    consumeVisibleOnly: true,\n}, {\n    content: \"click on new page\",\n    trigger: '.o_new_content_element a',\n}, {\n    content: \"insert page name\",\n    trigger: '.modal-dialog input[type=\"text\"]',\n    run: 'text rte_translator',\n}, {\n    content: \"create page\",\n    trigger: '.modal-dialog button.btn-primary',\n    extra_trigger: 'input[type=\"text\"]:propValue(rte_translator)',\n}, {\n    content: \"drop a snippet\",\n    trigger: \"#snippet_structure .oe_snippet:eq(1) .oe_snippet_thumbnail\",\n    run: 'drag_and_drop iframe #wrap',\n}, {\n    content: \"change content\",\n    trigger: 'iframe #wrap',\n    run: function () {\n        $('iframe:not(.o_ignore_in_tour)').contents().find(\"#wrap p:first\").replaceWith('<p>Write one or <font style=\"background-color: yellow;\">two paragraphs <b>describing</b></font> your product or\\\n                <font style=\"color: rgb(255, 0, 0);\">services</font>. To be successful your content needs to be\\\n                useful to your <a href=\"/999\">readers</a>.</p> <input value=\"test translate default value\" placeholder=\"test translate placeholder\"/>\\\n                <p>&lt;b&gt;&lt;/b&gt; is an HTML&nbsp;tag &amp; is empty</p>');\n        $('iframe:not(.o_ignore_in_tour)').contents().find(\"#wrap img\").attr(\"title\", \"test translate image title\");\n    }\n}, {\n    content: \"save\",\n    trigger: 'button[data-action=save]',\n    extra_trigger: 'iframe #wrap p:first b',\n}, {\n    content: \"click language dropdown (3)\",\n    trigger: 'iframe .js_language_selector .dropdown-toggle',\n    extra_trigger: 'iframe body:not(.editor_enable)',\n}, {\n    content: \"click on Parseltongue version\",\n    trigger: 'iframe .js_language_selector a[data-url_code=\"pa_GB\"]',\n    extra_trigger: 'iframe html[lang*=\"en\"]',\n}, {\n    content: \"translate\",\n    trigger: '.o_menu_systray .o_translate_website_container > a',\n    extra_trigger: 'iframe html:not(:has(#wrap p span))',\n}, {\n    content: \"close modal\",\n    trigger: '.modal-footer .btn-secondary',\n}, {\n    content: \"check if translation is activate\",\n    trigger: 'iframe [data-oe-translation-initial-sha]',\n}, {\n    content: \"translate text\",\n    extra_trigger: '#oe_snippets.o_loaded',\n    trigger: 'iframe #wrap p font:first',\n    run: function (actionHelper) {\n        actionHelper.text('translated Parseltongue text');\n        Wysiwyg.setRange(this.$anchor.contents()[0], 22);\n        this.$anchor.trigger($.Event(\"keyup\", {key: '_', keyCode: 95}));\n        this.$anchor.trigger('input');\n    },\n}, {\n    content: \"translate text with special char\",\n    trigger: 'iframe #wrap input + p span:first',\n    run: function (actionHelper) {\n        actionHelper.click();\n        this.$anchor.prepend('&lt;{translated}&gt;');\n        Wysiwyg.setRange(this.$anchor.contents()[0], 0);\n        this.$anchor.trigger($.Event(\"keyup\", {key: '_', keyCode: 95}));\n        this.$anchor.trigger('input');\n    },\n}, {\n    content: \"click on input\",\n    trigger: 'iframe #wrap input:first',\n    extra_trigger: 'iframe #wrap .o_dirty font:first:contains(translated Parseltongue text)',\n    run: 'click',\n}, {\n    content: \"translate placeholder\",\n    trigger: '.modal-dialog input:first',\n    run: 'text test Parseltongue placeholder',\n}, {\n    content: \"translate default value\",\n    trigger: '.modal-dialog input:last',\n    run: 'text test Parseltongue default value',\n}, {\n    content: \"close modal\",\n    trigger: '.modal-footer .btn-primary',\n    extra_trigger: '.modal input:propValue(test Parseltongue placeholder)',\n}, {\n    content: \"check: input marked as translated\",\n    trigger: 'iframe input[placeholder=\"test Parseltongue placeholder\"].oe_translated',\n    run: () => {},\n}, {\n    content: \"save translation\",\n    trigger: 'button[data-action=save]',\n}, {\n    content: \"check: content is translated\",\n    trigger: 'iframe #wrap p font:first:contains(translated Parseltongue text)',\n    extra_trigger: 'iframe body:not(.editor_enable)',\n    run: function () {}, // it's a check\n}, {\n    content: \"check: content with special char is translated\",\n    trigger: \"iframe #wrap input + p:contains(<{translated}><b></b> is an HTML\\xa0tag & )\",\n    run: function () {}, // it's a check\n\n}, {\n    content: \"check: placeholder translation\",\n    trigger: 'iframe input[placeholder=\"test Parseltongue placeholder\"]',\n    run: function () {}, // it's a check\n}, {\n    content: \"check: default value translation\",\n    trigger: 'iframe input[value=\"test Parseltongue default value\"]',\n    run: () => {},\n}, {\n    content: \"open language selector\",\n    trigger: 'iframe .js_language_selector button:first',\n    extra_trigger: 'iframe html[lang*=\"pa-GB\"]:not(:has(#wrap p span))',\n}, {\n    content: \"return to english version\",\n    trigger: 'iframe .js_language_selector a[data-url_code=\"en\"]',\n}, {\n    content: \"Check body\",\n    trigger: \"iframe body:not(:has(#wrap p font:first:containsExact(paragraphs <b>describing</b>)))\",\n    run: function () {}, // it's a check\n},\n...wTourUtils.clickOnEditAndWaitEditMode(),\n{\n    content: \"select text\",\n    trigger: 'iframe #wrap p',\n    run: function (actionHelper) {\n        actionHelper.click();\n        var el = this.$anchor[0];\n        var mousedown = document.createEvent('MouseEvents');\n        mousedown.initMouseEvent('mousedown', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, el);\n        el.dispatchEvent(mousedown);\n        var mouseup = document.createEvent('MouseEvents');\n        Wysiwyg.setRange(el.childNodes[2], 6, el.childNodes[2], 13);\n        mouseup.initMouseEvent('mouseup', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, el);\n        el.dispatchEvent(mouseup);\n    },\n// This is disabled for now because it reveals a bug that is fixed in saas-15.1\n// and considered a tradeoff in 15.0. The bug concerns the invalidation of\n// translations when inserting tags with more than one character. Whereas <u>\n// didn't trigger an invalidation, <span style=\"text-decoration-line: underline;\">\n// does.\n// }, {\n//     content: \"underline\",\n//     trigger: '.oe-toolbar #underline',\n}, {\n    content: \"save new change\",\n    trigger: 'button[data-action=save]',\n    // See comment above.\n    // extra_trigger: '#wrap.o_dirty p span[style*=\"text-decoration-line: underline;\"]',\n}, {\n    content: \"click language dropdown (4)\",\n    trigger: 'iframe .js_language_selector .dropdown-toggle',\n    extra_trigger: 'iframe body:not(.editor_enable)',\n}, {\n    content: \"return in Parseltongue\",\n    trigger: 'iframe html[lang=\"en-US\"] .js_language_selector .js_change_lang[data-url_code=\"pa_GB\"]',\n}, {\n    content: \"check bis: content is translated\",\n    trigger: 'iframe #wrap p font:first:contains(translated Parseltongue text)',\n    extra_trigger: 'iframe html[lang*=\"pa-GB\"]',\n}, {\n    content: \"check bis: placeholder translation\",\n    trigger: 'iframe input[placeholder=\"test Parseltongue placeholder\"]',\n}, {\n    content: \"open site menu\",\n    trigger: 'button[data-menu-xmlid=\"website.menu_site\"]',\n}, {\n    content: \"Open HTML editor\",\n    trigger: 'a[data-menu-xmlid=\"website.menu_ace_editor\"]',\n}, {\n    content: \"Check that the editor is not showing translated content (1)\",\n    trigger: '.ace_text-layer .ace_line:contains(\"an HTML\")',\n    run: function (actions) {\n        var lineEscapedText = $(this.$anchor.text()).last().text();\n        if (lineEscapedText !== \"&lt;b&gt;&lt;/b&gt; is an HTML&nbsp;tag &amp; is empty\") {\n            console.error('The HTML editor should display the correct untranslated content');\n            $('iframe:not(.o_ignore_in_tour)').contents().find('body').addClass('rte_translator_error');\n        }\n    },\n}, {\n    content: \"Check that the editor is not showing translated content (2)\",\n    trigger: 'iframe body:not(.rte_translator_error)',\n    run: function () {},\n}]);\n", "/** @odoo-module */\n\nimport weUtils from 'web_editor.utils';\nimport wTourUtils from 'website.tour_utils';\n\nconst snippets = [\n    {\n        id: 's_text_image',\n        name: 'Text - Image',\n    },\n];\nconst gradients = [\n    'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n    'linear-gradient(135deg, rgb(255, 222, 202) 0%, rgb(202, 115, 69) 100%)',\n];\n\nfunction typeToName(xType) {\n    return xType === 'cc' ? 'color combinations' : xType === 'bg' ? 'background colors' : 'gradients';\n}\n\nfunction switchTo(type, _name) {\n    const target = type === 'cc' ? 'color-combinations' : type === 'bg' ? 'custom-colors' : 'gradients';\n    const name = _name || typeToName(type);\n    return {\n        trigger: `.o_we_colorpicker_switch_pane_btn[data-target=\"${target}\"]`,\n        content: `Switch to ${name}`,\n    };\n}\n\nfunction addCheck(steps, checkX, checkNoX, xType, noSwitch = false) {\n    if (!checkX && !checkNoX) {\n        return;\n    }\n\n    const name = typeToName(xType);\n    const selectorCheckX = checkX && `.o_we_color_btn[data-color=\"${checkX}\"].selected`;\n    const selectorCheckNoX = checkNoX && `.o_we_color_btn[data-color=\"${checkNoX}\"]:not(.selected)`;\n    const step = {\n        trigger: selectorCheckX || selectorCheckNoX,\n        content: `The correct ${name} is marked as selected`,\n        position: 'bottom',\n        run: () => null,\n    };\n    if (!selectorCheckX && selectorCheckNoX) {\n        step.extra_trigger = selectorCheckNoX;\n    }\n\n    if (!noSwitch) {\n        steps.push(switchTo(xType, name));\n    }\n    steps.push(step);\n}\n\nfunction checkAndUpdateBackgroundColor({\n    checkCC, checkNoCC,\n    checkBg, checkNoBg,\n    checkGradient, checkNoGradient,\n    changeType, change,\n    finalSelector, finalRun\n}) {\n    const steps = [\n        wTourUtils.changeBackgroundColor(),\n    ];\n\n    addCheck(steps, checkCC, checkNoCC, 'cc', true);\n    addCheck(steps, checkBg, checkNoBg, 'bg');\n    addCheck(steps, checkGradient, checkNoGradient, 'gradient');\n\n    if (changeType) {\n        steps.push(switchTo(changeType));\n        steps.push(wTourUtils.changeOption('ColoredLevelBackground', `.o_we_color_btn[data-color=\"${change}\"]`, 'background color', 'top', true));\n        steps.push({\n            trigger: finalSelector,\n            content: \"The selected colors have been applied (CC AND (BG or GRADIENT))\",\n            position: 'bottom',\n            run: finalRun,\n        });\n    }\n\n    return steps;\n}\n\nfunction updateAndCheckCustomGradient({updateStep, checkGradient}) {\n    const steps = [updateStep, {\n        trigger: `iframe #wrapwrap section.${snippets[0].id}.o_cc1`,\n        content: 'Color combination 1 still selected',\n        run: () => null,\n    }];\n    addCheck(steps, checkGradient, checkGradient !== gradients[0] && gradients[0], 'gradient', true);\n    return steps;\n}\n\nwTourUtils.registerWebsitePreviewTour('snippet_background_edition', {\n    url: '/',\n    edition: true,\n    test: true,\n},\n[\nwTourUtils.dragNDrop(snippets[0]),\nwTourUtils.clickOnSnippet(snippets[0]),\n\n// Set background image and save.\n{\n    content: \"Click on camera icon\",\n    trigger: \".snippet-option-ColoredLevelBackground we-button.fa-camera\",\n},\n{\n    content: \"Click on image\",\n    trigger: \".o_select_media_dialog img[title='test.png']\",\n},\n...wTourUtils.clickOnSave(),\n{\n    content: \"Check that the image is set\",\n    trigger: `iframe section.${snippets[0].id} img[data-original-id]`,\n    isCheck: true,\n},\n...wTourUtils.clickOnEditAndWaitEditMode(),\nwTourUtils.clickOnSnippet(snippets[0]),\n// Remove background image.\n{\n    content: \"Click on camera icon\",\n    trigger: \".snippet-option-ColoredLevelBackground we-button.fa-camera\",\n},\n\n// Add a color combination\n...checkAndUpdateBackgroundColor({\n    changeType: 'cc',\n    change: 3,\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc3:not([class*=bg-]):not([style*=\"background\"])`,\n}),\n\n// Change the color combination + Check the previous one was marked as selected\n...checkAndUpdateBackgroundColor({\n    checkCC: 3,\n    changeType: 'cc',\n    change: 2,\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc2:not(.o_cc3):not([class*=bg-])`,\n}),\n\n// Check the color combination was marked as selected + Edit the bg color\n...checkAndUpdateBackgroundColor({\n    checkCC: 2,\n    checkNoCC: 3,\n    changeType: 'bg',\n    change: 'black-50',\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc2.bg-black-50`,\n}),\n\n// Check the current color palette selection + Change the bg color\n...checkAndUpdateBackgroundColor({\n    checkCC: 2,\n    checkBg: 'black-50',\n    changeType: 'bg',\n    change: '800',\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc2.bg-800:not(.bg-black-50)`,\n}),\n\n// Check the current color palette selection + Change the color combination\n// again. It should keep the bg color class.\n...checkAndUpdateBackgroundColor({\n    checkCC: 2,\n    checkBg: '800',\n    checkNoBg: 'black-50',\n    changeType: 'cc',\n    change: 4,\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc4:not(.o_cc2).bg-800`,\n}),\n\n// Check the current color palette status + Replace the bg color by a gradient\n...checkAndUpdateBackgroundColor({\n    checkCC: 4,\n    checkNoCC: 2,\n    checkBg: '800',\n    changeType: 'gradient',\n    change: gradients[0],\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc4:not(.bg-800)[style*=\"background-image: ${gradients[0]}\"]`,\n}),\n\n// Check the current color palette status + Replace the gradient\n...checkAndUpdateBackgroundColor({\n    checkCC: 4,\n    checkNoBg: '800',\n    checkGradient: gradients[0],\n    changeType: 'gradient',\n    change: gradients[1],\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc4[style*=\"background-image: ${gradients[1]}\"]:not([style*=\"background-image: ${gradients[0]}\"])`,\n}),\n\n// Check the current color palette selection + Change the color combination\n// again. It should keep the gradient.\n...checkAndUpdateBackgroundColor({\n    checkCC: 4,\n    checkGradient: gradients[1],\n    checkNoGradient: gradients[0],\n    changeType: 'cc',\n    change: 1,\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc1:not(.o_cc4)[style*=\"background-image: ${gradients[1]}\"]`,\n}),\n\n// Final check of the color status in the color palette\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkNoCC: 4,\n    checkGradient: gradients[1],\n}),\n\n// Now, add an image on top of that color combination + gradient\n{\n    // Close the palette before selecting a media.\n    trigger: '.snippet-option-ColoredLevelBackground we-title',\n    content: 'Close palette',\n},\nwTourUtils.changeOption('ColoredLevelBackground', '[data-name=\"bg_image_toggle_opt\"]'),\n{\n    trigger: '.o_existing_attachment_cell img',\n    content: \"Select an image in the media dialog\",\n},\n{\n    trigger: `iframe .${snippets[0].id}.o_cc.o_cc1`,\n    run: function () {\n        const parts = weUtils.backgroundImageCssToParts(this.$anchor.css('background-image'));\n        if (!parts.url || !parts.url.startsWith('url(')) {\n            console.error('An image should have been added as background.');\n        }\n        if (parts.gradient !== gradients[1]) {\n            console.error('The gradient should have been kept when adding the background image');\n        }\n    },\n},\n\n// Replace the gradient while there is a background-image\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkGradient: gradients[1],\n    changeType: 'gradient',\n    change: gradients[0],\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc1:not([style*=\"${gradients[1]}\"])`,\n    finalRun: function () {\n        const parts = weUtils.backgroundImageCssToParts(this.$anchor.css('background-image'));\n        if (!parts.url || !parts.url.startsWith('url(')) {\n            console.error('The image should have been kept when changing the gradient');\n        }\n        if (parts.gradient !== gradients[0]) {\n            console.error('The gradient should have been changed');\n        }\n    },\n}),\n\n// Customize gradient\nwTourUtils.changeBackgroundColor(),\nswitchTo('gradient'),\n// Avoid navigating across tabs to maintain current editor state\n// Step colors\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker .o_custom_gradient_scale',\n        content: 'Add step',\n        run: 'click',\n    },\n    checkGradient: 'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker .o_slider_multi input.active',\n        content: 'Move step',\n        run: () => {\n            const slider = $('.colorpicker .o_slider_multi input.active');\n            slider.val(45);\n            slider.trigger('click');\n        },\n    },\n    checkGradient: 'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(203, 94, 238) 45%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker .o_color_picker_inputs .o_hex_div input',\n        content: 'Pick step color',\n        run: 'text #FF0000',\n    },\n    checkGradient: 'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(255, 0, 0) 45%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker .o_remove_color',\n        content: 'Delete step',\n        run: 'click',\n    },\n    checkGradient: 'linear-gradient(135deg, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n// Linear\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker input[data-name=\"angle\"]',\n        content: 'Change angle',\n        run: 'text_blur 50',\n    },\n    checkGradient: 'linear-gradient(50deg, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n// Radial\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker we-button[data-gradient-type=\"radial-gradient\"]',\n        content: 'Switch to Radial',\n        run: 'click',\n    },\n    checkGradient: 'radial-gradient(circle farthest-side at 25% 25%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker input[data-name=\"positionX\"]',\n        content: 'Change X position',\n        run: 'text_blur 33',\n    },\n    checkGradient: 'radial-gradient(circle farthest-side at 33% 25%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker input[data-name=\"positionY\"]',\n        content: 'Change Y position',\n        run: 'text_blur 75',\n    },\n    checkGradient: 'radial-gradient(circle farthest-side at 33% 75%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n...updateAndCheckCustomGradient({\n    updateStep: {\n        trigger: '.colorpicker we-button[data-gradient-size=\"closest-side\"]',\n        content: 'Change color spread size',\n        run: 'click',\n    },\n    checkGradient: 'radial-gradient(circle closest-side at 33% 75%, rgb(203, 94, 238) 0%, rgb(75, 225, 236) 100%)',\n}),\n// Revert to predefined gradient\n{\n    trigger: `.o_we_color_btn[data-color=\"${gradients[0]}\"]`,\n    content: `Revert to predefiend gradient ${gradients[0]}`,\n    run: 'click',\n},\n\n// Replace the gradient by a bg color\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkGradient: gradients[0],\n    checkNoGradient: gradients[1],\n    changeType: 'bg',\n    change: 'black-75',\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc1.bg-black-75[style^=\"background-image: url(\"]:not([style*=\"${gradients[0]}\"])`\n}),\n\n// Re-add a gradient\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkBg: 'black-75',\n    checkNoGradient: gradients[0],\n    changeType: 'gradient',\n    change: gradients[1],\n    finalSelector: `iframe .${snippets[0].id}.o_cc.o_cc1:not(.bg-black-75)`,\n    finalRun: function () {\n        const parts = weUtils.backgroundImageCssToParts(this.$anchor.css('background-image'));\n        if (!parts.url || !parts.url.startsWith('url(')) {\n            console.error('The image should have been kept when re-adding the gradient');\n        }\n        if (parts.gradient !== gradients[1]) {\n            console.error('The gradient should have been re-added');\n        }\n    },\n}),\n\n// Final check of color selection and removing the image\n...checkAndUpdateBackgroundColor({\n    checkCC: 1,\n    checkNoBg: 'black-75',\n    checkGradient: gradients[1],\n}),\nwTourUtils.changeOption('ColoredLevelBackground', '[data-name=\"bg_image_toggle_opt\"]', 'image toggle', 'top', true),\n{\n    trigger: `iframe .${snippets[0].id}.o_cc.o_cc1[style*=\"background-image: ${gradients[1]}\"]`,\n    run: () => null,\n},\n\n// Now removing all colors via the 'None' button (note: colorpicker still opened)\n{\n    trigger: '.o_colorpicker_reset',\n    content: \"Click on the None button of the color palette\",\n},\n{\n    trigger: `iframe .${snippets[0].id}:not(.o_cc):not(.o_cc1):not([style*=\"background-image\"])`,\n    content: \"All color classes and properties should have been removed\",\n    run: () => null,\n}\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('snippet_cache_across_websites', {\n    edition: true,\n    test: true,\n    url: '/@/'\n}, [\n    {\n        content: \"Check that the custom snippet is displayed\",\n        trigger: '#snippet_custom_body span:contains(\"custom_snippet_test\")',\n        run: () => null,\n    },\n    // There's no need to save, but canceling might or might not show a popup...\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Click on the website switch to switch to website 2\",\n        trigger: '.o_website_switcher_container button',\n    },\n    {\n        content: \"Switch to website 2\",\n        // Ensure data-website-id exists\n        extra_trigger: 'iframe html[data-website-id=\"1\"]',\n        trigger: '.o_website_switcher_container .dropdown-item:contains(\"My Website 2\")'\n    },\n    {\n        content: \"Wait for the iframe to be loaded\",\n        // The page reload generates assets for website 2, it may take some time\n        timeout: 20000,\n        trigger: 'iframe html:not([data-website-id=\"1\"])',\n        run: () => null,\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Check that the custom snippet is not here\",\n        extra_trigger: '#oe_snippets:not(:has(#snippet_custom_body span:contains(\"custom_snippet_test\")))',\n        trigger: '#oe_snippets:has(#snippet_custom.d-none)',\n        run: () => null,\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('snippet_countdown', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\n    wTourUtils.dragNDrop({id: 's_countdown', name: 'Countdown'}),\n    wTourUtils.clickOnSnippet({id: 's_countdown', name: 'Countdown'}),\n    wTourUtils.changeOption('countdown', 'we-select:has([data-end-action]) we-toggler', 'end action'),\n    wTourUtils.changeOption('countdown', 'we-button[data-end-action=\"message\"]', 'end action'),\n    wTourUtils.changeOption('countdown', 'we-button.toggle-edit-message', 'message preview'),\n    // The next two steps check that the end message does not disappear when a\n    // widgets_start_request is triggered.\n    {\n        content: \"Hover an option which has a preview\",\n        trigger: '[data-select-class=\"o_half_screen_height\"]',\n        run: function (actions) {\n            this.$anchor.trigger('mouseover');\n            this.$anchor.trigger('mouseenter');\n        },\n    },\n    {\n        content: \"Check that the countdown message is still displayed\",\n        trigger: 'iframe .s_countdown .s_picture',\n        run: () => {\n            // Just a visibility check\n\n            // Also make sure the mouseout and mouseleave are triggered so that\n            // next steps make sense.\n            // TODO the next steps are not actually testing anything without\n            // it and the mouseout and mouseleave make sense but really it\n            // should not be *necessary* to simulate those for the editor flow\n            // to make some sense.\n            const $previousAnchor = $('[data-select-class=\"o_half_screen_height\"]');\n            $previousAnchor.trigger('mouseout');\n            $previousAnchor.trigger('mouseleave');\n        },\n    },\n    // Next, we change the end action to message and no countdown while the edit\n    // message toggle is still activated. It should hide the countdown\n    wTourUtils.changeOption('countdown', 'we-select:has([data-end-action]) we-toggler', 'end action'),\n    wTourUtils.changeOption('countdown', 'we-button[data-end-action=\"message_no_countdown\"]', 'end action'),\n    {\n        content: \"Check that the countdown is not displayed\",\n        trigger: 'iframe .s_countdown:has(.s_countdown_canvas_wrapper:not(:visible))',\n        run: () => null, // Just a visibility check\n    },\n    {\n        content: \"Check that the message is still displayed\",\n        trigger: 'iframe .s_countdown .s_picture',\n        run: () => null, // Just a visibility check\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('snippet_editor_panel_options', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\nwTourUtils.dragNDrop({\n    id: 's_text_image',\n    name: 'Text - Image',\n}),\n// Test keeping the text selection when using the width option.\n{\n    content: \"Click on the first paragraph.\",\n    trigger: 'iframe .s_text_image p',\n}, {\n    content: \"The text toolbar should be visible. The paragraph should be selected.\",\n    trigger: '#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container',\n    run() {\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const pText = iframeDocument.querySelector('.s_text_image p').textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph was not correctly selected.\");\n        }\n    },\n}, {\n    content: \"Click on the width option.\",\n    trigger: '[data-select-class=\"o_container_small\"]',\n}, {\n    content: \"The snippet should have the correct class.\",\n    trigger: 'iframe .s_text_image > .o_container_small',\n    run: () => {}, // It's a check.\n}, {\n    content: \"The text toolbar should still be visible, and the text still selected.\",\n    trigger: '#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container',\n    run() {\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const pText = iframeDocument.querySelector('.s_text_image p').textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph text selection was lost.\");\n        }\n    },\n},\n// Test the anchor option.\n{\n    content: \"Click on the anchor option\",\n    trigger: '#oe_snippets .snippet-option-anchor we-button',\n    run() {\n        // The clipboard cannot be accessed from a script.\n        // https://w3c.github.io/editing/docs/execCommand/#dfn-the-copy-command\n        // The execCommand is patched for that step so that ClipboardJS still\n        // sends the 'success' event.\n        const oldExecCommand = document.execCommand;\n        document.execCommand = () => true;\n        this.$anchor[0].click();\n        document.execCommand = oldExecCommand;\n    }\n}, {\n    content: \"Check the copied url from the notification toast\",\n    trigger: '.o_notification_manager .o_notification_content',\n    run() {\n        const { textContent } = this.$anchor[0];\n        const url = textContent.substring(textContent.indexOf('/'));\n\n        // The url should not target the client action\n        if (url.startsWith('/@')) {\n            console.error('The anchor option should target the frontend');\n        }\n\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const snippetId = iframeDocument.querySelector('.s_text_image').id;\n        if (!url || url.indexOf(snippetId) < 0) {\n            console.error('The anchor option does not target the correct snippet.');\n        }\n    },\n},\n// Test keeping the text selection when adding columns to a snippet with none.\nwTourUtils.goBackToBlocks(),\nwTourUtils.dragNDrop({\n    id: 's_text_block',\n    name: 'Text',\n}),\n{\n    content: \"Click on the first paragraph.\",\n    trigger: 'iframe .s_text_block p',\n}, {\n    content: \"The text toolbar should be visible. The paragraph should be selected.\",\n    trigger: '#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container',\n    run() {\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const pText = iframeDocument.querySelector('.s_text_block p').textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph was not correctly selected.\");\n        }\n    },\n}, {\n    content: \"Click on the columns option.\",\n    trigger: '.snippet-option-layout_column we-select',\n},\n{\n    content: \"Change the number of columns.\",\n    trigger: '.snippet-option-layout_column [data-select-count=\"3\"]',\n}, {\n    content: \"The snippet should have the correct number of columns.\",\n    trigger: 'iframe .s_text_block .container > .row',\n    run() {\n        if (this.$anchor[0].childElementCount !== 3) {\n            console.error(\"The snippet does not have the correct number of columns\");\n        }\n    },\n}, {\n    content: \"The text toolbar should still be visible, and the text still selected.\",\n    trigger: '#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container',\n    run() {\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const pText = iframeDocument.querySelector('.s_text_block p').textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph text selection was lost.\");\n        }\n    },\n},\n// Test keeping the text selection when removing all columns of a snippet.\n{\n    content: \"Click on the columns option.\",\n    trigger: '.snippet-option-layout_column we-select',\n},\n{\n    content: \"Change the number of columns.\",\n    trigger: '.snippet-option-layout_column [data-select-count=\"0\"]',\n}, {\n    content: \"The snippet should have the correct number of columns.\",\n    trigger: 'iframe .s_text_block .container:not(:has(.row))',\n}, {\n    content: \"The text toolbar should still be visible, and the text still selected.\",\n    trigger: '#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container',\n    run() {\n        const iframeDocument = document.querySelector('.o_iframe').contentDocument;\n        const pText = iframeDocument.querySelector('.s_text_block p').textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph text selection was lost.\");\n        }\n    },\n},\n// Test keeping the text selection when toggling the grid mode.\nwTourUtils.changeOption(\"layout_column\", 'we-button[data-name=\"grid_mode\"]'),\n{\n    content: \"The snippet row should have the grid mode class.\",\n    trigger: \"iframe .s_text_block .row.o_grid_mode\",\n    run: () => {}, // It's a check.\n}, {\n    content: \"The text toolbar should still be visible, and the text still selected.\",\n    trigger: \"#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container\",\n    run() {\n        const iframeDocument = document.querySelector(\".o_iframe\").contentDocument;\n        const pText = iframeDocument.querySelector(\".s_text_block p\").textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph text selection was lost.\");\n        }\n    },\n},\n// Test keeping the text selection when toggling back the normal mode.\nwTourUtils.changeOption(\"layout_column\", 'we-button[data-name=\"normal_mode\"]'),\n{\n    content: \"The snippet row should not have the grid mode class anymore.\",\n    trigger: \"iframe .s_text_block .row:not(.o_grid_mode)\",\n    run: () => {}, // It's a check.\n}, {\n    content: \"The text toolbar should still be visible, and the text still selected.\",\n    trigger: \"#oe_snippets .o_we_customize_panel > #o_we_editor_toolbar_container\",\n    run() {\n        const iframeDocument = document.querySelector(\".o_iframe\").contentDocument;\n        const pText = iframeDocument.querySelector(\".s_text_block p\").textContent;\n        const selection = iframeDocument.getSelection().toString();\n        if (pText !== selection) {\n            console.error(\"The paragraph text selection was lost.\");\n        }\n    },\n},\n...wTourUtils.clickOnSave(),\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"website.tour_utils\";\n\nfunction removeSelectedBlock() {\n    return {\n        content: \"Remove selected block\",\n        trigger: '#oe_snippets we-customizeblock-options:nth-last-child(3) .oe_snippet_remove',\n    };\n}\n\nwTourUtils.registerWebsitePreviewTour('snippet_empty_parent_autoremove', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\n    // Base case: remove both columns from text - image\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    {\n        content: \"Click on second column\",\n        trigger: 'iframe #wrap .s_text_image .row > :nth-child(2)',\n    },\n    removeSelectedBlock(),\n    {\n        content: \"Click on first column\",\n        trigger: 'iframe #wrap .s_text_image .row > :first-child',\n    },\n    removeSelectedBlock(),\n    {\n        content: \"Check that #wrap is empty\",\n        trigger: 'iframe #wrap:empty',\n    },\n\n    // Banner: test that parallax, bg-filter and shape are not treated as content\n    wTourUtils.dragNDrop({\n        id: 's_banner',\n        name: 'Banner',\n    }),\n    wTourUtils.clickOnSnippet({\n        id: 's_banner',\n        name: 'Banner',\n    }),\n    {\n        content: \"Check that parallax is present\",\n        trigger: 'iframe #wrap .s_banner .s_parallax_bg',\n        run: () => null,\n    },\n    wTourUtils.changeOption('ColoredLevelBackground', 'Shape'),\n    {\n        content: \"Check that shape is present\",\n        trigger: 'iframe #wrap .s_banner .o_we_shape',\n        run: () => null,\n    },\n    {\n        content: \"Click on first column\",\n        trigger: 'iframe #wrap .s_banner .row > :first-child',\n    },\n    removeSelectedBlock(),\n    {\n        content: \"Check that #wrap is empty\",\n        trigger: 'iframe #wrap:empty',\n        run: () => null,\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('snippet_image_gallery', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\n    wTourUtils.dragNDrop({id: 's_image_gallery', name: 'Images Wall'}),\n    ...wTourUtils.clickOnSave(),\n    {\n        content: 'Click on an image of the Image Wall',\n        trigger: 'iframe .s_image_gallery img',\n        run: 'click',\n    },\n    {\n        content: 'Check that the modal has opened properly',\n        trigger: 'iframe .s_gallery_lightbox img',\n        run: () => {}, // This is a check.\n    },\n]);\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_image_gallery_remove\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, [\n    wTourUtils.dragNDrop({\n        id: \"s_image_gallery\",\n        name: \"Image Gallery\",\n}), wTourUtils.clickOnSnippet({\n    id: 's_image_gallery',\n    name: 'Image Gallery',\n}), {\n    content: \"Click on Remove all\",\n    trigger: \"we-button:has(div:contains('Remove all'))\",\n}, {\n    content: \"Click on Add Images\",\n    trigger: \"iframe span:contains('Add Images')\",\n}, {\n    content: \"Click on the first new image\",\n    trigger: \".o_select_media_dialog img[title='s_default_image.jpg']\",\n}, {\n    content: \"Click on the second new image\",\n    trigger: \".o_select_media_dialog img[title='s_default_image2.jpg']\",\n},\n    wTourUtils.addMedia(),\n   {\n    content: \"Click on the image of the Image Gallery snippet\",\n    trigger: \"iframe .s_image_gallery .carousel-item.active  img\",\n}, {\n    content: \"Check that the Snippet Editor of the clicked image has been loaded\",\n    trigger: \"we-customizeblock-options span:contains('Image'):not(:contains('Image Gallery'))\",\n    run: () => null,\n}, {\n    content: \"Click on Remove Block\",\n    trigger: \".o_we_customize_panel we-title:has(span:contains('Image Gallery')) we-button[title='Remove Block']\",\n}, {\n    content: \"Check that the Image Gallery snippet has been removed\",\n    trigger: \"iframe #wrap:not(:has(.s_image_gallery))\",\n    run: () => null,\n}]);\n", "/** @odoo-module */\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('website_image_quality', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\n    wTourUtils.dragNDrop({\n        id: 's_text_image',\n        name: 'Text - Image',\n    }),\n    {\n        content: \"Select image\",\n        trigger: 'iframe .s_text_image img',\n    },\n    {\n        content: \"Set low quality\",\n        trigger: 'we-customizeblock-options:has(we-title:contains(\"Image\")) we-range[data-set-quality] input',\n        run: 'range 5',\n    },\n    {\n        content: \"Wait for image update: NOT original image\",\n        trigger: 'iframe .s_text_image img:not([src$=\"s_text_image_default_image\"])',\n        run: () => {}, // It is a check.\n    },\n    {\n        content: \"Check image size\",\n        // Reached size cannot be hardcoded because it changes with\n        // different versions of Chrome.\n        trigger: 'we-customizeblock-options:has(we-title:contains(\"Image\")) .o_we_image_weight:contains(\" kb\"):not(:contains(\"16.1 kb\"))',\n        run() {\n            // Make sure the reached size is smaller than the original one.\n            if (parseFloat(this.$anchor[0].innerText) >= 47.5) {\n                console.error(\"Image size should be smaller than original\");\n            }\n        },\n    },\n    {\n        content: \"Set high quality\",\n        trigger: 'we-customizeblock-options:has(we-title:contains(\"Image\")) we-range[data-set-quality] input',\n        run: 'range 99',\n    },\n    {\n        content: \"Wait for image update: back to original image\",\n        trigger: 'iframe .s_text_image img[src$=\"QUntVvdqEdljipEUu7ez5lb6IqyGKzQmRxVnZX/2Q==\"]',\n        run: () => {}, // It is a check.\n    },\n    {\n        content: \"Check image size\",\n        trigger: 'we-customizeblock-options:has(we-title:contains(\"Image\")) .o_we_image_weight:contains(\"47.5 kb\")',\n        run: () => {}, // It is a check.\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"website.tour_utils\";\n\nconst selectSignImageStep = {\n    content: \"Click on sign image\",\n    extra_trigger: \".o_we_customize_panel:not(:has(.snippet-option-GalleryElement))\",\n    trigger: \"iframe .s_image_gallery img[data-original-src*='sign']\",\n};\n// Without reselecting the image, the tour manages to click on the\n// move button before the active image is updated.\nconst reselectSignImageSteps = [{\n    content: \"Select footer\",\n    trigger: \"iframe footer\",\n}, selectSignImageStep];\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_images_wall\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, [\n    wTourUtils.dragNDrop({\n        id: \"s_images_wall\",\n        name: \"Images Wall\",\n}), wTourUtils.clickOnSnippet({\n    id: \"s_image_gallery\",\n    name: \"Images Wall\",\n}),\nselectSignImageStep,\n{\n    content: \"Click on move to previous\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='prev']\",\n}, {\n    content: \"Check if sign is in second column\",\n    trigger: \"iframe .s_image_gallery .o_masonry_col:nth-child(2):has(img[data-index='1'][data-original-src*='sign'])\",\n    isCheck: true,\n},\n...reselectSignImageSteps,\n{\n    content: \"Click on move to first\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='first']\",\n}, {\n    content: \"Check if sign is in first column\",\n    trigger: \"iframe .s_image_gallery .o_masonry_col:nth-child(1):has(img[data-index='0'][data-original-src*='sign'])\",\n    isCheck: true,\n},\n...reselectSignImageSteps,\n{\n    content: \"Click on move to previous\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='prev']\",\n}, {\n    content: \"Check if sign is in third column\",\n    trigger: \"iframe .s_image_gallery .o_masonry_col:nth-child(3):has(img[data-index='5'][data-original-src*='sign'])\",\n    isCheck: true,\n},\n...reselectSignImageSteps,\n{\n    content: \"Click on move to next\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='next']\",\n}, {\n    content: \"Check if sign is in first column\",\n    trigger: \"iframe .s_image_gallery .o_masonry_col:nth-child(1):has(img[data-index='0'][data-original-src*='sign'])\",\n    isCheck: true,\n},\n...reselectSignImageSteps,\n{\n    content: \"Click on move to last\",\n    trigger: \".snippet-option-GalleryElement we-button[data-position='last']\",\n}, {\n    content: \"Check layout\",\n    trigger: \"iframe .s_image_gallery .o_masonry_col:nth-child(3):has(img[data-index='5'][data-original-src*='sign'])\",\n    isCheck: true,\n}]);\n", "/** @odoo-module */\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('snippet_popup_add_remove', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [{\n    content: 'Drop s_popup snippet',\n    trigger: '.oe_snippet:has( > [data-snippet=\"s_popup\"]) .oe_snippet_thumbnail',\n    run: \"drag_and_drop iframe #wrap\",\n}, {\n    content: 'Edit s_popup snippet',\n    in_modal: false,\n    trigger: 'iframe #wrap.o_editable [data-snippet=\"s_popup\"] .row > div', // Click deep in the snippet structure\n}, {\n    content: 'Check s_popup setting are loaded, wait panel is visible',\n    in_modal: false,\n    trigger: '.o_we_customize_panel',\n    run: () => null,\n}, {\n    content: `Remove the s_popup snippet`,\n    in_modal: false,\n    trigger: '.o_we_customize_panel we-customizeblock-options:contains(\"Popup\") we-button.oe_snippet_remove:first',\n}, {\n    content: 'Check the s_popup was removed',\n    in_modal: false,\n    trigger: 'iframe #wrap.o_editable:not(:has([data-snippet=\"s_popup\"]))',\n    run: () => null,\n},\n// Test that undoing dropping the snippet removes the invisible elements panel.\n{\n    content: \"Drop the snippet again.\",\n    trigger: '#oe_snippets .oe_snippet:has(> [data-snippet=\"s_popup\"]) .oe_snippet_thumbnail',\n    run: \"drag_and_drop iframe #wrap\",\n}, {\n    content: \"The popup should be in the invisible elements panel.\",\n    in_modal: false,\n    trigger: '.o_we_invisible_el_panel .o_we_invisible_entry',\n    run: () => null, // It's a check.\n}, {\n    content: \"Click on the 'undo' button.\",\n    in_modal: false,\n    trigger: '#oe_snippets button[data-action=\"undo\"]',\n}, {\n    content: \"Check that the s_popup was removed.\",\n    in_modal: false,\n    trigger: 'iframe #wrap.o_editable:not(:has([data-snippet=\"s_popup\"]))',\n    run: () => null, // It's a check.\n}, {\n    content: \"The invisible elements panel should also be removed.\",\n    trigger: '#oe_snippets:has(.o_we_invisible_el_panel.d-none)',\n    run: () => null, // It's a check.\n}]);\n", "/** @odoo-module */\n\nimport wTourUtils from \"website.tour_utils\";\n\nconst snippets = [\n    {\n        id: \"s_popup\",\n        name: \"Popup\",\n    },\n    {\n        id: \"s_media_list\",\n        name: \"Media List\",\n    },\n    {\n        id: \"s_three_columns\",\n        name: \"Columns\",\n    },\n];\n\nconst setOnScrollAnim = function () {\n    return [\n        wTourUtils.changeOption(\"WebsiteAnimate\", 'we-select[data-is-animation-type-selection=\"true\"] we-toggler'),\n        wTourUtils.changeOption(\"WebsiteAnimate\", 'we-button[data-animation-mode=\"onScroll\"]'),\n        wTourUtils.changeOption(\"WebsiteAnimate\", 'we-select[data-name=\"animation_effect_opt\"] we-toggler'),\n        wTourUtils.changeOption(\"WebsiteAnimate\", 'we-button[data-name=\"o_anim_slide_in_opt\"]'),\n    ];\n};\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_popup_and_animations\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, [\n    wTourUtils.dragNDrop(snippets[1]), // Media List\n    wTourUtils.dragNDrop(snippets[1]), // Media List\n    wTourUtils.dragNDrop(snippets[2]), // Columns\n    wTourUtils.clickOnElement(\"3rd columns\", \"iframe .s_three_columns .row > :last-child\"),\n    ...setOnScrollAnim(),\n    {\n        content: \"Open the Cookies Bar.\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry\",\n    },\n    {\n        content: \"Scroll to top\",\n        trigger: \"iframe #wrapwrap\",\n        extra_trigger: \"iframe #website_cookies_bar:not(.d-none)\",\n        run: function () {\n            const animatedColumnEl = this.$anchor[0].querySelector(\".s_three_columns .row > :last-child\");\n            // When the animated element is fully visible, its animation delay\n            // should be rounded to -1 in the following condition.\n            if (Math.round(parseFloat(animatedColumnEl.style.animationDelay)) !== -1) {\n                console.error(\"The scroll animation in the page did not start properly with the cookies bar open.\");\n            }\n            this.$anchor[0].scrollTo({\n                top: 0,\n                left: 0,\n                behavior: 'smooth'\n            });\n        },\n    },\n    {\n        content: \"Wait for the page to be scrolled to the top.\",\n        trigger: \"iframe .s_three_columns .row > :last-child:not(.o_animating)\",\n        extra_trigger: \"iframe header#top:not(.o_header_affixed)\",\n        run: function () {\n            // If the column has been animated successfully, the animation delay\n            // should be set to approximately zero when it is not visible.\n            // The main goal of the following condition is to verify if the\n            // animation delay is being updated as expected.\n            if (Math.round(parseFloat(this.$anchor[0].style.animationDelay)) !== 0) {\n                console.error(\"The scroll animation in the page did not end properly with the cookies bar open.\");\n            }\n        },\n    },\n    {\n        content: \"Close the Cookies Bar.\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry\",\n        run: \"click\",\n    },\n    wTourUtils.dragNDrop(snippets[0]), // Popup\n    wTourUtils.dragNDrop(snippets[1]), // Media List\n    {\n        content: \"Drag the Columns building block and drop it at the bottom of the popup.\",\n        trigger: '#oe_snippets .oe_snippet[name=\"Columns\"] .oe_snippet_thumbnail:not(.o_we_already_dragging)',\n        extra_trigger: \".o_website_preview.editor_enable.editor_has_snippets\",\n        run: \"drag_and_drop iframe #wrapwrap .modal-content .s_media_list .container > .row > :last-child\",\n    },\n    wTourUtils.clickOnElement(\"3rd columns\", \"iframe .s_popup .s_three_columns .row > :last-child\"),\n    ...setOnScrollAnim(),\n    {\n        content: \"Verify the animation delay of the animated element in the popup at the beginning\",\n        trigger: \"iframe .s_popup .modal\",\n        run: function () {\n            const animatedColumnEl = this.$anchor[0].querySelector(\".s_three_columns .row > :last-child\");\n            // When the animated element is fully visible, its animation delay\n            // should be rounded to -1 in the following condition.\n            if (Math.round(parseFloat(animatedColumnEl.style.animationDelay)) !== -1) {\n                console.error(\"The scroll animation in the modal did not start properly.\");\n            }\n            this.$anchor[0].closest(\".modal\").scrollTo({\n                top: 0,\n                left: 0,\n                behavior: 'smooth'\n            });\n        },\n    },\n    {\n        content: \"Wait until the column is no longer animated/visible.\",\n        trigger: \"iframe .s_popup .s_three_columns .row > :last-child:not(.o_animating)\",\n        run: function () {\n            // If the column has been animated successfully, the animation delay\n            // should be set to approximately zero when it is not visible.\n            if (Math.round(parseFloat(this.$anchor[0].style.animationDelay)) !== 0) {\n                console.error(\"The scroll animation in the modal did not end properly.\");\n            }\n        },\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from \"website.tour_utils\";\n\nconst snippets = [\n    {\n        id: \"s_popup\",\n        name: \"Popup\",\n    },\n    {\n        id: \"s_media_list\",\n        name: \"Media List\",\n    },\n];\n\nconst checkScrollbar = function (hasScrollbar) {\n    return {\n        content: `Check that the #wrapwrap ${hasScrollbar ? \"has\" : \"does not have\"} a vertical scrollbar.`,\n        trigger: `iframe ${hasScrollbar ? \"body:not(.modal-open)\" : \"body.modal-open\"}`,\n        run: function () {\n            const wrapwrapEl = this.$anchor[0].querySelector(\"#wrapwrap\");\n            const wrapwrapStyle = window.getComputedStyle(wrapwrapEl);\n            if (!hasScrollbar && (wrapwrapStyle.overflow !== \"hidden\" || parseFloat(wrapwrapStyle.paddingRight) < 1)) {\n                console.error(\"error The #wrapwrap vertical scrollbar should be hidden\");\n            } else if (hasScrollbar && (wrapwrapStyle.overflow === \"hidden\" || parseFloat(wrapwrapStyle.paddingRight) > 0)) {\n                console.error(\"error The #wrapwrap vertical scrollbar should be displayed\");\n            }\n        },\n    };\n};\n\nconst toggleBackdrop = function () {\n    return wTourUtils.changeOption('SnippetPopup', 'we-button[data-name=\"popup_backdrop_opt\"] we-checkbox', 'backdrop');\n};\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_popup_and_scrollbar\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, [\n    wTourUtils.dragNDrop(snippets[1]), // Media List\n    wTourUtils.dragNDrop(snippets[0]), // Popup\n    checkScrollbar(false),\n    {\n        content: 'Click on the s_popup snippet',\n        in_modal: false,\n        trigger: 'iframe .s_popup .modal',\n    },\n    toggleBackdrop(), // hide Popup backdrop\n    checkScrollbar(true),\n    wTourUtils.goBackToBlocks(),\n    {\n        content: \"Drag the Media List block and drop it in the popup.\",\n        trigger: \"#oe_snippets .oe_snippet:has(> [data-snippet='s_media_list']) .oe_snippet_thumbnail\",\n        run: \"drag_and_drop iframe #wrap .s_popup .modal-content.oe_structure\",\n    },\n    checkScrollbar(false),\n    {\n        content: \"Select the Media List snippet in the Popup.\",\n        trigger: \"iframe #wrap .s_popup .modal-content .s_media_list\",\n    },\n    {\n        content: \"Remove the Media List snippet in the Popup.\",\n        trigger: \"iframe .oe_overlay.oe_active .oe_snippet_remove\",\n    },\n    checkScrollbar(true),\n    toggleBackdrop(), // show Popup backdrop\n    checkScrollbar(false),\n    {\n        content: \"Close the Popup.\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry\",\n    },\n    checkScrollbar(true),\n    {\n        content: \"Open the Cookies Bar.\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry:last-child\",\n    },\n    checkScrollbar(true),\n    toggleBackdrop(), // show Cookies Bar backdrop\n    checkScrollbar(false),\n    toggleBackdrop(), // hide Cookies Bar backdrop\n    checkScrollbar(true),\n    {\n        content: \"Open the Popup.\",\n        trigger: \".o_we_invisible_el_panel .o_we_invisible_entry\",\n    },\n    checkScrollbar(false),\n    wTourUtils.goBackToBlocks(),\n    {\n        content: \"Drag the Media List block and drop it in the popup.\",\n        trigger: \"#oe_snippets .oe_snippet:has(> [data-snippet='s_media_list']) .oe_snippet_thumbnail\",\n        run: \"drag_and_drop iframe #wrap .s_popup .modal-content.oe_structure\",\n    },\n    checkScrollbar(false),\n    {\n        content: 'Click on the s_popup snippet',\n        in_modal: false,\n        trigger: 'iframe .s_popup .modal',\n    },\n    {\n        content: \"Remove the s_popup snippet\",\n        trigger: \".o_we_customize_panel we-customizeblock-options:contains('Popup') we-button.oe_snippet_remove:first\",\n        in_modal: false,\n        run: \"click\",\n    },\n    checkScrollbar(true),\n    wTourUtils.goBackToBlocks(),\n    {\n        content: \"Drag a Media List snippet and drop it in the Cookies Bar.\",\n        trigger: \"#oe_snippets .oe_snippet:has(> [data-snippet='s_media_list']) .oe_snippet_thumbnail\",\n        run: \"drag_and_drop iframe #website_cookies_bar .modal-content.oe_structure\",\n    },\n    {\n        content: \"Select the Media List snippet in the Cookies Bar.\",\n        trigger: \"iframe #website_cookies_bar .modal-content .s_media_list\",\n    },\n    {\n        content: \"Duplicate the Media List snippet\",\n        trigger: \".o_we_customize_panel we-customizeblock-options:contains('Media List') we-button.oe_snippet_clone:first\",\n        in_modal: false,\n        run: \"click\",\n    },\n    checkScrollbar(false),\n    {\n        content: \"Remove the first Media List snippet in the Cookies Bar.\",\n        trigger: \"iframe .oe_overlay.oe_active .oe_snippet_remove\",\n    },\n    {\n        content: \"Remove the second Media List snippet in the Cookies Bar.\",\n        trigger: \"iframe .oe_overlay.oe_active .oe_snippet_remove\",\n    },\n    checkScrollbar(true),\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from \"website.tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_popup_display_on_click\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, [\n    wTourUtils.dragNDrop({id: \"s_text_image\", name: \"Image - Text\"}),\n    wTourUtils.dragNDrop({id: \"s_popup\", name: \"Popup\"}),\n    {\n        content: \"Click inside the popup to access its options menu.\",\n        in_modal: false,\n        trigger: \"iframe .s_popup .s_banner\",\n    },\n    wTourUtils.changeOption(\"SnippetPopup\", 'we-select[data-attribute-name=\"display\"] we-toggler'),\n    {\n        content: \"Click on the display 'On Click' option\",\n        trigger: \"#oe_snippets we-button[data-name='onclick_opt']\",\n        in_modal: false,\n        run() {\n            // The clipboard cannot be accessed from a script.\n            // https://w3c.github.io/editing/docs/execCommand/#dfn-the-copy-command\n            // The execCommand is patched for that step so that ClipboardJS still\n            // sends the \"success\" event.\n            const oldExecCommand = document.execCommand;\n            document.execCommand = () => true;\n            this.$anchor[0].click();\n            document.execCommand = oldExecCommand;\n        }\n    },\n    {\n        content: \"Check the copied anchor from the notification toast\",\n        trigger: \".o_notification_manager .o_notification_content\",\n        run() {\n            const notificationContent = this.$anchor[0].innerText;\n            const anchor = notificationContent.substring(notificationContent.indexOf(\"#\"));\n\n            if (anchor !== \"#Win-%2420\") {\n                console.error(\"The popup anchor is not '#Win-%2420' as expected.\");\n            }\n        },\n    },\n    wTourUtils.clickOnElement(\"button to close the popup\", \"iframe .s_popup_close\"),\n    wTourUtils.clickOnElement(\"text image snippet button\", \"iframe .s_text_image .btn-primary\"),\n    {\n        content: \"Paste the popup anchor in the URL input\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: \"text #Win-%2420\"\n    },\n    ...wTourUtils.clickOnSave(),\n    wTourUtils.clickOnElement(\"text image snippet button\", \"iframe .s_text_image .btn-primary\"),\n    {\n        content: \"Verify that the popup opens after clicked the button.\",\n        in_modal: false,\n        trigger: \"iframe .s_popup .modal[id='Win-%2420'].show\",\n    },\n    wTourUtils.clickOnElement(\"button to close the popup\", \"iframe .s_popup_close\"),\n    {\n        content: \"Go to the 'contactus' page.\",\n        trigger: \"iframe a[href='/contactus']\",\n    },\n    {\n        content: \"wait for the page to be loaded\",\n        trigger: \".o_website_preview[data-view-xmlid='website.contactus']\",\n        run: () => null, // it\"s a check\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.dragNDrop({id: \"s_text_image\", name: \"Image - Text\"}),\n    wTourUtils.clickOnElement(\"text image snippet button\", \"iframe .s_text_image .btn-primary\"),\n    {\n        content: \"Add a link to the homepage popup in the URL input\",\n        trigger: \"#o_link_dialog_url_input\",\n        run: \"text /#Win-%2420\"\n    },\n    ...wTourUtils.clickOnSave(),\n    wTourUtils.clickOnElement(\"text image snippet button\", \"iframe .s_text_image .btn-primary\"),\n    {\n        content: \"Verify that the popup opens when the homepage page loads.\",\n        in_modal: false,\n        extra_trigger: \".o_website_preview[data-view-xmlid='website.homepage']\",\n        trigger: \"iframe .s_popup .modal[id='Win-%2420'].show\",\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from 'website.tour_utils';\n\n// TODO: Remove following steps once fix of task-3212519 is done.\n// Those steps are preventing a race condition to happen in the meantime: when\n// the tour was clicking on the toggle to hide facebook in the next step, it\n// would actually \"ignore\" the result of the click on the toggle and would just\n// consider the action of focusing out the input.\nconst socialRaceConditionClass = 'social_media_race_condition';\nconst preventRaceConditionStep = [{\n    content: \"Wait a few ms to avoid race condition\",\n    // Ensure the class is remove from previous call of those steps\n    extra_trigger: `body:not(.${socialRaceConditionClass})`,\n    trigger: 'iframe .s_social_media',\n    run() {\n        setTimeout(() => {\n            document.body.classList.add(socialRaceConditionClass);\n        }, 500);\n    }\n}, {\n    content: \"Check the race condition class is added after a few ms\",\n    trigger: `body.${socialRaceConditionClass}`,\n    run() {\n        document.body.classList.remove(socialRaceConditionClass);\n    }\n}];\n\nconst addNewSocialNetwork = function (optionIndex, linkIndex, url) {\n    return [{\n        content: \"Click on Add New Social Network\",\n        trigger: 'we-list we-button.o_we_list_add_optional',\n    },\n    {\n        content: \"Ensure new option is found\",\n        trigger: `we-list table input:eq(${optionIndex})[data-list-position=${optionIndex}][data-dom-position=${linkIndex}][data-undeletable=false]`,\n        run: () => {}, // This is a check.\n    },\n    {\n        content: \"Ensure new link is found\",\n        trigger: `iframe .s_social_media:has(a:eq(${linkIndex})[href='https://www.example.com'])`,\n        run: () => {}, // This is a check.\n    },\n    {\n        content: \"Change added Option label\",\n        trigger: `we-list table input:eq(${optionIndex})`,\n        run: `text_blur ${url}`,\n    },\n    {\n        content: \"Ensure new link is changed\",\n        trigger: `iframe .s_social_media:has(a:eq(${linkIndex})[href='${url}'])`,\n        run: () => {}, // This is a check.\n    },\n    ...preventRaceConditionStep,\n    ];\n};\n\nwTourUtils.registerWebsitePreviewTour('snippet_social_media', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\n    wTourUtils.dragNDrop({id: 's_social_media', name: 'Social Media'}),\n    wTourUtils.clickOnSnippet({id: 's_social_media', name: 'Social Media'}),\n    ...addNewSocialNetwork(7, 7, 'https://www.youtu.be/y7TlnAv6cto'),\n    {\n        content: 'Click on the toggle to hide Facebook',\n        trigger: 'we-list table we-button.o_we_user_value_widget',\n        run: 'click',\n    },\n    {\n        content: \"Ensure twitter became first\",\n        trigger: 'iframe .s_social_media:has(a:eq(0)[href=\"/website/social/twitter\"])',\n        run: () => {}, // This is a check.\n    },\n    {\n        content: 'Drag the facebook link at the end of the list',\n        trigger: 'we-list table we-button.o_we_drag_handle',\n        position: 'bottom',\n        run: \"drag_and_drop we-list table tr:last-child\",\n    },\n    {\n        content: 'Check drop completed',\n        trigger: 'we-list table input:eq(7)[data-media=\"facebook\"]',\n        run: () => {}, // This is a check.\n    },\n    ...preventRaceConditionStep,\n    // Create a Link for which we don't have an icon to propose.\n    ...addNewSocialNetwork(8, 7, 'https://whatever.it/1EdSw9X'),\n    // Create a custom instagram link.\n    ...addNewSocialNetwork(9, 8, 'https://instagr.am/odoo.official/'),\n    {\n        content: \"Check if the result is correct before removing\",\n        trigger: \"iframe .s_social_media\" +\n                 \":has(a:eq(0)[href='/website/social/twitter'])\" +\n                 \":has(a:eq(1)[href='/website/social/linkedin'])\" +\n                 \":has(a:eq(2)[href='/website/social/youtube'])\" +\n                 \":has(a:eq(3)[href='/website/social/instagram'])\" +\n                 \":has(a:eq(4)[href='/website/social/github'])\" +\n                 \":has(a:eq(5)[href='/website/social/tiktok'])\" +\n                 \":has(a:eq(6)[href='https://www.youtu.be/y7TlnAv6cto']:has(i.fa-youtube))\" +\n                 \":has(a:eq(7)[href='https://whatever.it/1EdSw9X']:has(i.fa-pencil))\" +\n                 \":has(a:eq(8)[href='https://instagr.am/odoo.official/']:has(i.fa-instagram))\",\n        run: () => {}, // This is a check.\n    },\n    // Create a custom link, not officially supported, ensure icon is found.\n    {\n        content: 'Change custom social to unsupported link',\n        trigger: 'we-list table input:eq(6)',\n        run: 'text_blur https://www.paypal.com/abc',\n    },\n    {\n        content: \"Ensure paypal icon is found\",\n        trigger: \"iframe .s_social_media\" +\n                 \":has(a:eq(6)[href='https://www.paypal.com/abc']:has(i.fa-paypal))\",\n        run: () => {}, // This is a check.\n    },\n    ...preventRaceConditionStep,\n    {\n        content: 'Delete the custom link',\n        trigger: 'we-list we-button.o_we_select_remove_option',\n        run: 'click',\n    },\n    {\n        content: \"Ensure custom link was removed\",\n        trigger: 'iframe .s_social_media:has(a:eq(6)[href=\"https://whatever.it/1EdSw9X\"]:has(i.fa-pencil))',\n        run: () => {}, // This is a check.\n    },\n    {\n        content: 'Click on the toggle to show Facebook',\n        trigger: 'we-list table we-button.o_we_user_value_widget:not(.active)',\n        run: 'click',\n    },\n    {\n        content: \"Check if the result is correct after removing\",\n        trigger: \"iframe .s_social_media\" +\n                 \":has(a:eq(0)[href='/website/social/twitter'])\" +\n                 \":has(a:eq(1)[href='/website/social/linkedin'])\" +\n                 \":has(a:eq(2)[href='/website/social/youtube'])\" +\n                 \":has(a:eq(3)[href='/website/social/instagram'])\" +\n                 \":has(a:eq(4)[href='/website/social/github'])\" +\n                 \":has(a:eq(5)[href='/website/social/tiktok'])\" +\n                 \":has(a:eq(6)[href='/website/social/facebook'])\" +\n                 \":has(a:eq(7)[href='https://whatever.it/1EdSw9X']:has(i.fa-pencil))\" +\n                 \":has(a:eq(8)[href='https://instagr.am/odoo.official/']:has(i.fa-instagram))\",\n        run: () => {}, // This is a check.\n    },\n    {\n        content: 'Change url of the DB instagram link',\n        trigger: 'we-list table input:eq(3)',\n        run: 'text_blur https://instagram.com/odoo.official/',\n    },\n    {\n        content: 'Save',\n        trigger: 'button[data-action=save]',\n        run: 'click',\n    },\n    {\n        content: \"Wait until save's calls are finished\",\n        trigger: \"iframe body:not(.editor_enable)\",\n        run: function () {}, // it's a check\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.clickOnSnippet({\n        id: 's_social_media',\n        name: 'Social Media',\n    }),\n    {\n        content: \"Check if we can still change custom icons\",\n        trigger: 'iframe .s_social_media a[href=\"https://whatever.it/1EdSw9X\"] i.fa-pencil',\n        run: 'dblclick',\n    },\n    {\n        content: \"Select a new icon\",\n        trigger: '.o_select_media_dialog .fa-heart',\n    },\n    {\n        content: \"Check if the result is correct after setting the icon\",\n        trigger: \"iframe .s_social_media\" +\n                 \":has(a:eq(0)[href='/website/social/twitter'])\" +\n                 \":has(a:eq(1)[href='/website/social/linkedin'])\" +\n                 \":has(a:eq(2)[href='/website/social/youtube'])\" +\n                 \":has(a:eq(3)[href='/website/social/instagram'])\" +\n                 \":has(a:eq(4)[href='/website/social/github'])\" +\n                 \":has(a:eq(5)[href='/website/social/tiktok'])\" +\n                 \":has(a:eq(6)[href='/website/social/facebook'])\" +\n                 \":has(a:eq(7)[href='https://whatever.it/1EdSw9X']:has(i.fa-heart))\" +\n                 \":has(a:eq(8)[href='https://instagr.am/odoo.official/']:has(i.fa-instagram))\",\n        isCheck: true,\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from 'website.tour_utils';\n\nconst scrollToHeading = function (position) {\n    return {\n        content: `Scroll to h1 number ${position}`,\n        trigger: `iframe h1:eq(${position})`,\n        run: function () {\n            this.$anchor[0].scrollIntoView(true);\n        },\n    };\n};\nconst checkTOCNavBar = function (tocPosition, activeHeaderPosition) {\n    return {\n        content: `Check that the header ${activeHeaderPosition} is active for TOC ${tocPosition}`,\n        trigger: `iframe .s_table_of_content:eq(${tocPosition}) .table_of_content_link:eq(${activeHeaderPosition}).active `,\n        run: () => {}, // This is a check.\n    };\n};\n\nwTourUtils.registerWebsitePreviewTour('snippet_table_of_content', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\n    wTourUtils.dragNDrop({id: 's_table_of_content', name: 'Table of Content'}),\n    wTourUtils.dragNDrop({id: 's_table_of_content', name: 'Table of Content'}),\n    // To make sure that the public widgets of the two previous ones started.\n    wTourUtils.dragNDrop({id: 's_banner', name: 'Banner'}),\n    ...wTourUtils.clickOnSave(),\n    checkTOCNavBar(0, 0),\n    checkTOCNavBar(1, 0),\n    scrollToHeading(1),\n    checkTOCNavBar(0, 1),\n    checkTOCNavBar(1, 0),\n    scrollToHeading(2),\n    checkTOCNavBar(1, 0),\n    scrollToHeading(3),\n    checkTOCNavBar(1, 1),\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Click on the first TOC's title\",\n        trigger: 'iframe .s_table_of_content:eq(0) h1',\n    },\n    {\n        content: \"Hide the first TOC on mobile\",\n        trigger: '[data-toggle-device-visibility=\"no_mobile\"]',\n    },\n    {\n        content: \"Click on the second TOC's title\",\n        trigger: 'iframe .s_table_of_content:eq(1) h1',\n    },\n    {\n        content: \"Hide the second TOC on desktop\",\n        trigger: '[data-toggle-device-visibility=\"no_desktop\"]',\n    },\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that we have the good TOC on desktop\",\n        trigger: 'iframe .s_table_of_content.o_snippet_mobile_invisible',\n        run: () => {\n            if ($(document.querySelector('iframe .s_table_of_content.o_snippet_desktop_invisible'))\n                    .is(':visible')) {\n                console.error('The mobile TOC should not be visible on desktop');\n            }\n        },\n    },\n    {\n        content: \"Toggle the mobile view\",\n        trigger: '.o_mobile_preview',\n    },\n    {\n        content: \"Check that we have the good TOC on mobile\",\n        trigger: 'iframe .s_table_of_content.o_snippet_desktop_invisible',\n        run: () => {\n            if ($(document.querySelector('iframe .s_table_of_content.o_snippet_mobile_invisible'))\n                    .is(':visible')) {\n                console.error('The desktop TOC should not be visible on mobile');\n            }\n        },\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('snippet_translation', {\n    url: '/',\n    edition: true,\n    test: true,\n}, [\n    wTourUtils.dragNDrop({name: 'Cover'}),\n    {\n        content: \"Check that contact us contain Parseltongue\",\n        trigger: 'iframe .s_cover .btn-primary:contains(\"Contact us in Parseltongue\")',\n        run: () => null, // it's a check\n    },\n    {\n        content: \"Check that the save button contains 'in fu_GB'\",\n        trigger: '.btn[data-action=\"save\"]:contains(\"Save in fu_GB\")',\n        run: () => null, // it's a check\n    },\n]);\nwTourUtils.registerWebsitePreviewTour('snippet_translation_changing_lang', {\n    url: '/',\n    test: true,\n}, [\n    {\n        content: \"Change language to Parseltongue\",\n        trigger: 'iframe .js_language_selector .btn',\n    },\n    {\n        content: \"Change the language to English\",\n        trigger: 'iframe .js_language_selector .js_change_lang[data-url_code=\"en\"]',\n    },\n    {\n        content: \"Enable translation\",\n        trigger: '.o_translate_website_container a',\n    },\n    {\n        content: \"Close the dialog\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    ...wTourUtils.clickOnSave(),\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.dragNDrop({name: 'Cover'}),\n    {\n        content: \"Check that contact us contain Parseltongue\",\n        trigger: 'iframe .s_cover .btn-primary:contains(\"Contact us in Parseltongue\")',\n        run: () => null, // it's a check\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"website.tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\"snippet_version\", {\n    edition: true,\n    url: \"/\",\n    test: true,\n}, [{\n    content: \"Drop s_test_snip snippet\",\n    trigger: '#oe_snippets .oe_snippet:has(.s_test_snip) .oe_snippet_thumbnail',\n    run: \"drag_and_drop iframe #wrap\",\n}, {\n    content: \"Drop s_text_image snippet\",\n    trigger: '#oe_snippets .oe_snippet:has(.s_text_image) .oe_snippet_thumbnail:not(.o_we_already_dragging)',\n    run: \"drag_and_drop iframe #wrap\",\n}, {\n    content: \"Test t-snippet and t-snippet-call: snippets have data-snippet set\",\n    trigger: '#oe_snippets .o_panel_body > .oe_snippet.ui-draggable',\n    run: function () {\n        // Tests done here as all these are not visible on the page\n        const draggableSnippets = document.querySelectorAll('#oe_snippets .o_panel_body > .oe_snippet.ui-draggable > :nth-child(2)');\n        if (![...draggableSnippets].every(el => el.dataset.snippet)) {\n            console.error(\"error Some t-snippet are missing their template name\");\n        }\n        if (!document.querySelector('#oe_snippets [data-snippet=\"s_test_snip\"] [data-snippet=\"s_share\"]')) {\n            console.error(\"error s_share t-called inside s_test_snip is missing template name\");\n        }\n        if (!document.querySelector('iframe:not(.o_ignore_in_tour)').contentDocument.querySelector('#wrap [data-snippet=\"s_test_snip\"] [data-snippet=\"s_share\"]')) {\n            console.error(\"error Dropped a s_test_snip snippet but missing s_share template name in it\");\n        }\n    },\n},\n    ...wTourUtils.clickOnSave(),\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n{\n    content: \"Modify the version of snippets\",\n    trigger: '#oe_snippets .o_panel_body > .oe_snippet',\n    run: function () {\n        document.querySelector('#oe_snippets .oe_snippet > [data-snippet=\"s_test_snip\"]').dataset.vjs = '999';\n        document.querySelector('#oe_snippets .oe_snippet > [data-snippet=\"s_share\"]').dataset.vcss = '999';\n        document.querySelector('#oe_snippets .oe_snippet > [data-snippet=\"s_text_image\"]').dataset.vxml = '999';\n    },\n}, {\n    content: \"Edit s_test_snip\",\n    trigger: 'iframe #wrap.o_editable .s_test_snip',\n}, {\n    content: \"Edit text_image\",\n    extra_trigger: 'we-customizeblock-options:contains(Test snip) .snippet-option-VersionControl > we-alert',\n    trigger: 'iframe #wrap.o_editable .s_text_image',\n}, {\n    content: \"Edit s_share\",\n    extra_trigger: 'we-customizeblock-options:contains(Text - Image) .snippet-option-VersionControl  > we-alert',\n    trigger: 'iframe #wrap.o_editable .s_share',\n}, {\n    content: \"s_share is outdated\",\n    extra_trigger: 'we-customizeblock-options:contains(Share) .snippet-option-VersionControl > we-alert',\n    trigger: 'iframe body',\n}]);\n", "/** @odoo-module **/\n\nimport { WysiwygAdapterComponent } from \"@website/components/wysiwyg_adapter/wysiwyg_adapter\";\nimport websiteTourUtils from \"website.tour_utils\";\nimport { patch, unpatch } from \"web.utils\";\n\nconst patchWysiwygAdapter = () => patch(WysiwygAdapterComponent.prototype, 'snippets_all_drag_and_drop.wysiwyg_adapter', {\n    _trigger_up(ev) {\n        this._super(...arguments);\n        if (ev.name === 'snippet_removed') {\n            $('body').attr('test-dd-snippet-removed', true);\n        }\n    }\n});\n\nconst unpatchWysiwygAdapter = () => unpatch(WysiwygAdapterComponent.prototype, 'snippets_all_drag_and_drop.wysiwyg_adapter');\n\nimport { registry } from \"@web/core/registry\";\n\nlet snippetsNames = (new URL(document.location.href)).searchParams.get('snippets_names') || '';\n// When this test is loaded in the backend, the search params aren't as easy to\n// read as before. Little trickery to make this test run.\nconst searchParams = new URLSearchParams(window.location.href.split('#')[1]).get('path');\nif (searchParams) {\n    snippetsNames = new URLSearchParams(searchParams.split('/')[1]).get('snippets_names') || '';\n    snippetsNames = snippetsNames.split(',');\n}\nlet steps = [];\nlet n = 0;\nfor (const snippet of snippetsNames) {\n    n++;\n    const isModal = ['s_popup', 's_newsletter_subscribe_popup'].includes(snippet)\n    const snippetSteps = [{\n        content: `Drop ${snippet} snippet [${n}/${snippetsNames.length}]`,\n        trigger: `#oe_snippets .oe_snippet:has( > [data-snippet='${snippet}']) .oe_snippet_thumbnail`,\n        run: \"drag_and_drop iframe #wrap\",\n    }, {\n        content: `Edit ${snippet} snippet`,\n        trigger: `iframe #wrap.o_editable [data-snippet='${snippet}']${isModal ? ' .modal.show' : ''}`,\n    }, {\n        content: `check ${snippet} setting are loaded, wait panel is visible`,\n        trigger: \".o_we_customize_panel\",\n        run: function () {}, // it's a check\n    }, {\n        content: `Remove the ${snippet} snippet`, // Avoid bad perf if many snippets\n        trigger: \"we-button.oe_snippet_remove:last\"\n    }, {\n        content: `click on 'BLOCKS' tab (${snippet})`,\n        extra_trigger: 'body[test-dd-snippet-removed]',\n        trigger: \".o_we_add_snippet_btn\",\n        run: function (actions) {\n            $('body').removeAttr('test-dd-snippet-removed');\n            actions.auto();\n        },\n    }];\n\n    if (snippet === 's_google_map') {\n        snippetSteps.splice(1, 3, {\n            content: 'Close API Key popup',\n            trigger: \"iframe .modal-footer .btn-secondary\",\n        });\n    } else if (['s_popup', 's_newsletter_subscribe_popup'].includes(snippet)) {\n        snippetSteps[2]['in_modal'] = false;\n        snippetSteps.splice(3, 2, {\n            content: `Hide the ${snippet} popup`,\n            trigger: `iframe [data-snippet='${snippet}'] .s_popup_close`,\n        }, {\n            content: `Make sure ${snippet} is hidden`,\n            trigger: \"iframe body:not(.modal-open)\",\n        });\n    }\n    steps = steps.concat(snippetSteps);\n}\n\nregistry.category(\"web_tour.tours\").add(\"snippets_all_drag_and_drop\", {\n    test: true,\n    // To run the tour locally, you need to insert the URL sent by the python\n    // tour here. There is currently an issue with tours which don't have an URL\n    // url: '/?enable_editor=1&snippets_names=s_showcase,s_numbers,s_...',\n    steps: () => [\n    ...websiteTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Ensure snippets are actually passed at the test.\",\n        trigger: \"body\",\n        run: function () {\n            // safety check, otherwise the test might \"break\" one day and\n            // receive no steps. The test would then not test anything anymore\n            // without us noticing it.\n            if (steps.length < 220) {\n                console.error(`This test is not behaving as it should, got only ${steps.length} steps.`);\n            }\n            patchWysiwygAdapter();\n        },\n    },\n    // This first step is needed as it will be used later for inner snippets\n    // Without this, it will dropped inside the footer and will need an extra\n    // selector.\n    {\n        content: \"Drop s_text_image snippet\",\n        trigger: \"#oe_snippets .oe_snippet:has( > [data-snippet='s_text_image']) .oe_snippet_thumbnail\",\n        run: \"drag_and_drop iframe #wrap\"\n    },\n    {\n        content: \"Edit s_text_image snippet\",\n        trigger: \"iframe #wrap.o_editable [data-snippet='s_text_image']\"\n    },\n    {\n        content: \"check setting are loaded, wait panel is visible\",\n        trigger: \".o_we_customize_panel\"\n    },\n    {\n        content: \"click on 'BLOCKS' tab\",\n        trigger: \".o_we_add_snippet_btn\"\n    },\n].concat(steps).concat([\n    {\n        content: \"Remove wysiwyg patch\",\n        trigger: \"body\",\n        run: () => unpatchWysiwygAdapter(),\n    }\n]),\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport wTourUtils from \"website.tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\"generic_website_editor\", {\n    test: true,\n    edition: true,\n}, [{\n    trigger: 'iframe body:not([data-hello=\"world\"])',\n    content: 'Check that the editor DOM matches its website-generic features',\n    run: function () {}, // Simple check\n}]);\n\n// Good practice would have been to use `wTourUtils.registerWebsitePreviewTour`\n// for this tour with `edition: true` and remove the first step to enter edit\n// mode. Unfortunately this breaks the page and therefore the test fails for\n// unknown reason.\nregistry.category(\"web_tour.tours\").add('specific_website_editor', {\n    test: true,\n    steps: () => [\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n{\n    trigger: 'iframe body[data-hello=\"world\"]',\n    content: 'Check that the editor DOM matches its website-specific features',\n    run: function () {}, // Simple check\n}]});\n", "/** @odoo-module **/\n\nimport wTourUtils from 'website.tour_utils';\n\nconst countdownSnippet = {\n    name: 'Countdown',\n    id: 's_countdown',\n};\nconst dragNDropOutOfFooter = wTourUtils.dragNDrop(countdownSnippet);\ndragNDropOutOfFooter.run = 'drag_and_drop iframe #wrapwrap #wrap';\n\nwTourUtils.registerWebsitePreviewTour('website_start_cloned_snippet', {\n    edition: true,\n    test: true,\n    url: '/',\n}, [\n    dragNDropOutOfFooter,\n    wTourUtils.clickOnSnippet(countdownSnippet),\n    {\n        content: 'Click on clone snippet',\n        trigger: '.oe_snippet_clone',\n    },\n    {\n        content: 'Check that the cloned snippet has a canvas and that something has been drawn inside of it',\n        trigger: 'iframe .s_countdown:eq(1) canvas',\n        run: function () {\n            // Check that at least one bit has been drawn in the canvas\n            if (!this.$anchor[0].getContext('2d').getImageData(0, 0, 1000, 1000).data.includes(1)) {\n                console.error('The cloned snippet should have been started');\n            }\n        },\n    },\n]);\n", "/** @odoo-module */\n\nimport wTourUtils from \"website.tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\"text_animations\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, [\n    wTourUtils.dragNDrop({\n        id: \"s_cover\",\n        name: \"Cover\",\n    }),\n    {\n        content: \"Click on the snippet title\",\n        trigger: \"iframe .s_cover h1 > font\",\n        run: \"dblclick\", // Make sure the title is selected.\n    },\n    {\n        content: \"Click on the 'Animate Text' button to activate the option\",\n        trigger: \"div.o_we_animate_text\",\n    },\n    {\n        content: \"Check that the animation was applied\",\n        trigger: \"iframe .s_cover h1 span.o_animated_text\",\n        isCheck: true,\n    },\n    {\n        content: \"Click on the 'Animate Text' button\",\n        trigger: \"div.o_we_animate_text\",\n    },\n    {\n        content: \"Check that the animation was disabled for the title\",\n        trigger: \"iframe .s_cover:not(:has(.o_animated_text))\",\n        isCheck: true,\n    },\n    {\n        content: \"Try to apply the text animation again\",\n        trigger: \"div.o_we_animate_text\",\n    },\n    {\n        content: \"Check that the animation was applied\",\n        trigger: \"iframe .s_cover:has(span.o_animated_text)\",\n        isCheck: true,\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('translate_menu_name', {\n    url: '/pa_GB',\n    test: true,\n    edition: false,\n}, [\n    {\n        content: \"activate translate mode\",\n        trigger: '.o_translate_website_container a',\n    },\n    {\n        content: \"Close the dialog\",\n        trigger: '.modal-footer .btn-primary',\n    },\n    wTourUtils.clickOnExtraMenuItem({}, true),\n    {\n        content: \"translate the menu entry\",\n        trigger: 'iframe a[href=\"/englishURL\"] span',\n        run: 'text value pa-GB',\n    },\n    ...wTourUtils.clickOnSave(),\n]);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"test_unsplash_beacon\", {\n    test: true,\n    url: \"/\",\n    steps: () => [{\n        content: \"Verify whether beacon was sent.\",\n        trigger: 'img[data-beacon=\"sent\"]',\n        isCheck: true,\n    }],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('website_backend_menus_redirect', {\n    test: true,\n    url: '/',\n    steps: () => [\n{\n    content: 'Need at least a step so the tour is not failing in enterprise',\n    trigger: 'body',\n    edition: 'enterprise',\n}, {\n    content: 'Make frontend to backend menus appears',\n    trigger: 'body:has(#wrap)',\n    run: function () {\n        // The dropdown is hidden behind an SVG on hover animation.\n        this.$anchor.find('.o_frontend_to_backend_apps_menu').addClass('show');\n    },\n    edition: 'community',\n}, {\n    content: 'Click on Test Root backend menu',\n    trigger: '.o_frontend_to_backend_apps_menu a:contains(\"Test Root\")',\n    edition: 'community',\n}, {\n    content: 'Check that we landed on the apps page (Apps), and not the Home Action page (Settings)',\n    trigger: '.oe_module_vignette',\n    edition: 'community',\n}\n]});\n", "/** @odoo-module **/\n\nimport wTourUtils from 'website.tour_utils';\n\nconst cover = {\n    id: 's_cover',\n    name: 'Cover',\n};\n\nwTourUtils.registerWebsitePreviewTour('website_click_tour', {\n    test: true,\n    url: '/',\n}, [\n    {\n        content: \"trigger a page navigation\",\n        trigger: 'iframe a[href=\"/contactus\"]',\n    },\n    {\n        content: \"wait for the page to be loaded\",\n        trigger: '.o_website_preview[data-view-xmlid=\"website.contactus\"]',\n        run: () => null, // it's a check\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"click on a link that would trigger navigation\",\n        trigger: 'iframe a[href=\"/\"]',\n    },\n    wTourUtils.goBackToBlocks(),\n    wTourUtils.dragNDrop(cover),\n    wTourUtils.clickOnSnippet(cover),\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"wait for the iframe to be ready\",\n        trigger: 'iframe body:not(.editor_enable)',\n        run: () => null, // it's a check\n    }\n]);\n", "/** @odoo-module alias=website.tour.form_editor **/\n\n    import wTourUtils from \"website.tour_utils\";\n\n    // Visibility possible values:\n    const VISIBLE = 'Always Visible';\n    const HIDDEN = 'Hidden';\n    const CONDITIONALVISIBILITY = 'Visible only if';\n\n    const NB_NON_ESSENTIAL_REQUIRED_FIELDS_IN_DEFAULT_FORM = 2;\n    const ESSENTIAL_FIELDS_VALID_DATA_FOR_DEFAULT_FORM = [\n        {\n            name: 'email_from',\n            value: 'admin@odoo.com',\n        },\n        {\n            name: 'subject',\n            value: 'Hello, world!',\n        }\n    ];\n    const essentialFieldsForDefaultFormFillInSteps = [];\n    for (const data of ESSENTIAL_FIELDS_VALID_DATA_FOR_DEFAULT_FORM) {\n        essentialFieldsForDefaultFormFillInSteps.push({\n            content: \"Enter data in model-required field\",\n            trigger: `iframe .s_website_form_model_required .s_website_form_input[name=\"${data.name}\"]`,\n            run: `text ${data.value}`,\n        });\n    }\n\n    // Replace all `\"` character by `&quot;`, all `'` character by `&apos;` and\n    // all \"`\" character by `&lsquo;`.\n    const getQuotesEncodedName = function (name) {\n            return name.replaceAll(/\"/g, character => `&quot;`)\n                       .replaceAll(/'/g, character => `&apos;`)\n                       .replaceAll(/`/g, character => `&lsquo;`)\n                       .replaceAll(\"\\\\\", character => `&bsol;`);\n    };\n\n    const triggerFieldByLabel = (label) => {\n        return `.s_website_form_field.s_website_form_custom:has(label:contains(\"${label}\"))`;\n    };\n    const selectFieldByLabel = (label) => {\n        return [{\n            content: `Select field \"${label}\"`,\n            trigger: \"iframe \" + triggerFieldByLabel(label),\n        }];\n    };\n    const selectButtonByText = function (text) {\n        return [{\n            content: \"Open the select\",\n            trigger: `we-select:has(we-button:contains(\"${text}\")) we-toggler`,\n        },\n        {\n            content: \"Click on the option\",\n            trigger: `we-select we-button:contains(\"${text}\")`,\n        }];\n    };\n    const selectButtonByData = function (data) {\n        return [{\n            content: \"Open the select\",\n            trigger: `we-select:has(we-button[${data}]) we-toggler`,\n        }, {\n            content: \"Click on the option\",\n            trigger: `we-select we-button[${data}]`,\n        }];\n    };\n    const addField = function (name, type, label, required, isCustom,\n                               display = {visibility: VISIBLE, condition: \"\"}) {\n        const data = isCustom ? `data-custom-field=\"${name}\"` : `data-existing-field=\"${name}\"`;\n        const ret = [{\n            content: \"Select form\",\n            extra_trigger: 'iframe .s_website_form_field',\n            trigger: 'iframe section.s_website_form',\n        }, {\n            content: \"Add field\",\n            trigger: 'we-button[data-add-field]',\n        },\n        ...selectButtonByData(data),\n        {\n            content: \"Wait for field to load\",\n            trigger: `iframe .s_website_form_field[data-type=\"${name}\"], .s_website_form_input[name=\"${name}\"]`, //custom or existing field\n            run: function () {},\n        },\n        ...selectButtonByText(display.visibility),\n    ];\n        let testText = 'iframe .s_website_form_field';\n        if (display.condition) {\n            ret.push({\n                content: \"Set the visibility condition\",\n                trigger: 'we-input[data-attribute-name=\"visibilityCondition\"] input',\n                run: `text ${display.condition}`,\n            });\n        }\n        if (required) {\n            testText += '.s_website_form_required';\n            ret.push({\n                content: \"Mark the field as required\",\n                trigger: 'we-button[data-name=\"required_opt\"] we-checkbox',\n            });\n        }\n        if (label) {\n            testText += `:has(label:contains(${label}))`;\n            ret.push({\n                content: \"Change the label text\",\n                trigger: 'we-input[data-set-label-text] input',\n                run: `text ${label}`,\n            });\n        }\n        if (type !== 'checkbox' && type !== 'radio' && type !== 'select') {\n            let inputType = type === 'textarea' ? type : `input[type=\"${type}\"]`;\n            const nameAttribute = isCustom && label ? getQuotesEncodedName(label) : name;\n            testText += `:has(${inputType}[name=\"${nameAttribute}\"]${required ? \"[required]\" : \"\"})`;\n            // Because 'testText' will be used as selector to verify the content\n            // of the label, the `\\` character needs to be escaped.\n            testText = testText.replaceAll(\"\\\\\", \"\\\\\\\\\");\n        }\n        ret.push({\n            content: \"Check the resulting field\",\n            trigger: testText,\n            run: function () {},\n        });\n        return ret;\n    };\n    const addCustomField = function (name, type, label, required, display) {\n        return addField(name, type, label, required, true, display);\n    };\n    const addExistingField = function (name, type, label, required, display) {\n        return addField(name, type, label, required, false, display);\n    };\n\n    wTourUtils.registerWebsitePreviewTour(\"website_form_editor_tour\", {\n        url: '/',\n        edition: true,\n        test: true,\n    }, [\n        // Drop a form builder snippet and configure it\n        {\n            content: \"Drop the form snippet\",\n            trigger: '#oe_snippets .oe_snippet:has(.s_website_form) .oe_snippet_thumbnail',\n            run: 'drag_and_drop iframe #wrap',\n        }, {\n            content: \"Select form by clicking on an input field\",\n            extra_trigger: 'iframe .s_website_form_field',\n            trigger: 'iframe section.s_website_form input',\n        }, {\n            content: \"Verify that the form editor appeared\",\n            trigger: '.o_we_customize_panel .snippet-option-WebsiteFormEditor',\n            run: () => null,\n        }, {\n            content: \"Go back to blocks to unselect form\",\n            trigger: '.o_we_add_snippet_btn',\n        }, {\n            content: \"Select form by clicking on a text area\",\n            extra_trigger: 'iframe .s_website_form_field',\n            trigger: 'iframe section.s_website_form textarea',\n        }, {\n            content: \"Verify that the form editor appeared\",\n            trigger: '.o_we_customize_panel .snippet-option-WebsiteFormEditor',\n            run: () => null,\n        }, {\n            content: \"Rename the field label\",\n            trigger: 'we-input[data-set-label-text] input',\n            run: \"text Renamed\",\n        }, {\n            content: \"Leave the rename options\",\n            trigger: 'we-input[data-set-label-text] input',\n            run: \"text_blur\",\n        }, {\n            content: \"Go back to blocks to unselect form\",\n            trigger: '.o_we_add_snippet_btn',\n        }, {\n            content: \"Select form itself (not a specific field)\",\n            extra_trigger: 'iframe .s_website_form_field',\n            trigger: 'iframe section.s_website_form',\n        },\n        ...selectButtonByText('Send an E-mail'),\n        {\n            content: \"Form has a model name\",\n            trigger: 'iframe section.s_website_form form[data-model_name=\"mail.mail\"]',\n        }, {\n            content: 'Edit the Phone Number field',\n            trigger: 'iframe input[name=\"phone\"]',\n        }, {\n            content: 'Change the label position of the phone field',\n            trigger: 'we-button[data-select-label-position=\"right\"]',\n        },\n        ...addExistingField('email_cc', 'text', 'Test conditional visibility', false, {visibility: CONDITIONALVISIBILITY, condition: 'odoo'}),\n\n        ...addExistingField('date', 'text', 'Test Date', true),\n\n        ...addExistingField('record_name', 'text', 'Awesome Label', false, {visibility: HIDDEN}),\n\n        ...addExistingField('body_html', 'textarea', 'Your Message', true),\n\n        ...addExistingField('recipient_ids', 'checkbox'),\n\n        ...addCustomField('one2many', 'checkbox', 'Products', true),\n        {\n            content: \"Change Option 1 label\",\n            trigger: 'we-list table input:eq(0)',\n            run: 'text Iphone',\n        }, {\n            content: \"Change Option 2 label\",\n            trigger: 'we-list table input:eq(1)',\n            run: 'text Galaxy S',\n        }, {\n            content: \"Change first Option 3 label\",\n            trigger: 'we-list table input:eq(2)',\n            run: 'text Xperia',\n        }, {\n            content: \"Click on Add new Checkbox\",\n            trigger: 'we-list we-button.o_we_list_add_optional',\n        }, {\n            content: \"Change added Option label\",\n            trigger: 'we-list table input:eq(3)',\n            run: 'text Wiko Stairway',\n        }, {\n            content: \"Check the resulting field\",\n            trigger: \"iframe .s_website_form_field.s_website_form_custom.s_website_form_required\" +\n                        \":has(.s_website_form_multiple[data-display='horizontal'])\" +\n                        \":has(.checkbox:has(label:contains('Iphone')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Galaxy S')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Xperia')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Wiko Stairway')):has(input[type='checkbox'][required]))\",\n            run: function () {},\n        },\n        ...selectButtonByData('data-multi-checkbox-display=\"vertical\"'),\n        {\n            content: \"Check the resulting field\",\n            trigger: \"iframe .s_website_form_field.s_website_form_custom.s_website_form_required\" +\n                        \":has(.s_website_form_multiple[data-display='vertical'])\" +\n                        \":has(.checkbox:has(label:contains('Iphone')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Galaxy S')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Xperia')):has(input[type='checkbox'][required]))\" +\n                        \":has(.checkbox:has(label:contains('Wiko Stairway')):has(input[type='checkbox'][required]))\",\n            run: function () {},\n        },\n\n        ...addCustomField('selection', 'radio', 'Service', true),\n        {\n            content: \"Change Option 1 label\",\n            trigger: 'we-list table input:eq(0)',\n            run: 'text After-sales Service',\n        }, {\n            content: \"Change Option 2 label\",\n            trigger: 'we-list table input:eq(1)',\n            run: 'text Invoicing Service',\n        }, {\n            content: \"Change first Option 3 label\",\n            trigger: 'we-list table input:eq(2)',\n            run: 'text Development Service',\n        }, {\n            content: \"Click on Add new Checkbox\",\n            trigger: 'we-list we-button.o_we_list_add_optional',\n        }, {\n            content: \"Change last Option label\",\n            trigger: 'we-list table input:eq(3)',\n            run: 'text Management Service',\n        }, {\n            content: \"Mark the field as not required\",\n            trigger: 'we-button[data-name=\"required_opt\"] we-checkbox',\n        }, {\n            content: \"Check the resulting field\",\n            trigger: \"iframe .s_website_form_field.s_website_form_custom:not(.s_website_form_required)\" +\n                        \":has(.radio:has(label:contains('After-sales Service')):has(input[type='radio']:not([required])))\" +\n                        \":has(.radio:has(label:contains('Invoicing Service')):has(input[type='radio']:not([required])))\" +\n                        \":has(.radio:has(label:contains('Development Service')):has(input[type='radio']:not([required])))\" +\n                        \":has(.radio:has(label:contains('Management Service')):has(input[type='radio']:not([required])))\",\n            run: function () {},\n        },\n\n        ...addCustomField('many2one', 'select', 'State', true),\n\n        // Customize custom selection field\n        {\n            content: \"Change Option 1 Label\",\n            trigger: 'we-list table input:eq(0)',\n            run: 'text Germany',\n        }, {\n            content: \"Change Option 2 Label\",\n            trigger: 'we-list table input:eq(1)',\n            run: 'text Belgium',\n        }, {\n            content: \"Change first Option 3 label\",\n            trigger: 'we-list table input:eq(2)',\n            run: 'text France',\n        }, {\n            content: \"Click on Add new Checkbox\",\n            trigger: 'we-list we-button.o_we_list_add_optional',\n        }, {\n            content: \"Change last Option label\",\n            trigger: 'we-list table input:eq(3)',\n            run: 'text Canada',\n        }, {\n            content: \"Remove Germany Option\",\n            trigger: '.o_we_select_remove_option:eq(0)',\n        }, {\n            content: \"Click on Add new Checkbox\",\n            trigger: 'we-list we-button.o_we_list_add_optional',\n        }, {\n            content: \"Change last option label with a number\",\n            trigger: 'we-list table input:eq(3)',\n            run: 'text 44 - UK',\n        }, {\n            content: \"Check that the input value is the full option value\",\n            trigger: 'we-list table input:eq(3)',\n            run: () => {\n                const addedOptionEl = document.querySelector('iframe.o_iframe').contentDocument.querySelector('.s_website_form_field select option[value=\"44 - UK\"]');\n                if (!addedOptionEl) {\n                    console.error('The number option was not correctly added');\n                }\n            },\n        }, {\n            content: \"Check the resulting snippet\",\n            trigger: \"iframe .s_website_form_field.s_website_form_custom.s_website_form_required\" +\n                        \":has(label:contains('State'))\" +\n                        \":has(select[required]:hidden)\" +\n                        \":has(.s_website_form_select_item:contains('Belgium'))\" +\n                        \":has(.s_website_form_select_item:contains('France'))\" +\n                        \":has(.s_website_form_select_item:contains('Canada'))\" +\n                        \":has(.s_website_form_select_item:contains('44 - UK'))\" +\n                        \":not(:has(.s_website_form_select_item:contains('Germany')))\",\n            run: function () {},\n        },\n\n        ...addExistingField('attachment_ids', 'file', 'Invoice Scan'),\n\n        {\n            content: \"Insure the history step of the editor is not checking for unbreakable\",\n            trigger: 'iframe #wrapwrap',\n            run: () => {\n                const wysiwyg = $('iframe:not(.o_ignore_in_tour)').contents().find('#wrapwrap').data('wysiwyg');\n                wysiwyg.odooEditor.historyStep(true);\n            },\n        },\n        // Edit the submit button using linkDialog.\n        {\n            content: \"Click submit button to show edit popover\",\n            trigger: 'iframe .s_website_form_send',\n        }, {\n            content: \"Click on Edit Link in Popover\",\n            trigger: 'iframe .o_edit_menu_popover .o_we_edit_link',\n        }, {\n            content: \"Check that no URL field is suggested\",\n            trigger: '.oe-toolbar:not(.oe-floating):has(#url_row:hidden)',\n            run: () => null,\n        }, {\n            content: \"Change button's style\",\n            trigger: '.dropdown:has([name=\"link_style_color\"]) > button',\n            run: () => {\n                $('.dropdown:has([name=\"link_style_color\"]) > button').click();\n                $('[data-value=\"secondary\"]').click();\n                $('.dropdown:has([name=\"link_style_shape\"]) > button').click();\n                $('[data-value=\"rounded-circle\"]').click();\n                $('.dropdown:has([name=\"link_style_size\"]) > button').click();\n                $('[data-value=\"sm\"]').click();\n            },\n        }, {\n            content: \"Check the resulting button\",\n            trigger: 'iframe .s_website_form_send.btn.btn-sm.btn-secondary.rounded-circle',\n            run: () => null,\n        },\n        // Add a default value to a auto-fillable field.\n        {\n            content: 'Select the name field',\n            trigger: 'iframe .s_website_form_field:eq(0)',\n        }, {\n            content: 'Set a default value to the name field',\n            trigger: 'we-input[data-attribute-name=\"value\"] input',\n            run: 'text John Smith',\n        },\n\n        // Add two fields: the 1st one's visibility is tied to the 2nd one\n        // being set, and the 2nd one is autopopulated. As a result, both\n        // should be visible by default.\n        ...addCustomField(\"char\", \"text\", \"field A\", false, {visibility: CONDITIONALVISIBILITY}),\n        ...addCustomField(\"char\", \"text\", \"field B\", false),\n        ...selectFieldByLabel(\"field A\"),\n        ...selectButtonByData('data-set-visibility-dependency=\"field B\"'),\n        ...selectButtonByData('data-select-data-attribute=\"set\"'),\n        ...selectFieldByLabel(\"field B\"),\n        {\n            content: \"Insert default value\",\n            trigger: 'we-input[data-attribute-name=\"value\"] input',\n            run: \"text prefilled\",\n        },\n        {\n            content: \"Save the page\",\n            trigger: \"button[data-action=save]\",\n        },\n        {\n            content: 'Verify value attribute and property',\n            extra_trigger: 'iframe body:not(.editor_enable)',\n            trigger: 'iframe .s_website_form_field:eq(0) input[value=\"John Smith\"]:propValue(\"Mitchell Admin\")',\n        },\n        {\n            content: 'Verify that phone field is still auto-fillable',\n            trigger: 'iframe .s_website_form_field input[data-fill-with=\"phone\"]:propValue(\"+1 555-555-5555\")',\n        },\n        // Check that the resulting form behavior is correct.\n        {\n            content: \"Check that field B prefill text is set\",\n            trigger: `iframe ${triggerFieldByLabel(\"field B\")}:has(input[value=\"prefilled\"])`,\n            run: () => null, // it's a check\n        }, {\n            content: \"Check that field A is visible\",\n            trigger: `iframe .s_website_form:has(${triggerFieldByLabel(\"field A\")}:visible)`,\n            run: () => null, // it's a check\n        },\n        // A) Check that if we edit again and save again the default value is\n        // not deleted.\n        // B) Add a 3rd field. Field A's visibility is tied to field B being set,\n        // field B is autopopulated and its visibility is tied to field C being\n        // set, and field C is empty.\n        ...wTourUtils.clickOnEditAndWaitEditMode(),\n        {\n            content: 'Edit the form',\n            trigger: 'iframe .s_website_form_field:eq(0) input',\n            run: 'click',\n        },\n        ...addCustomField(\"char\", \"text\", \"field C\", false),\n        ...selectFieldByLabel(\"field B\"),\n        ...selectButtonByText(CONDITIONALVISIBILITY),\n        ...selectButtonByData('data-set-visibility-dependency=\"field C\"'),\n        ...selectButtonByData('data-select-data-attribute=\"set\"'),\n        {\n            content: 'Save the page',\n            trigger: 'button[data-action=save]',\n            run: 'click',\n        },\n\n        // Check that the resulting form behavior is correct.\n        {\n            content: 'Verify that the value has not been deleted',\n            extra_trigger: 'iframe body:not(.editor_enable)',\n            trigger: 'iframe .s_website_form_field:eq(0) input[value=\"John Smith\"]',\n        }, {\n            content: \"Check that fields A and B are not visible and that field B's prefill text is still set\",\n            trigger: \"iframe .s_website_form\" +\n                `:has(${triggerFieldByLabel(\"field A\")}:not(:visible))` +\n                `:has(${triggerFieldByLabel(\"field B\")}` +\n                `:has(input[value=\"prefilled\"]):not(:visible))`,\n            run: () => null, // it's a check\n        }, {\n            content: \"Type something in field C\",\n            trigger: `iframe ${triggerFieldByLabel(\"field C\")} input`,\n            run: \"text Sesame\",\n        }, {\n            content: \"Check that fields A and B are visible\",\n            trigger: `iframe .s_website_form:has(${triggerFieldByLabel(\"field B\")}:visible)` +\n                `:has(${triggerFieldByLabel(\"field A\")}:visible)`,\n            run: () => null, // it's a check\n        },\n\n        // Have field A's visibility tied to field B containing something,\n        // while field B's visibility is also tied to another field.\n        ...wTourUtils.clickOnEditAndWaitEditMode(),\n        ...selectFieldByLabel(\"field A\"),\n        {\n            content: \"Verify that the form editor appeared\",\n            trigger: \".o_we_customize_panel .snippet-option-WebsiteFormEditor\",\n            run: () => null,\n        },\n        ...selectButtonByData('data-select-data-attribute=\"contains\"'),\n        {\n            content: \"Tie the visibility of field A to field B containing 'peek-a-boo'\",\n            trigger: \"we-input[data-name=hidden_condition_additional_text] input\",\n            run: \"text peek-a-boo\",\n        },\n        ...wTourUtils.clickOnSave(),\n\n        // Check that the resulting form works and does not raise an error.\n         {\n            content: \"Write anything in C\",\n            trigger: `iframe ${triggerFieldByLabel(\"field C\")} input`,\n            run: \"text Mellon\",\n        }, {\n            content: \"Check that field B is visible, but field A is not\",\n            trigger: `iframe .s_website_form:has(${triggerFieldByLabel(\"field B\")}:visible)` +\n                `:has(${triggerFieldByLabel(\"field A\")}:not(:visible))`,\n            run: () => null, // it's a check\n        }, {\n            content: \"Insert 'peek-a-boo' in field B\",\n            trigger: `iframe ${triggerFieldByLabel(\"field B\")} input`,\n            run: \"text peek-a-boo\",\n        }, {\n            content: \"Check that field A is visible\",\n            trigger: `iframe .s_website_form:has(${triggerFieldByLabel(\"field A\")}:visible)`,\n            run: () => null, // it's a check\n        },\n        ...wTourUtils.clickOnEditAndWaitEditMode(),\n        {\n            content: 'Click on the submit button',\n            trigger: 'iframe .s_website_form_send',\n            run: 'click',\n        },\n        {\n            content: 'Change the Recipient Email',\n            trigger: '[data-field-name=\"email_to\"] input',\n            run: 'text test@test.test',\n        },\n        // The next four calls to \"addCustomField\" are there to ensure such\n        // characters do not make the form editor crash.\n        ...addCustomField(\"char\", \"text\", \"''\", false),\n        ...addCustomField(\"char\", \"text\", '\"\"', false),\n        ...addCustomField(\"char\", \"text\", \"``\", false),\n        ...addCustomField(\"char\", \"text\", \"\\\\\", false),\n        {\n            content: 'Save the page',\n            trigger: 'button[data-action=save]',\n            run: 'click',\n        },\n        {\n            content: 'Verify that the recipient email has been saved',\n            trigger: 'iframe body:not(.editor_enable)',\n            // We have to this that way because the input type = hidden.\n            extra_trigger: 'iframe form:has(input[name=\"email_to\"][value=\"test@test.test\"])',\n        },\n    ]);\n\n    function editContactUs(steps) {\n        return [\n            {\n                content: \"Select the contact us form by clicking on an input field\",\n                trigger: 'iframe .s_website_form input',\n                extra_trigger: '#oe_snippets .oe_snippet_thumbnail',\n                run: 'click',\n            },\n            ...steps,\n            {\n                content: 'Save the page',\n                trigger: 'button[data-action=save]',\n            },\n            {\n                content: 'Wait for reload',\n                trigger: 'body:not(.editor_enable)',\n            },\n        ];\n    }\n\n    wTourUtils.registerWebsitePreviewTour('website_form_contactus_edition_with_email', {\n        url: '/contactus',\n        edition: true,\n        test: true,\n    }, editContactUs([\n        {\n            content: 'Change the Recipient Email',\n            trigger: '[data-field-name=\"email_to\"] input',\n            run: 'text test@test.test',\n        },\n    ]));\n    wTourUtils.registerWebsitePreviewTour('website_form_contactus_edition_no_email', {\n        url: '/contactus',\n        edition: true,\n        test: true,\n    }, editContactUs([\n        {\n            content: \"Change a random option\",\n            trigger: '[data-set-mark] input',\n            run: 'text_blur **',\n        },\n    ]));\n\n    wTourUtils.registerWebsitePreviewTour('website_form_conditional_required_checkboxes', {\n        test: true,\n        url: '/',\n        edition: true,\n    }, [\n        // Create a form with two checkboxes: the second one required but\n        // invisible when the first one is checked. Basically this should allow\n        // to have: both checkboxes are visible by default but the form can\n        // only be sent if one of the checkbox is checked.\n        {\n            content: \"Add the form snippet\",\n            trigger: '#oe_snippets .oe_snippet:has(.s_website_form) .oe_snippet_thumbnail',\n            run: 'drag_and_drop iframe #wrap',\n        }, {\n            content: \"Select the form by clicking on an input field\",\n            extra_trigger: 'iframe .s_website_form_field',\n            trigger: 'iframe section.s_website_form input',\n            run: function (actions) {\n                actions.auto();\n\n                // The next steps will be about removing non essential required\n                // fields. For the robustness of the test, check that amount\n                // of field stays the same.\n                const requiredFields = this.$anchor.closest('[data-snippet]').find('.s_website_form_required');\n                if (requiredFields.length !== NB_NON_ESSENTIAL_REQUIRED_FIELDS_IN_DEFAULT_FORM) {\n                    console.error('The amount of required fields seems to have changed');\n                }\n            },\n        },\n        ...((function () {\n            const steps = [];\n            for (let i = 0; i < NB_NON_ESSENTIAL_REQUIRED_FIELDS_IN_DEFAULT_FORM; i++) {\n                steps.push({\n                    content: \"Select required field to remove\",\n                    trigger: 'iframe .s_website_form_required .s_website_form_input',\n                });\n                steps.push({\n                    content: \"Remove required field\",\n                    trigger: 'iframe .oe_overlay .oe_snippet_remove',\n                });\n            }\n            return steps;\n        })()),\n        ...addCustomField('boolean', 'checkbox', 'Checkbox 1', false),\n        ...addCustomField('boolean', 'checkbox', 'Checkbox 2', true, {visibility: CONDITIONALVISIBILITY}),\n        {\n            content: \"Open condition item select\",\n            trigger: 'we-select[data-name=\"hidden_condition_opt\"] we-toggler',\n        }, {\n            content: \"Choose first checkbox as condition item\",\n            trigger: 'we-button[data-set-visibility-dependency=\"Checkbox 1\"]',\n        }, {\n            content: \"Open condition comparator select\",\n            trigger: 'we-select[data-attribute-name=\"visibilityComparator\"] we-toggler',\n        }, {\n            content: \"Choose 'not equal to' comparator\",\n            trigger: 'we-button[data-select-data-attribute=\"!selected\"]',\n        }, {\n            content: 'Save the page',\n            trigger: 'button[data-action=save]',\n        },\n\n        // Check that the resulting form behavior is correct\n        {\n            content: \"Wait for page reload\",\n            trigger: 'iframe body:not(.editor_enable) [data-snippet=\"s_website_form\"]',\n            run: function (actions) {\n                // The next steps will be about removing non essential required\n                // fields. For the robustness of the test, check that amount\n                // of field stays the same.\n                const essentialFields = this.$anchor.find('.s_website_form_model_required');\n                if (essentialFields.length !== ESSENTIAL_FIELDS_VALID_DATA_FOR_DEFAULT_FORM.length) {\n                    console.error('The amount of model-required fields seems to have changed');\n                }\n            },\n        },\n        ...essentialFieldsForDefaultFormFillInSteps,\n        {\n            content: 'Try sending empty form',\n            trigger: 'iframe .s_website_form_send',\n        }, {\n            content: 'Check the form could not be sent',\n            trigger: 'iframe #s_website_form_result.text-danger',\n            run: () => null,\n        }, {\n            content: 'Check the first checkbox',\n            trigger: 'iframe input[type=\"checkbox\"][name=\"Checkbox 1\"]',\n        }, {\n            content: 'Check the second checkbox is now hidden',\n            trigger: 'iframe .s_website_form:has(input[type=\"checkbox\"][name=\"Checkbox 2\"]:not(:visible))',\n            run: () => null,\n        }, {\n            content: 'Try sending the form',\n            trigger: 'iframe .s_website_form_send',\n        }, {\n            content: \"Check the form was sent (success page without form)\",\n            trigger: 'iframe body:not(:has([data-snippet=\"s_website_form\"])) .fa-check-circle',\n            run: () => null,\n        }, {\n            content: \"Go back to the form\",\n            trigger: 'iframe a.navbar-brand.logo',\n        },\n        ...essentialFieldsForDefaultFormFillInSteps,\n        {\n            content: 'Check the second checkbox',\n            trigger: 'iframe input[type=\"checkbox\"][name=\"Checkbox 2\"]',\n        }, {\n            content: 'Try sending the form again',\n            trigger: 'iframe .s_website_form_send',\n        }, {\n            content: \"Check the form was again sent (success page without form)\",\n            trigger: 'iframe body:not(:has([data-snippet=\"s_website_form\"])) .fa-check-circle',\n            run: () => null,\n        }\n    ]);\n\n    export default {};\n", "/** @odoo-module **/\nimport { registry } from \"@web/core/registry\";\nimport rpc from 'web.rpc';\n\nregistry.category(\"web_tour.tours\").add(\"website_form_editor_tour_submit\", {\n    test: true,\n    steps: () => [\n    {\n        content:  \"Try to send the form with some required fields not filled in\",\n        extra_trigger:  \"form[data-model_name='mail.mail']\" +\n                        \"[data-success-page='/contactus-thank-you']\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Name')):has(input[type='text'][name='name'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Email')):has(input[type='email'][name='email_from'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Question')):has(textarea[name='description'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Subject')):has(input[type='text'][name='subject'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Test Date')):has(input[type='text'][name='date'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Awesome Label')):hidden)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Message')):has(textarea[name='body_html'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Products')):has(input[type='checkbox'][name='Products'][value='Iphone'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Products')):has(input[type='checkbox'][name='Products'][value='Galaxy S'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Products')):has(input[type='checkbox'][name='Products'][value='Xperia'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Products')):has(input[type='checkbox'][name='Products'][value='Wiko Stairway'][required]))\" +\n                        \":has(.s_website_form_field:has(label:contains('Service')):has(input[type='radio'][name='Service'][value='After-sales Service']:not([required])))\" +\n                        \":has(.s_website_form_field:has(label:contains('Service')):has(input[type='radio'][name='Service'][value='Invoicing Service']:not([required])))\" +\n                        \":has(.s_website_form_field:has(label:contains('Service')):has(input[type='radio'][name='Service'][value='Development Service']:not([required])))\" +\n                        \":has(.s_website_form_field:has(label:contains('Service')):has(input[type='radio'][name='Service'][value='Management Service']:not([required])))\" +\n                        \":has(.s_website_form_field:has(label:contains('State')):has(select[name='State'][required]:has(option[value='Belgium'])))\" +\n                        \":has(.s_website_form_field.s_website_form_required:has(label:contains('State')):has(select[name='State'][required]:has(option[value='France'])))\" +\n                        \":has(.s_website_form_field:has(label:contains('State')):has(select[name='State'][required]:has(option[value='Canada'])))\" +\n                        \":has(.s_website_form_field:has(label:contains('Invoice Scan')))\" +\n                        \":has(.s_website_form_field:has(input[name='email_to'][value='test@test.test']))\",\n        trigger:  \".s_website_form_send\"\n    },\n    {\n        content:  \"Check if required fields were detected and complete the Subject field\",\n        extra_trigger:  \"form:has(#s_website_form_result.text-danger)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Name')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('Email')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Question')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Subject')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Test Date')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Message')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Products')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Service')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('State')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('Invoice Scan')):not(.o_has_error))\",\n        trigger:  \"input[name=subject]\",\n        run:      \"text Jane Smith\"\n    },\n    {\n        content:  \"Update required field status by trying to Send again\",\n        trigger:  \".s_website_form_send\"\n    },\n    {\n        content:  \"Check if required fields were detected and complete the Message field\",\n        extra_trigger:  \"form:has(#s_website_form_result.text-danger)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Name')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('Email')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Question')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Subject')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('Test Date')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Message')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Products')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Service')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('State')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('Invoice Scan')):not(.o_has_error))\",\n        trigger:  \"textarea[name=body_html]\",\n        run:      \"text A useless message\"\n    },\n    {\n        content:  \"Update required field status by trying to Send again\",\n        trigger:  \".s_website_form_send\"\n    },\n    {\n        content:  \"Check if required fields was detected and check a product. If this fails, you probably broke the cleanForSave.\",\n        extra_trigger:  \"form:has(#s_website_form_result.text-danger)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Name')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('Email')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Question')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Subject')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('Test Date')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Your Message')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('Products')).o_has_error)\" +\n                        \":has(.s_website_form_field:has(label:contains('Service')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('State')):not(.o_has_error))\" +\n                        \":has(.s_website_form_field:has(label:contains('Invoice Scan')):not(.o_has_error))\",\n        trigger:  \"input[name=Products][value='Wiko Stairway']\"\n    },\n    {\n        content:  \"Complete Date field\",\n        trigger:  \".s_website_form_datetime [data-toggle='datetimepicker']\",\n    },\n    {\n        content:  \"Check another product\",\n        trigger:  \"input[name='Products'][value='Xperia']\"\n    },\n    {\n        content:  \"Check a service\",\n        trigger:  \"input[name='Service'][value='Development Service']\"\n    },\n    {\n        content:  \"Complete Your Name field\",\n        trigger:  \"input[name='name']\",\n        run:      \"text chhagan\"\n    },\n    {\n        content:  \"Complete Email field\",\n        trigger:  \"input[name=email_from]\",\n        run:      \"text test@mail.com\"\n    },\n    {\n        content: \"Complete Subject field\",\n        trigger: 'input[name=\"subject\"]',\n        run: 'text subject',\n    },\n    {\n        content:  \"Complete Your Question field\",\n        trigger:  \"textarea[name='description']\",\n        run:      \"text magan\"\n    },\n    {\n        content: \"Check if conditional field is visible, it shouldn't.\",\n        trigger: \"body\",\n        run: function () {\n            const style = window.getComputedStyle(this.$anchor[0].getElementsByClassName('s_website_form_field_hidden_if')[0]);\n            if (style.display !== 'none') {\n                console.error('error This field should be invisible when the name is not odoo');\n            }\n        }\n    },\n    {\n        content: \"Change name input\",\n        trigger: \"input[name='name']\",\n        run: \"text odoo\",\n    },\n    {\n        content: \"Check if conditional field is visible, it should.\",\n        trigger: \"input[name='email_cc']\",\n    },\n    {\n        content: \"Select state option\",\n        trigger: \"select[name='State']\",\n        run: 'text 44 - UK',\n    },\n    {\n        content:  \"Send the form\",\n        trigger:  \".s_website_form_send\"\n    },\n    {\n        content:  \"Check form is submitted without errors\",\n        trigger:  \"#wrap:has(h1:contains('Thank You!'))\"\n    }\n]});\n\nregistry.category(\"web_tour.tours\").add(\"website_form_editor_tour_results\", {\n    test: true,\n    steps: () => [\n    {\n        content: \"Check mail.mail records have been created\",\n        trigger: \"body\",\n        run: function () {\n            var mailDef = rpc.query({\n                    model: 'mail.mail',\n                    method: 'search_count',\n                    args: [[\n                        ['email_to', '=', 'test@test.test'],\n                        ['body_html', 'like', 'A useless message'],\n                        ['body_html', 'like', 'Service : Development Service'],\n                        ['body_html', 'like', 'State : 44 - UK'],\n                        ['body_html', 'like', 'Products : Xperia,Wiko Stairway']\n                    ]],\n                });\n            var success = function(model, count) {\n                if (count > 0) {\n                    $('body').append('<div id=\"website_form_editor_success_test_tour_'+model+'\"></div>');\n                }\n            };\n            mailDef.then(success.bind(this, 'mail_mail'));\n        }\n    },\n    {\n        content:  \"Check mail.mail records have been created\",\n        trigger:  \"#website_form_editor_success_test_tour_mail_mail\",\n        allowInvisible: true,\n    }\n]});\nregistry.category(\"web_tour.tours\").add('website_form_contactus_submit', {\n    test: true,\n    url: '/contactus',\n    steps: () => [\n    // As the demo portal user, only two inputs needs to be filled to send\n    // the email\n    {\n        content: \"Fill in the subject\",\n        trigger: 'input[name=\"subject\"]',\n    },\n    {\n        content: 'Fill in the message',\n        trigger: 'textarea[name=\"description\"]',\n    },\n    {\n        content: 'Send the form',\n        trigger: '.s_website_form_send',\n    },\n    {\n        content: 'Check form is submitted without errors',\n        trigger: '#wrap:has(h1:contains(\"Thank You!\"))',\n    },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"website_navbar_menu\", {\n    test: true,\n    url: \"/\",\n    steps: () => [\n    {\n        content: \"Ensure menus are in DOM\",\n        trigger: '#top_menu .nav-item a:contains(\"Test Tour Menu\")',\n        run: function () {}, // it's a check\n    }, {\n        content: \"Ensure menus loading is done (so they are actually visible)\",\n        trigger: 'body:not(:has(.o_menu_loading))',\n        run: function () {}, // it's a check\n    }\n]});\n", "/** @odoo-module **/\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('website_page_options', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\n    wTourUtils.clickOnSnippet({id: 'o_header_standard', name: 'Header'}),\n    wTourUtils.changeOption('TopMenuVisibility', 'we-select:has([data-visibility]) we-toggler'),\n    wTourUtils.changeOption('TopMenuVisibility', 'we-button[data-visibility=\"transparent\"]'),\n    // It's important to test saving right after changing that option only as\n    // this is why this test was made in the first place: the page was not\n    // marked as dirty when that option was the only one that was changed.\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that the header is transparent\",\n        trigger: 'iframe #wrapwrap.o_header_overlay',\n        run: () => null, // it's a check\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.clickOnSnippet({id: 'o_header_standard', name: 'Header'}),\n    wTourUtils.changeOption('topMenuColor', 'we-select.o_we_so_color_palette'),\n    wTourUtils.changeOption('topMenuColor', 'button[data-color=\"black-50\"]', 'background color', 'bottom', true),\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that the header is in black-50\",\n        trigger: 'iframe header#top.bg-black-50',\n        run: () => null, // it's a check\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    wTourUtils.clickOnSnippet({id: 'o_header_standard', name: 'Header'}),\n    wTourUtils.changeOption('TopMenuVisibility', 'we-select:has([data-visibility]) we-toggler'),\n    wTourUtils.changeOption('TopMenuVisibility', 'we-button[data-visibility=\"hidden\"]'),\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that the header is hidden\",\n        trigger: 'iframe #wrapwrap:has(header#top.d-none.o_snippet_invisible)',\n        run: () => null, // it's a check\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    {\n        content: \"Click on 'header' in the invisible elements list\",\n        trigger: '.o_we_invisible_el_panel .o_we_invisible_entry',\n    },\n    wTourUtils.clickOnSnippet({id: 'o_footer', name: 'Footer'}),\n    wTourUtils.changeOption('HideFooter', 'we-button[data-name=\"hide_footer_page_opt\"] we-checkbox'),\n    ...wTourUtils.clickOnSave(),\n    {\n        content: \"Check that the footer is hidden and the header is visible\",\n        trigger: 'iframe #wrapwrap:has(.o_footer.d-none.o_snippet_invisible)',\n        extra_trigger: 'iframe #wrapwrap header#top:not(.d-none)',\n        run: () => null, // it's a check\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour(\"website_snippets_menu_tabs\", {\n    test: true,\n    url: \"/\",\n    edition: true,\n}, [\n    wTourUtils.goToTheme(),\n    {\n        content: \"Click on the empty 'DRAG BUILDING BLOCKS HERE' area.\",\n        extra_trigger: 'we-customizeblock-option.snippet-option-ThemeColors',\n        trigger: 'iframe main > .oe_structure.oe_empty',\n        run: 'click',\n    },\n    wTourUtils.goToTheme(),\n    {\n        content: \"Verify that the customize panel is not empty.\",\n        trigger: '.o_we_customize_panel > we-customizeblock-options',\n        run: () => null, // it's a check\n    },\n    {\n        content: \"Click on the style tab.\",\n        trigger: '#snippets_menu .o_we_customize_snippet_btn',\n    },\n    wTourUtils.goToTheme(),\n    {\n        content: \"Verify that the customize panel is not empty.\",\n        trigger: '.o_we_customize_panel > we-customizeblock-options',\n        run: () => null, // it's a check\n    },\n]);\n", "/** @odoo-module **/\n\nimport wTourUtils from \"website.tour_utils\";\n\nconst TARGET_FONT_SIZE = 30;\n\nconst checkFontSize = function () {\n    const style = document.defaultView.getComputedStyle(this.$anchor[0]);\n    if (style.fontSize !== `${TARGET_FONT_SIZE}px`) {\n        console.error(`Expected the font-size to be equal to ${TARGET_FONT_SIZE}px but found ${style.fontSize} instead`);\n    }\n};\n\nwTourUtils.registerWebsitePreviewTour(\"website_style_edition\", {\n    test: true,\n    url: '/',\n    edition: true,\n}, [{\n    content: \"Go to theme options\",\n    trigger: '.o_we_customize_theme_btn',\n}, {\n    content: \"Change font size\",\n    trigger: '[data-variable=\"font-size-base\"] input',\n    run: `text_blur ${TARGET_FONT_SIZE}`,\n}, {\n    content: \"Check the font size was properly adapted\",\n    trigger: 'iframe #wrapwrap',\n    // Waiting the CSS to be reloaded: the code adds a new assets bundle with\n    // a #t=... at the end then removes the old one.\n    extra_trigger: 'iframe html:not(:has(link[href$=\"web.assets_frontend.min.css\"]))',\n    run: checkFontSize,\n},\n...wTourUtils.clickOnSave(),\n{\n    content: \"Check the font size is still ok outside of edit mode\",\n    trigger: 'iframe body:not(.editor_enable) #wrapwrap',\n    run: checkFontSize,\n},\n...wTourUtils.clickOnEditAndWaitEditMode(),\nwTourUtils.goToTheme(),\n{\n    content: \"Click on the Background Image selection\",\n    trigger: '[data-customize-body-bg-type=\"\\'image\\'\"]:not(.active)',\n    extra_trigger: '[data-customize-body-bg-type=\"NONE\"].active',\n}, {\n    content: \"The media dialog should open\",\n    trigger: '.o_select_media_dialog',\n    run: () => {}, // It's a check.\n}]);\n", "/** @odoo-module **/\n\nimport wTourUtils from 'website.tour_utils';\n\nconst WEBSITE_MAIN_COLOR = '#ABCDEF';\n\nwTourUtils.registerWebsitePreviewTour('website_text_edition', {\n    test: true,\n    url: '/',\n    edition: true,\n}, [\n    {\n        content: \"Go to theme options\",\n        trigger: '.o_we_customize_theme_btn',\n    },\n    {\n        content: \"Open colorpicker to change website main color\",\n        trigger: 'we-select[data-color=\"o-color-1\"] .o_we_color_preview',\n    },\n    {\n        content: \"Input the value for the new website main color (also make sure it is independent from the backend)\",\n        trigger: '.o_hex_input',\n        run: `text_blur ${WEBSITE_MAIN_COLOR}`,\n    },\n    {\n        content: \"Go to the blocks tab\",\n        trigger: '.o_we_add_snippet_btn',\n    },\n    wTourUtils.dragNDrop({id: 's_text_block', name: 'Text'}),\n    {\n        content: \"Click on the text block first paragraph (to auto select)\",\n        trigger: 'iframe .s_text_block p',\n    },\n    {\n        content: \"Open the foreground colorpicker\",\n        trigger: '#toolbar:not(.oe-floating) #oe-text-color',\n    },\n    {\n        content: \"Go to the 'solid' tab\",\n        trigger: '.o_we_colorpicker_switch_pane_btn[data-target=\"custom-colors\"]',\n    },\n    {\n        content: \"Input the website main color explicitly\",\n        trigger: '.o_hex_input',\n        run: `text_blur ${WEBSITE_MAIN_COLOR}`,\n    },\n    {\n        content: \"Check that paragraph now uses the main color *class*\",\n        trigger: 'iframe .s_text_block p',\n        run: function (actions) {\n            const fontEl = this.$anchor[0].querySelector('font');\n            if (!fontEl) {\n                console.error(\"A background color should have been applied\");\n                return;\n            }\n            if (fontEl.style.backgroundColor) {\n                console.error(\"The paragraph should not have an inline style background color\");\n                return;\n            }\n            if (!fontEl.classList.contains('text-o-color-1')) {\n                console.error(\"The paragraph should have the right background color class\");\n                return;\n            }\n        },\n    }\n]);\n", "/** @odoo-module **/\nimport { patch } from 'web.utils';\nimport { WebsitePreview } from '@website/client_actions/website_preview/website_preview';\n\npatch(WebsitePreview.prototype, 'website_preview_test_mode', {\n    /**\n     * @override\n     */\n    get testMode() {\n        return true;\n    }\n});\n", "/** @odoo-module **/\n    \n    import { registry } from \"@web/core/registry\";\n\n    registry.category(\"web_tour.tours\").add('test_stock_route_diagram_report', {\n        test: true,\n        steps: () => [\n    {\n        trigger: '.o_kanban_record',\n        extra_trigger: '.o_breadcrumb',\n    },\n    {\n        trigger: '.nav-item > a:contains(\"Inventory\")',\n    },\n    {\n        trigger: '.btn[id=\"stock.view_diagram_button\"]',\n    },\n    {\n        trigger: 'iframe .o_report_stock_rule',\n    },\n    ]});\n", "/* @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\n/**\n * This tour depends on data created by python test in charge of launching it.\n * It is not intended to work when launched from interface. It is needed to test\n * an action (action manager) which is not possible to test with QUnit.\n * @see mail_enterprise/tests/test_discuss_channel_expand.py\n */\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"mail_enterprise/static/tests/tours/discuss_channel_expand_test_tour.js\", {\n        test: true,\n        steps: () => [\n            {\n                content: \"Click on 'Open Actions Menu' in the chat window header to show expand button\",\n                trigger:\n                    '.o-mail-ChatWindow:has(.o-mail-ChatWindow-name:contains(\"test-mail-channel-expand-tour\")) [title=\"Open Actions Menu\"]',\n            },\n            {\n                content: \"Click on expand button to open channel in Discuss\",\n                trigger:\n                    '.o-mail-ChatWindow:has(.o-mail-ChatWindow-name:contains(\"test-mail-channel-expand-tour\")) [title=\"Open in Discuss\"]',\n            },\n            {\n                content:\n                    \"Check that first message of #test-mail-channel-expand-tour is shown in Discuss app\",\n                trigger:\n                    '.o-mail-Discuss-content .o-mail-Message-body:contains(\"test-message-mail-channel-expand-tour\")',\n                run: () => {},\n            },\n        ],\n    });\n", "/** @odoo-module */\n\nimport \"account.tax.group.tour.tests\"\nimport { registry } from \"@web/core/registry\";\nimport { patch } from \"@web/core/utils/patch\";\n\npatch(registry.category(\"web_tour.tours\").get(\"account_tax_group\"), \"patch_account_tax_group\", {\n    steps() {\n        const originalSteps = this._super();\n        const accountMenuClickIndex = originalSteps.findIndex((step) => step.id === 'account_menu_click');\n        originalSteps.splice(accountMenuClickIndex, 1, \n            {\n                trigger: '.o_app[data-menu-xmlid=\"account_accountant.menu_accounting\"]',\n                content: \"Go to Accounting\",\n            }\n        );\n        return originalSteps;\n    }\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('account_accountant_bank_rec_widget_rainbowman_reset',\n    {\n        test: true,\n        url: '/web',\n        steps: () => [\n        stepUtils.showAppsMenuItem(),\n        ...stepUtils.goToAppSteps('account_accountant.menu_accounting', \"Open the accounting module\"),\n\n        // Open the widget. The first line should be selected by default.\n        {\n            content: \"Open the bank reconciliation widget\",\n            extra_trigger: \".o_breadcrumb\",\n            trigger: \"button.btn-primary[name='action_open_reconcile']\",\n        },\n        {\n            content: \"'line1' should be selected and form mounted\",\n            extra_trigger: \"div[name='line_ids'] td[field='name']:contains('line1')\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line1')\",\n            run: () => {},\n        },\n        // Rainbowman gets reset\n        {\n            content: \"Mount invoice 2 for line 1\",\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table td[name='move_id']:contains('INV/2019/00002')\",\n        },\n        {\n            content: \"Validate line1\",\n            extra_trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00002')\",\n            trigger: \"button:contains('Validate')\",\n        },\n        {\n            content: \"No records brings rainbows\",\n            extra_trigger: \".o_bank_rec_selected_st_line:contains('line2')\",\n            trigger: \"div.o_kanban_view .o_searchview_input\",\n            run: \"text thisShouldNotReturnAnyRecords\",\n        },\n        {\n            content: \"Select the Journal Entry search option from the dropdown\",\n            trigger: \".o_searchview_autocomplete li:contains(Journal Entry)\",\n        },\n        {\n            content: \"Remove the filter while rainbow man is on screen\",\n            extra_trigger: \".o_reward_rainbow_man:contains('You reconciled 1 transaction in')\",\n            trigger: \".o_kanban_view .o_searchview_facet:nth-child(3) .o_facet_remove\",\n        },\n        {\n            content: \"Search for no results again\",\n            extra_trigger: \".o_bank_rec_st_line:contains('line2')\",\n            trigger: \"div.o_kanban_view .o_searchview_input\",\n            run: \"text thisShouldNotReturnAnyRecords\",\n        },\n        {\n            content: \"Select the Journal Entry search option from the dropdown\",\n            trigger: \".o_searchview_autocomplete li:contains(Journal Entry)\",\n        },\n        {\n            content: \"No content helper is displayed instead of rainbowman\",\n            trigger: \".o_view_nocontent_smiling_face\",\n            run: () => {},\n        },\n        // End\n        stepUtils.toggleHomeMenu(),\n        ...stepUtils.goToAppSteps(\n            'account_accountant.menu_accounting',\n            \"Reset back to accounting module\"\n        ),\n        {\n            content: \"check that we're back on the dashboard\",\n            trigger: 'a:contains(\"Customer Invoices\")',\n            run() {},\n        }\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('account_accountant_bank_rec_widget_statements',\n    {\n        test: true,\n        url: '/web',\n        steps: () => [\n        stepUtils.showAppsMenuItem(),\n        ...stepUtils.goToAppSteps('account_accountant.menu_accounting', \"Open the accounting module\"),\n        {\n            content: \"Open the bank reconciliation widget\",\n            extra_trigger: \".o_breadcrumb\",\n            trigger: \"button.btn-primary[name='action_open_reconcile']\",\n        },\n        {\n            content: \"Statement button\",\n            trigger: \".o_bank_rec_st_line:eq(2) .oe_kanban_action_a:contains('Statement')\",\n            allowInvisible: true,\n        },\n        {\n            content: \"Save the statement with proposed values\",\n            extra_trigger: \".modal-dialog:contains('Create Statement')\",\n            trigger: \".o_form_button_save\",\n        },\n        {\n            content: \"Click the Valid Statement with $ 1,000.00 that is visible in Kanban\",\n            trigger: \"span[name='kanban-subline-clickable-amount']:contains('$\u00a01,000.00')\",\n        },\n        {\n            content: \"Modify the end balance\",\n            trigger: \"input[id='balance_end_real_0']\",\n            run: \"text 100\",\n        },\n        {\n            content: \"Dialog displays warning, save anyway\",\n            extra_trigger: \".modal-body div.alert-warning:contains('The running balance')\",\n            trigger: \".modal-dialog .btn-primary[special='save']\",\n        },\n        {\n            content: \"Click the red statement, after checking the balance\",\n            extra_trigger: \".btn-link:contains('$\u00a02,100.00')\",\n            trigger: \"span[name='kanban-subline-clickable-amount']:contains('$\u00a0100.00')\",\n        },\n        {\n            content: \"Delete the statement\",\n            trigger: \".modal-dialog .btn-danger:contains('Delete')\",\n        },\n        {\n            content: \"Confirm Deletion\",\n            extra_trigger: \".modal-dialog:contains('Confirmation')\",\n            trigger: \".btn-primary:contains('Ok')\",\n        },\n        {\n            content: \"balance displays $3000.00 and no statement\",\n            extra_trigger: \".o_kanban_renderer:not(:has(.kanban-statement))\",\n            trigger: \".btn-link:contains('$\u00a03,000')\",\n            isCheck: true,\n        },\n        // End\n        stepUtils.toggleHomeMenu(),\n        ...stepUtils.goToAppSteps(\n            'account_accountant.menu_accounting',\n            \"Reset back to accounting module\"\n        ),\n        {\n            content: \"check that we're back on the dashboard\",\n            trigger: 'a:contains(\"Customer Invoices\")',\n            run() {},\n        }\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('account_accountant_bank_rec_widget_ui',\n    {\n        test: true,\n        url: '/web',\n        steps: () => [\n        stepUtils.showAppsMenuItem(),\n        ...stepUtils.goToAppSteps('account_accountant.menu_accounting', \"Open the accounting module\"),\n\n        // Open the widget. The first line should be selected by default.\n        {\n            content: \"Open the bank reconciliation widget\",\n            extra_trigger: \".o_breadcrumb\",\n            trigger: \"button.btn-primary[name='action_open_reconcile']\",\n        },\n        {\n            content: \"'line1' should be selected and form mounted\",\n            extra_trigger: \"div[name='line_ids'] td[field='name']:contains('line1')\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line1')\",\n            run: () => {},\n        },\n        // Select line2. It should remain selected when returning using the breadcrumbs.\n        {\n            content: \"select 'line2'\",\n            extra_trigger: \".o_bank_rec_st_line:contains('line3')\",\n            trigger: \".o_bank_rec_st_line:contains('line2')\",\n        },\n        {\n            content: \"'line2' should be selected\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line2')\",\n            run: () => {},\n        },\n        {\n            content: \"View an invoice\",\n            trigger: \"button.btn-secondary[name='action_open_business_doc']:eq(1)\",\n        },\n        {\n            content: \"Breadcrumb back to Bank Reconciliation from INV/2019/00002\",\n            trigger: \".breadcrumb-item:contains('Bank Reconciliation')\",\n            extra_trigger: \".o_breadcrumb .active:contains('INV/2019/00002')\",\n            run: \"click\"\n        },\n        {\n            content: \"'line2' should be selected after returning\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line2')\",\n            extra_trigger: \".o_bank_rec_st_line:contains('line1')\",\n        },\n        {\n            content: \"'line2' form mounted\",\n            extra_trigger: \"div[name='line_ids'] td[field='name']:contains('line2')\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line2')\",\n        },\n        // Keep AML search, and prepared entry (line_ids) when changing tabs, using breadcrumbs, and view switcher\n        {\n            content: \"AMLs list has both invoices\",\n            extra_trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr:nth-child(3) td[name='move_id']:contains('INV/2019/00001')\",\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr:nth-child(2) td[name='move_id']:contains('INV/2019/00002')\",\n            run: () => {},\n        },\n        {\n            content: \"Search for INV/2019/00001\",\n            extra_trigger: \"a.active[name='amls_tab']\",\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor .o_searchview_input\",\n            run: \"text INV/2019/00001\",\n        },\n        {\n            content: \"Select the Journal Entry search option from the dropdown\",\n            trigger: \".o_searchview_autocomplete li:contains(Journal Entry)\",\n        },\n        {\n            content: \"AMLs list only displays one invoice\",\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr:nth-child(1) td[name='move_id']:contains('INV/2019/00001')\",\n            run: () => {},\n        },\n        {\n            content: \"Select 'manual_operations_tab'\",\n            trigger: \"a[name='manual_operations_tab']\",\n        },\n        {\n            content: \"Select 'amls_tab'\",\n            extra_trigger: \"div[name='partner_id'] input\",\n            trigger: \"a[name='amls_tab']\",\n        },\n        {\n            content: \"AMLs list contains the search facet, and one invoice - select it\",\n            extra_trigger: \"div.bank_rec_widget_form_amls_list_anchor .o_searchview_facet:nth-child(1) .o_facet_value:contains('INV/2019/00001')\",\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr:nth-child(1) td[name='move_id']:contains('INV/2019/00001')\",\n            run: \"click\"\n        },\n        {\n            content: \"Check INV/2019/00001 is well marked as selected\",\n            extra_trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00001')\",\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00001')\",\n            run: function() {},\n        },\n        {\n            content: \"View an invoice\",\n            trigger: \"button.btn-secondary[name='action_open_business_doc']:nth-child(1)\",\n        },\n        {\n            content: \"Breadcrumb back to Bank Reconciliation from INV/2019/00001\",\n            trigger: \".breadcrumb-item:contains('Bank Reconciliation')\",\n            extra_trigger: \".o_breadcrumb .active:contains('INV/2019/00001')\",\n        },\n        {\n            content: \"Check INV/2019/00001 is selected and still contains the search facet\",\n            extra_trigger: \"div.bank_rec_widget_form_amls_list_anchor .o_searchview_facet:nth-child(1) .o_facet_value:contains('INV/2019/00001')\",\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00001')\",\n            run: () => {},\n        },\n        // Search should remove some lines, select the first unmatched record, and persist when returning with breadcrumbs\n        {\n            content: \"Search for line2\",\n            extra_trigger: \"a.active[name='amls_tab']\",\n            trigger: \"div.o_kanban_view .o_searchview_input\",\n            run: \"text line2\",\n        },\n        {\n            content: \"Select the Transaction search option from the dropdown\",\n            trigger: \".o_searchview_autocomplete li:contains(Transaction)\",\n        },\n        {\n            content: \"'line2' should be selected\",\n            trigger: \".o_bank_rec_st_line:last():contains('line2')\",\n            extra_trigger: \"div[name='line_ids'] td[field='name']:contains('line2')\",\n            run: () => {}\n        },\n        {\n            content: \"Nothing has changed: INV/2019/00001 is selected and still contains the search facet\",\n            extra_trigger: \"div.bank_rec_widget_form_amls_list_anchor .o_searchview_facet:nth-child(1) .o_facet_value:contains('INV/2019/00001')\",\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00001')\",\n            run: () => {},\n        },\n        {\n            content: \"Switch to list view\",\n            extra_trigger: \".o_switch_view.o_kanban.active\",\n            trigger: \".o_switch_view.o_list\",\n        },\n        {\n            content: \"Switch back to kanban\",\n            extra_trigger: \".o_switch_view.o_list.active\",\n            trigger: \".o_switch_view.o_kanban\",\n        },\n        {\n            content: \"Remove the kanban filter for line2\",\n            trigger: \".o_kanban_view .o_searchview_facet:nth-child(3) .o_facet_remove\",\n        },\n        {\n            content: \"Nothing has changed: INV/2019/00001 is still selected and contains the search facet\",\n            extra_trigger: \"div.bank_rec_widget_form_amls_list_anchor .o_searchview_facet:nth-child(1) .o_facet_value:contains('INV/2019/00001')\",\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00001')\",\n            run: () => {},\n        },\n        // AML Search Facet is removed, and line_ids reset when changing line\n        {\n            content: \"selecting 'line1' should reset the AML search filter \",\n            extra_trigger: \".o_bank_rec_st_line:contains('line3')\",\n            trigger: \".o_bank_rec_st_line:contains('line1')\",\n        },\n        {\n            content: \"select 'line2' again\",\n            extra_trigger: \"div[name='line_ids'] td[field='name']:contains('line1')\",\n            trigger: \".o_bank_rec_st_line:contains('line2')\",\n        },\n        {\n            content: \"Bank Suspense Account is back\",\n            extra_trigger: \"div[name='line_ids'] td[field='name']:contains('line2')\",\n            trigger: \"div[name='line_ids'] .o_bank_rec_auto_balance_line\",\n            run: () => {},\n        },\n        {\n            content: \"AML Search Filter has been reset\",\n            trigger: \".o_list_view .o_searchview_input_container:not(:has(.o_searchview_facet))\",\n            run: () => {},\n        },\n        // Test statement line selection when using the pager\n        {\n            content: \"Click Pager\",\n            trigger: \".o_pager_value:first()\",\n        },\n        {\n            content: \"Change pager to display lines 1-2\",\n            trigger: \"input.o_pager_value\",\n            run: \"text 1-2\",\n        },\n        {\n            content: \"Last St Line is line2\",\n            extra_trigger: \".o_pager_value:contains('1-2')\",\n            trigger: \".o_bank_rec_st_line:last():contains('line2')\",\n            run: () => {},\n        },\n        {\n            content: \"Page Next\",\n            trigger: \".o_pager_next:first()\",\n        },\n        {\n            content: \"Statement line3 is selected\",\n            extra_trigger: \".o_pager_value:contains('3-3')\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line3')\",\n            run: () => {},\n        },\n        {\n            content: \"Page to beginning\",\n            trigger: \".o_pager_next:first()\",\n        },\n        {\n            content: \"Statement line1 is selected\",\n            extra_trigger: \"div[name='line_ids'] td[field='name']:contains('line1')\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line1')\",\n            run: () => {},\n        },\n        // HTML buttons\n        {\n            content: \"Mount an invoice\",\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table td[name='move_id']:contains('INV/2019/00003')\",\n        },\n        {\n            content: \"Select the mounted invoice line and check the strikethrough value\",\n            extra_trigger: \"div[name='line_ids']:has(.text-decoration-line-through:contains('$\u00a02,000.00'))\",\n            trigger: \"div[name='line_ids'] tr.o_data_row:last() td[field='name']:contains('INV/2019/00003')\",\n        },\n        {\n            content: \"Fully Paid button\",\n            extra_trigger: \"a.active[name='manual_operations_tab']\",\n            trigger: \"button[name='action_apply_line_suggestion']:contains('fully paid')\",\n        },\n        {\n            content: \"Check the remainder\",\n            trigger: \"div[name='line_ids'] tr.o_data_row:contains('Suspense') td[field='debit']:contains('$\u00a01,000.00')\",\n            run: () => {},\n        },\n        {\n            content: \"Partial Payment\",\n            trigger: \"button[name='action_apply_line_suggestion']:contains('partial payment')\",\n        },\n        {\n            content: \"View Invoice 0003\",\n            extra_trigger: \"button[name='action_apply_line_suggestion']:contains('fully paid')\",\n            trigger: \"button[name='action_redirect_to_move']\"\n        },\n        {\n            content: \"Breadcrumb back to Bank Reconciliation from INV/2019/00003\",\n            trigger: \".breadcrumb-item:contains('Bank Reconciliation')\",\n            extra_trigger: \".o_breadcrumb .active:contains('INV/2019/00003')\",\n        },\n        {\n            content: \"Select the mounted invoice line INV/2019/00003\",\n            trigger: \"div[name='line_ids'] tr.o_data_row:last() td[field='name']:contains('INV/2019/00003')\",\n        },\n        // Match Existing entries tab is activated when line is removed\n        {\n            content: \"Remove the invoice\",\n            extra_trigger: \"a.active[name='manual_operations_tab']\",\n            trigger: \".o_list_record_remove .fa-trash-o\",\n        },\n        {\n            content: \"amls_tab is activated\",\n            trigger: \"a.active[name='amls_tab']\",\n            run: () => {},\n        },\n        {\n            content: \"Activate Manual Operations to add manual entries\",\n            trigger: \"a[name='manual_operations_tab']\",\n        },\n        {\n            content: \"add manual entry 1\",\n            trigger: \"div[name='balance'] input\",\n            run: \"text -600.0\"\n        },\n        {\n            content: \"mount the remaining opening balance line\",\n            trigger: \"div[name='line_ids'] tr.o_data_row:contains('Suspense') td[field='credit']:contains('$\u00a0400.00')\",\n        },\n        {\n            content: \"Remove the manual entry\",\n            extra_trigger: \"div[name='balance'] input:text('-400.00'):focus\",\n            trigger: \".o_list_record_remove .fa-trash-o\",\n        },\n        {\n            content: \"amls_tab is activated and auto balancing line is 1000\",\n            extra_trigger: \"div[name='line_ids'] tr.o_data_row:contains('Suspense') td[field='credit']:contains('$\u00a01,000.00')\",\n            trigger: \"a.active[name='amls_tab']\",\n            run: () => {},\n        },\n        {\n            content: \"Mount another invoice\",\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table td[name='move_id']:contains('INV/2019/00001')\",\n        },\n        // After validating, line1 should disappear & line2 should be selected (due to filters)\n        {\n            content: \"Validate line1\",\n            extra_trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00001')\",\n            trigger: \"button:contains('Validate')\",\n        },\n        {\n            content: \"The 'line2' is the first kanban record and is selected\",\n            extra_trigger: \"div[name='line_ids'] td[field='name']:contains('line2')\",\n            trigger: \".o_bank_rec_st_line:first():contains('line2')\",\n            run: () => {},\n        },\n        // Test Reset, \"Matched\" badge and double-click\n        {\n            content: \"Remove the kanban filter for 'Not Matched'\",\n            trigger: \".o_kanban_view .o_searchview_facet:nth-child(2) .o_facet_remove\",\n        },\n        {\n            content: \"The 'line1' is the first kanban record with line2 selected\",\n            extra_trigger: \"div[name='line_ids'] td[field='name']:contains('line2')\",\n            trigger: \".o_bank_rec_st_line:first():contains('line1')\",\n            run: () => {},\n        },\n        {\n            content: \"Mount invoice 2 for line 2\",\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table td[name='move_id']:contains('INV/2019/00002')\",\n        },\n        {\n            content: \"Validate line2 with double click\",\n            extra_trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00002')\",\n            trigger: \"button:contains('Validate')\",\n            run: \"dblclick\",\n        },\n        {\n            content: \"Click Pager again after line2 is matched\",\n            extra_trigger: \".o_bank_rec_st_line:contains('line2') .badge.text-bg-success\",\n            trigger: \".o_pager_value:first()\",\n        },\n        {\n            content: \"Change pager to display lines 1-3\",\n            trigger: \"input.o_pager_value\",\n            run: \"text 1-3\",\n        },\n        {\n            content: \"manually select line2 again by clicking it's matched icon\",\n            extra_trigger: \".o_bank_rec_selected_st_line:contains('line3')\",\n            trigger: \".badge.text-bg-success:last()\",\n        },\n        {\n            content: \"Reset line2\",\n            extra_trigger: \"div[name='line_ids']:not(:has(.fa-trash-o)) td[field='name']:contains('line2')\",\n            trigger: \"button:contains('Reset')\",\n        },\n        {\n            content: \"amls_tab is activated while still on line2 which doesn't contain a badge\",\n            extra_trigger: \".o_bank_rec_selected_st_line:contains('line2'):not(:has(div.badge))\",\n            trigger: \"div[name='line_ids']:has(.fa-trash-o)+.o_notebook a.active[name='amls_tab']\",\n            run: () => {},\n        },\n        // Test view_switcher\n        {\n            content: \"Switch to list view\",\n            extra_trigger: \".o_switch_view.o_kanban.active\",\n            trigger: \".o_switch_view.o_list\",\n        },\n        {\n            content: \"Select the first Match Button (line2)\",\n            extra_trigger: \".btn-secondary:contains('View')\",\n            trigger: \".btn-secondary:contains('Match')\",\n        },\n        {\n            content: \"Last St Line is line2\",\n            extra_trigger: \".o_bank_rec_st_line:last():contains('line2')\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line2')\",\n        },\n        {\n            content: \"Button To Check will reconcile since partner is saved on line2\",\n            trigger: \".btn-secondary:contains('To Check')\",\n        },\n        {\n            content: \"both badges are visible, trash icon is not, discuss tab is active\",\n            extra_trigger: \".o_bank_rec_selected_st_line:contains('line2'):has(div.badge[title='Matched'] i):has(span.badge:contains('To check'))\",\n            trigger: \"div[name='line_ids']:not(:has(.fa-trash-o))+.o_notebook a.active[name='discuss_tab']\",\n            run: () => {},\n        },\n        {\n            content: \"Switch to list view\",\n            extra_trigger: \".o_switch_view.o_kanban.active\",\n            trigger: \".o_switch_view.o_list\",\n        },\n        {\n            content: \"Remove the line filter\",\n            extra_trigger: \".o_switch_view.o_list.active\",\n            trigger: \".o_searchview_facet:contains('0002') .o_facet_remove\",\n        },\n        {\n            content: \"Select the first Match Button (line3)\",\n            extra_trigger: \".o_data_row:contains('line2'):has(.btn-secondary:contains('View'))\",\n            trigger: \".btn-secondary:contains('Match')\",\n        },\n        {\n            content: \"Open search bar menu\",\n            extra_trigger: \".o_bank_rec_stats_buttons\",\n            trigger: \".o_searchview_dropdown_toggler:nth(0)\",\n        },\n        // Test Reco Model\n        {\n            content: \"Choose a filter\",\n            extra_trigger: \".o_cp_searchview .o-dropdown--menu.o_search_bar_menu\",\n            trigger: \".o_filter_menu:first() i\",\n        },\n        {\n            content: \"Not Matched Filter\",\n            extra_trigger: \".o-dropdown--menu\",\n            trigger: \".dropdown-item:contains('Not Matched')\",\n        },\n        {\n            content: \"reco model dropdown\",\n            extra_trigger: \".o_switch_view.o_kanban.active\",\n            trigger: \".bank_rec_reco_model_dropdown i\",\n        },\n        {\n            content: \"create model\",\n            extra_trigger: \".o-dropdown--menu\",\n            trigger: \".dropdown-item:contains('Create model')\",\n        },\n        {\n            content: \"model name\",\n            trigger: \"input#name_0\",\n            run: \"text Bank Fees\",\n        },\n        {\n            content: \"add an account\",\n            trigger: \"a:contains('Add a line')\",\n        },\n        {\n            content: \"search for bank fees account\",\n            trigger: \"[name='account_id'] input\",\n            run: \"text Bank Fees\"\n        },\n        {\n            content: \"select the bank fees account\",\n            extra_trigger: \".o-autocomplete--dropdown-menu\",\n            trigger: \".o-autocomplete--dropdown-item:contains('Bank Fees')\",\n        },\n        {\n            content: \"Breadcrumb back to Bank Reconciliation from the model\",\n            extra_trigger: \".o_breadcrumb .active > span:contains('New')\",\n            trigger: \".breadcrumb-item:contains('Bank Reconciliation')\",\n        },\n        {\n            content: \"Choose Bank Fees Model\",\n            trigger: \".recon_model_button:contains('Bank Fees')\",\n        },\n        {\n            content: \"Validate line3\",\n            trigger: \"button:contains('Validate').btn-primary\",\n            run: \"dblclick\",\n        },\n        {\n            content: \"Remove the kanbans 'not matched' filter to reset all lines - use the rainbow man button\",\n            extra_trigger: \".o_reward_rainbow_man\",\n            trigger: \"p.btn-primary:contains('All Transactions')\",\n        },\n        {\n            content: \"Wait for search model change and line3 to appear\",\n            extra_trigger: \".o_kanban_view .o_searchview:first() .o_searchview_facet:last():contains('Bank')\",\n            trigger: \".o_bank_rec_st_line:last():contains('line3')\",\n            run: () => {},\n        },\n        {\n            content: \"'line2' should be selected, reset it\",\n            extra_trigger: \".o_bank_rec_selected_st_line:contains('line2')\",\n            trigger: \"button:contains('Reset')\"\n        },\n        {\n            content: \"select matched 'line3'\",\n            extra_trigger: \".o_bank_rec_st_line:contains('line2'):not(:has(div.badge))\",\n            trigger: \".o_bank_rec_st_line:contains('line3')\",\n        },\n        {\n            content: \"'line3' should be selected, reset it\",\n            extra_trigger: \".o_bank_rec_selected_st_line:contains('line3')\",\n            trigger: \"button:contains('Reset')\"\n        },\n        {\n            content: \"select matched 'line1'\",\n            extra_trigger: \".o_bank_rec_st_line:contains('line3'):not(:has(div.badge))\",\n            trigger: \".o_bank_rec_st_line:contains('line1')\",\n        },\n        {\n            content: \"'line1' should be selected, reset it\",\n            extra_trigger: \".o_bank_rec_selected_st_line:contains('line1')\",\n            trigger: \"button:contains('Reset')\"\n        },\n        {\n            content: \"Open search bar menu\",\n            extra_trigger: \".o_bank_rec_stats_buttons\",\n            trigger: \".o_searchview_dropdown_toggler:nth(0)\",\n        },\n        {\n            content: \"Filter Menu\",\n            extra_trigger: \"button:contains('Validate')\",\n            trigger: \".o_filter_menu:first() i\",\n        },\n        {\n            content: \"Activate the Not Matched filter\",\n            extra_trigger: \".o-dropdown--menu\",\n            trigger: \".dropdown-item:contains('Not Matched')\",\n        },\n        {\n            content: \"Close the Filter Menu\",\n            extra_trigger: \".o_searchview_facet:contains('Not Matched')\",\n            trigger: \".o_searchview_dropdown_toggler:nth(0)\",\n        },\n        {\n            content: \"select 'line2'\",\n            extra_trigger: \".o_searchview_facet:contains('Not Matched')\",\n            trigger: \".o_bank_rec_st_line:contains('line2')\",\n        },\n        {\n            content: \"Validate 'line2' again\",\n            extra_trigger: \".o_bank_rec_selected_st_line:contains('line2')\",\n            trigger: \"button:contains('Validate')\"\n        },\n        {\n            content: \"'line3' should be selected now\",\n            extra_trigger: \".o_bank_rec_selected_st_line:contains('line3')\",\n            trigger: \".o_bank_rec_selected_st_line:contains('line3')\",\n            run: () => {},\n        },\n        // Test the Balance when changing journal and liquidity line\n        stepUtils.toggleHomeMenu(),\n        ...stepUtils.goToAppSteps(\n            'account_accountant.menu_accounting',\n            \"Reset back to accounting module\"\n        ),\n        {\n            content: \"Open the bank reconciliation widget for Bank2\",\n            extra_trigger: \".o_breadcrumb\",\n            trigger: \"button.btn-primary[name='action_open_reconcile']:last()\",\n        },\n        {\n            content: \"Remove the kanbans 'not matched' filter\",\n            trigger: \".o_kanban_view .o_searchview_facet:nth-child(2) .o_facet_remove\",\n        },\n        {\n            content: \"Remove the kanban 'journal' filter\",\n            trigger: \".o_kanban_view .o_searchview_facet:nth-child(1) .o_facet_remove\",\n        },\n        {\n            content: \"select 'line1' from another journal\",\n            trigger: \".o_bank_rec_st_line:contains('line1')\",\n        },\n        {\n            content: \"balance is 3000\",\n            extra_trigger: \".o_bank_rec_selected_st_line:contains('line1')\",\n            trigger: \".btn-link:contains('$\u00a03,000.00')\",\n        },\n        {\n            content: \"Breadcrumb back to Bank Reconciliation from the report\",\n            extra_trigger: \"span:contains('General Ledger')\",\n            trigger: \".breadcrumb-item a:contains('Bank Reconciliation')\",\n            allowInvisible: true,\n        },\n        {\n            content: \"select 'line4' from this journal\",\n            trigger: \".o_bank_rec_st_line:contains('line4')\",\n        },\n        {\n            content: \"balance is $222.22\",\n            extra_trigger: \".o_bank_rec_selected_st_line:contains('line4')\",\n            trigger: \".btn-link:contains('$\u00a0222.22')\",\n            run: () => {},\n        },\n        {\n            content: \"Select the liquidity line\",\n            trigger: \"tr.o_bank_rec_liquidity_line td[field='debit']\",\n        },\n        {\n            content: \"Modify the liquidity line amount\",\n            extra_trigger: \"div[name='balance'] input:focus\",\n            trigger: \"div[name='balance'] input\",\n            run: \"text -333.33\",\n        },\n        {\n            content: \"balance displays $-333.33\",\n            extra_trigger: \".btn-link:contains('$\u00a0-333.33')\",\n            trigger: \".btn-link:contains('$\u00a0-333.33')\",\n            run: () => {},\n        },\n        {\n            content: \"Modify the label\",\n            trigger: \"div[name='name'] input\",\n            run: \"text Spontaneous Combustion\",\n        },\n        {\n            content: \"statement line displays combustion and $-333.33\",\n            extra_trigger: \".o_bank_rec_selected_st_line:contains('Combustion'):contains('$\u00a0-333.33')\",\n            trigger: \".o_bank_rec_selected_st_line:contains('Combustion'):contains('$\u00a0-333.33')\",\n            run: () => {},\n        },\n        // End\n        stepUtils.toggleHomeMenu(),\n        ...stepUtils.goToAppSteps(\n            'account_accountant.menu_accounting',\n            \"Reset back to accounting module\"\n        ),\n        {\n            content: \"check that we're back on the dashboard\",\n            trigger: 'a:contains(\"Customer Invoices\")',\n            run() {},\n        }\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n\nregistry.category(\"web_tour.tours\").add('account_accountant_bank_rec_widget',\n    {\n        test: true,\n        url: '/web',\n        steps: () => [\n        stepUtils.showAppsMenuItem(),\n        ...stepUtils.goToAppSteps('account_accountant.menu_accounting', \"Open the accounting module\"),\n\n        // Open the widget. The first line should be selected by default.\n        {\n            content: \"Open the bank reconciliation widget\",\n            extra_trigger: \".o_breadcrumb\",\n            trigger: \"button.btn-primary[name='action_open_reconcile']\",\n        },\n        {\n            content: \"The 'line1' should be selected by default\",\n            extra_trigger: \"div[name='line_ids']\",\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line1')\",\n            run: function() {},\n        },\n\n        // Test 1: Check the loading of lazy notebook tabs.\n        // Check 'amls_tab' (active by default).\n        {\n            content: \"The 'amls_tab' should be active and the inner list view loaded\",\n            extra_trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table\",\n            trigger: \"a.active[name='amls_tab']\",\n            run: function() {},\n        },\n        // Check 'discuss_tab'.\n        {\n            content: \"Click on the 'discuss_tab'\",\n            extra_trigger: \"a.active[name='amls_tab']\",\n            trigger: \"a[name='discuss_tab']\",\n        },\n        {\n            content: \"The 'discuss_tab' should be active and the chatter loaded\",\n            extra_trigger: \"a.active[name='discuss_tab']\",\n            trigger: \"div.bank_rec_widget_form_discuss_anchor div.o-mail-Chatter\",\n            run: function() {},\n        },\n        // Check 'manual_operations_tab'.\n        {\n            content: \"Click on the 'auto_balance' to make the 'manual_operations_tab' visible\",\n            extra_trigger: \"tr.o_bank_rec_auto_balance_line\",\n            trigger: \"tr.o_bank_rec_auto_balance_line td[field='name']\",\n        },\n        {\n            content: \"The 'manual_operations_tab' should be active\",\n            trigger: \"a.active[name='manual_operations_tab']\",\n            run: function() {},\n        },\n        {\n            content: \"The 'name' field should be focus automatically\",\n            trigger: \"div.o_notebook div[name='name'] input:focus\",\n            run: function() {},\n        },\n        {\n            content: \"Click on the 'credit' field to change the focus from 'name' to 'balance'\",\n            extra_trigger: \"tr.o_bank_rec_auto_balance_line\",\n            trigger: \"tr.o_bank_rec_auto_balance_line td[field='credit']\",\n        },\n        {\n            content: \"Wait to avoid non-deterministic errors on the next step\",\n            trigger: \"tr.o_bank_rec_auto_balance_line td[field='credit']\",\n            run: function() {},\n        },\n        {\n            content: \"The 'balance' field should be focus now\",\n            trigger: \"div.o_notebook div[name='balance'] input:focus\",\n            run: function() {},\n        },\n\n        // Test 2: Test validation + auto select the next line.\n        {\n            content: \"Click on the 'amls_tab'\",\n            extra_trigger: \"a.active[name='manual_operations_tab']\",\n            trigger: \"a[name='amls_tab']\",\n        },\n        {\n            content: \"Mount INV/2019/00002\",\n            extra_trigger: \"a.active[name='amls_tab']\",\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table td[name='move_id']:contains('INV/2019/00002')\",\n        },\n        {\n            content: \"Check INV/2019/00002 is well marked as selected\",\n            extra_trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00002')\",\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00002')\",\n            run: function() {},\n        },\n        {\n            content: \"Remove INV/2019/00002\",\n            extra_trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00002')\",\n            trigger: \"tr td.o_list_record_remove button\",\n        },\n        {\n            content: \"Mount INV/2019/00001\",\n            extra_trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr:not(.o_rec_widget_list_selected_item) td[name='move_id']:contains('INV/2019/00002')\",\n            trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table td[name='move_id']:contains('INV/2019/00001')\",\n        },\n        {\n            content: \"Validate\",\n            extra_trigger: \"div.bank_rec_widget_form_amls_list_anchor table.o_list_table tr.o_rec_widget_list_selected_item td[name='move_id']:contains('INV/2019/00001')\",\n            trigger: \"button:contains('Validate')\",\n        },\n        {\n            content: \"The 'line2' is the next not already reconciled line\",\n            extra_trigger: \"div[name='line_ids'] td[field='name']:contains('line2')\",\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line2')\",\n            run: function() {},\n        },\n\n        // Test 3: Test manual operations tab.\n        {\n            content: \"Click on 'credit'\",\n            trigger: \"div[name='line_ids'] td[field='credit']:last\",\n        },\n        {\n            content: \"The 'manual_operations_tab' should be active now and the auto_balance line mounted in edit\",\n            trigger: \"a.active[name='manual_operations_tab']\",\n            run: function() {},\n        },\n        {\n            content: \"The last line should be selected\",\n            trigger: \"div[name='line_ids'] tr.o_bank_rec_selected_line\",\n            run: function() {},\n        },\n        {\n            content: \"Search for 'partner_a'\",\n            trigger: \"div[name='partner_id'] input\",\n            run: \"text partner_a\",\n        },\n        {\n            content: \"Select 'partner_a'\",\n            extra_trigger: \".ui-autocomplete .o_m2o_dropdown_option a:contains('Create')\",\n            trigger: \".ui-autocomplete:visible li:contains('partner_a')\",\n        },\n        {\n            content: \"Select the payable account\",\n            extra_trigger: \"tr:not(.o_bank_rec_auto_balance_line) td[field='partner_id']:contains('partner_a')\",\n            trigger: \"button:contains('Payable')\",\n        },\n        {\n            content: \"Enter a tax\",\n            extra_trigger: \"tr:not(.o_bank_rec_auto_balance_line) td[field='account_id']:contains('Payable')\",\n            trigger: \"div[name='tax_ids'] input\",\n            run: \"text 15\",\n        },\n        {\n            content: \"Select 'Tax 15% (Sales)'\",\n            extra_trigger: \".ui-autocomplete\",\n            trigger: \".ui-autocomplete:visible li:contains('Sales')\",\n        },\n        {\n            content: \"Validate\",\n            extra_trigger: \"div[name='line_ids'] td[field='tax_ids']\",\n            trigger: \"button:contains('Validate')\",\n        },\n        {\n            content: \"The 'line3' is the next not already reconciled line\",\n            extra_trigger: \"div[name='line_ids'] td[field='name']:contains('line3')\",\n            trigger: \"div[name='line_ids'] td[field='name']:contains('line3')\",\n            run: function() {},\n        },\n        stepUtils.toggleHomeMenu(),\n        ...stepUtils.goToAppSteps(\n            'account_accountant.menu_accounting',\n            \"Reset back to accounting module\"\n        ),\n        {\n            content: \"check that we're back on the dashboard\",\n            trigger: 'a:contains(\"Customer Invoices\")',\n            run() {}\n        }\n    ]\n});\n", "/** @odoo-module */\n\nimport { ProductScreen } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"BarcodeScanningTour\", {\n        test: true,\n        url: \"/pos/ui\",\n        steps: () => {\n            startSteps();\n\n            // The following step is to make sure that the Chrome widget initialization ends\n            // If we try to use the barcode parser before its initiation, we will have\n            // some inconsistent JS errors:\n            // TypeError: Cannot read properties of undefined (reading 'parse_barcode')\n            ProductScreen.do.confirmOpeningPopup();\n\n            // Add a product with its barcode\n            ProductScreen.do.scan_barcode(\"0123456789\");\n            ProductScreen.check.selectedOrderlineHas('Monitor Stand');\n            ProductScreen.do.scan_barcode(\"0123456789\");\n            ProductScreen.check.selectedOrderlineHas('Monitor Stand', 2);\n\n            // Test \"Prices product\" EAN-13 `23.....{NNNDD}` barcode pattern\n            ProductScreen.do.scan_ean13_barcode(\"2305000000004\");\n            ProductScreen.check.selectedOrderlineHas('Magnetic Board', 1, \"0.00\");\n            ProductScreen.do.scan_ean13_barcode(\"2305000123451\");\n            ProductScreen.check.selectedOrderlineHas('Magnetic Board', 1, \"123.45\");\n\n            // Test \"Weighted product\" EAN-13 `21.....{NNDDD}` barcode pattern\n            ProductScreen.do.scan_ean13_barcode(\"2100005000000\");\n            ProductScreen.check.selectedOrderlineHas('Wall Shelf Unit', 0, \"0.00\");\n            ProductScreen.do.scan_ean13_barcode(\"2100005080002\");\n            ProductScreen.check.selectedOrderlineHas('Wall Shelf Unit', 8);\n\n            return getSteps();\n        }\n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"BarcodeScanningProductPackagingTour\", {\n        test: true,\n        url: \"/pos/ui\",\n        steps: () => {\n            startSteps();\n\n            ProductScreen.do.confirmOpeningPopup();\n\n            // Add the product with its barcode\n            ProductScreen.do.scan_barcode('12345601');\n            ProductScreen.check.selectedOrderlineHas('Packaging Product', 1);\n            ProductScreen.do.scan_barcode('12345601');\n            ProductScreen.check.selectedOrderlineHas('Packaging Product', 2);\n\n            // Add the product packaging with its barcode\n            ProductScreen.do.scan_barcode('12345610');\n            ProductScreen.check.selectedOrderlineHas('Packaging Product', 12);\n            ProductScreen.do.scan_barcode('12345610');\n            ProductScreen.check.selectedOrderlineHas('Packaging Product', 22);\n\n            return getSteps();\n        }\n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"GS1BarcodeScanningTour\", {\n        test: true,\n        url: \"/pos/ui\",\n        steps: () => {\n            startSteps();\n\n            ProductScreen.do.confirmOpeningPopup();\n\n            // Add the Product 1 with GS1 barcode\n            ProductScreen.do.scan_barcode(\"0108431673020125100000001\");\n            ProductScreen.check.selectedOrderlineHas('Product 1');\n            ProductScreen.do.scan_barcode(\"0108431673020125100000001\");\n            ProductScreen.check.selectedOrderlineHas('Product 1', 2);\n\n            // Add the Product 2 with normal barcode\n            ProductScreen.do.scan_barcode(\"08431673020126\");\n            ProductScreen.check.selectedOrderlineHas('Product 2');\n            ProductScreen.do.scan_barcode(\"08431673020126\");\n            ProductScreen.check.selectedOrderlineHas('Product 2', 2);\n\n            // Add the Product 3 with normal barcode\n            ProductScreen.do.scan_barcode(\"3760171283370\");\n            ProductScreen.check.selectedOrderlineHas('Product 3');\n            ProductScreen.do.scan_barcode(\"3760171283370\");\n            ProductScreen.check.selectedOrderlineHas('Product 3', 2);\n\n            return getSteps();\n        }\n    });\n", "/** @odoo-module */\n\nimport { ProductScreen } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { ReceiptScreen } from \"@point_of_sale/../tests/tours/helpers/ReceiptScreenTourMethods\";\nimport { PaymentScreen } from \"@point_of_sale/../tests/tours/helpers/PaymentScreenTourMethods\";\nimport { TicketScreen } from \"@point_of_sale/../tests/tours/helpers/TicketScreenTourMethods\";\nimport { Chrome } from \"@point_of_sale/../tests/tours/helpers/ChromeTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"ChromeTour\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n\n            ProductScreen.do.confirmOpeningPopup();\n            Chrome.do.clickMenuButton();\n            Chrome.check.isCashMoveButtonShown();\n            Chrome.do.clickMenuButton();\n\n            // Order 1 is at Product Screen\n            ProductScreen.do.clickHomeCategory();\n            ProductScreen.exec.addOrderline(\"Desk Pad\", \"1\", \"2\", \"2.0\");\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.check.checkStatus(\"-0001\", \"Ongoing\");\n            \n            // Order 2 is at Payment Screen\n            TicketScreen.do.clickNewTicket();\n            ProductScreen.exec.addOrderline(\"Monitor Stand\", \"3\", \"4\", \"12.0\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.check.isShown();\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.check.checkStatus(\"-0002\", \"Payment\");\n            \n            // Order 3 is at Receipt Screen\n            TicketScreen.do.clickNewTicket();\n            ProductScreen.exec.addOrderline(\"Whiteboard Pen\", \"5\", \"6\", \"30.0\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(true);\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.isShown();\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.check.checkStatus(\"-0003\", \"Receipt\");\n            \n            // Select order 1, should be at Product Screen\n            TicketScreen.do.selectOrder(\"-0001\");\n            ProductScreen.check.productIsDisplayed(\"Desk Pad\");\n            ProductScreen.check.selectedOrderlineHas(\"Desk Pad\", \"1.0\", \"2.0\");\n            \n            // Select order 2, should be at Payment Screen\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.selectOrder(\"-0002\");\n            PaymentScreen.check.emptyPaymentlines(\"12.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(false);\n            \n            // Select order 3, should be at Receipt Screen\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.selectOrder(\"-0003\");\n            ReceiptScreen.check.totalAmountContains(\"30.0\");\n            \n            // Pay order 1, with change\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.selectOrder(\"-0001\");\n            ProductScreen.check.isShown();\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.enterPaymentLineAmount(\"Cash\", \"20\");\n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(true);\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.totalAmountContains(\"2.0\");\n            \n            // Order 1 now should have Receipt status\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.check.checkStatus(\"-0001\", \"Receipt\");\n            \n            // Select order 3, should still be at Receipt Screen\n            // and the total amount doesn't change.\n            TicketScreen.do.selectOrder(\"-0003\");\n            ReceiptScreen.check.totalAmountContains(\"30.0\");\n            \n            // click next screen on order 3\n            // then delete the new empty order\n            ReceiptScreen.do.clickNextOrder();\n            ProductScreen.check.orderIsEmpty();\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.deleteOrder(\"-0004\");\n            TicketScreen.do.deleteOrder(\"-0001\");\n            \n            // After deleting order 1 above, order 2 became\n            // the 2nd-row order and it has payment status\n            TicketScreen.check.nthRowContains(2, \"Payment\");\n            TicketScreen.do.deleteOrder(\"-0002\");\n            Chrome.do.confirmPopup();\n            TicketScreen.do.clickNewTicket();\n            \n            // Invoice an order\n            ProductScreen.exec.addOrderline(\"Whiteboard Pen\", \"5\", \"6\");\n            ProductScreen.do.clickPartnerButton();\n            ProductScreen.do.clickCustomer(\"Nicole Ford\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.do.clickInvoiceButton();\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.isShown();\n            return getSteps(); \n        } \n    });\n", "/** @odoo-module **/\n\nimport { Chrome } from \"@point_of_sale/../tests/tours/helpers/ChromeTourMethods\";\nimport { ProductScreen } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"chrome_without_cash_move_permission\", {\n    test: true,\n    url: \"/pos/ui\",\n    steps: () => {\n        startSteps();\n\n        ProductScreen.do.confirmOpeningPopup();\n        Chrome.do.clickMenuButton();\n        Chrome.check.isCashMoveButtonHidden();\n\n        return getSteps();\n    },\n});\n", "/** @odoo-module */\n\nimport { ProductScreen } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { PaymentScreen } from \"@point_of_sale/../tests/tours/helpers/PaymentScreenTourMethods\";\nimport { ReceiptScreen } from \"@point_of_sale/../tests/tours/helpers/ReceiptScreenTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\n\nregistry\n.category(\"web_tour.tours\")\n.add(\"FixedTaxNegativeQty\", { \n    test: true, \n    url: \"/pos/ui\", \n    steps: () => {\n        startSteps();\n        \n        ProductScreen.do.clickHomeCategory();\n        \n        ProductScreen.do.clickDisplayedProduct(\"Zero Amount Product\");\n        ProductScreen.check.selectedOrderlineHas(\"Zero Amount Product\", \"1.0\", \"1.0\");\n        ProductScreen.do.pressNumpad(\"+/- 1\");\n        ProductScreen.check.selectedOrderlineHas(\"Zero Amount Product\", \"-1.0\", \"-1.0\");\n        \n        ProductScreen.do.clickPayButton();\n        PaymentScreen.do.clickPaymentMethod(\"Bank\");\n        PaymentScreen.check.remainingIs(\"0.00\");\n        PaymentScreen.do.clickValidate();\n        \n        ReceiptScreen.check.receiptIsThere();\n        return getSteps(); \n    } \n});\n", "/** @odoo-module */\n\nimport { Chrome } from \"@point_of_sale/../tests/tours/helpers/ChromeTourMethods\";\nimport { ProductScreen } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { PaymentScreen } from \"@point_of_sale/../tests/tours/helpers/PaymentScreenTourMethods\";\nimport { TicketScreen } from \"@point_of_sale/../tests/tours/helpers/TicketScreenTourMethods\";\nimport { ReceiptScreen } from \"@point_of_sale/../tests/tours/helpers/ReceiptScreenTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"PaymentScreenTour\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n            \n            ProductScreen.exec.addOrderline(\"Letter Tray\", \"10\");\n            ProductScreen.check.selectedOrderlineHas(\"Letter Tray\", \"10.0\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.check.emptyPaymentlines(\"52.8\");\n            \n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.enterPaymentLineAmount(\"Cash\", \"11\");\n            PaymentScreen.check.selectedPaymentlineHas(\"Cash\", \"11.00\");\n            PaymentScreen.check.remainingIs(\"41.8\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(false);\n            // remove the selected paymentline with multiple backspace presses\n            PaymentScreen.do.pressNumpad(\"Backspace Backspace\");\n            PaymentScreen.do.fillPaymentLineAmountMobile(\"Cash\", \"0\");\n            PaymentScreen.check.selectedPaymentlineHas(\"Cash\", \"0.00\");\n            PaymentScreen.do.clickPaymentlineDelButton(\"Cash\", \"0\", true);\n            PaymentScreen.check.emptyPaymentlines(\"52.8\");\n            \n            // Pay with bank, the selected line should have full amount\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(true);\n            // remove the line using the delete button\n            PaymentScreen.do.clickPaymentlineDelButton(\"Bank\", \"52.8\");\n            \n            // Use +10 and +50 to increment the amount of the paymentline\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.pressNumpad(\"+10\");\n            PaymentScreen.do.fillPaymentLineAmountMobile(\"Cash\", \"10\");\n            PaymentScreen.check.remainingIs(\"42.8\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(false);\n            PaymentScreen.do.pressNumpad(\"+50\");\n            PaymentScreen.do.fillPaymentLineAmountMobile(\"Cash\", \"60\");\n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"7.2\");\n            PaymentScreen.check.validateButtonIsHighlighted(true);\n            PaymentScreen.do.clickPaymentlineDelButton(\"Cash\", \"60.0\");\n            \n            // Multiple paymentlines\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.pressNumpad(\"1\");\n            PaymentScreen.do.fillPaymentLineAmountMobile(\"Cash\", \"1\");\n            PaymentScreen.check.remainingIs(\"51.8\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(false);\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.do.fillPaymentLineAmountMobile(\"Bank\", \"5\");\n            PaymentScreen.do.pressNumpad(\"5\");\n            PaymentScreen.check.remainingIs(\"46.8\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(false);\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(true);\n\n            return getSteps(); \n        } \n    });\n\n    \nregistry\n    .category(\"web_tour.tours\")\n    .add(\"PaymentScreenTour2\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n            \n            ProductScreen.do.clickHomeCategory();\n            ProductScreen.exec.addOrderline(\"Letter Tray\", \"1\", \"10\");\n            ProductScreen.do.clickPayButton();\n            \n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.do.enterPaymentLineAmount(\"Bank\", \"1000\");\n            \n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            return getSteps();\n        } \n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"PaymentScreenRoundingUp\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n            \n            ProductScreen.do.clickHomeCategory();\n            ProductScreen.exec.addOrderline(\"Product Test\", \"1\");\n            ProductScreen.do.clickPayButton();\n            \n            PaymentScreen.check.totalIs(\"2.00\");\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            \n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            \n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.clickNewTicket();\n            \n            ProductScreen.exec.addOrderline(\"Product Test\", \"-1\");\n            ProductScreen.do.clickPayButton();\n            \n            PaymentScreen.check.totalIs(\"-2.00\");\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            \n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            return getSteps();\n        } \n    });\n    \nregistry\n    .category(\"web_tour.tours\")\n    .add(\"PaymentScreenRoundingDown\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n            \n            ProductScreen.do.clickHomeCategory();\n            ProductScreen.exec.addOrderline(\"Product Test\", \"1\");\n            ProductScreen.do.clickPayButton();\n            \n            PaymentScreen.check.totalIs(\"1.95\");\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            \n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            \n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.clickNewTicket();\n            \n            ProductScreen.exec.addOrderline(\"Product Test\", \"-1\");\n            ProductScreen.do.clickPayButton();\n            \n            PaymentScreen.check.totalIs(\"-1.95\");\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            \n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n\n            return getSteps(); \n        }\n    });\n\n    \nregistry\n    .category(\"web_tour.tours\")\n    .add(\"PaymentScreenRoundingHalfUp\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n            \n            ProductScreen.do.confirmOpeningPopup();\n            ProductScreen.do.clickHomeCategory();\n            ProductScreen.exec.addOrderline(\"Product Test 1.2\", \"1\");\n            ProductScreen.do.clickPayButton();\n            \n            PaymentScreen.check.totalIs(\"1.00\");\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            \n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            \n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.clickNewTicket();\n            \n            ProductScreen.exec.addOrderline(\"Product Test 1.25\", \"1\");\n            ProductScreen.do.clickPayButton();\n            \n            PaymentScreen.check.totalIs(\"1.5\");\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            \n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            \n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.clickNewTicket();\n            \n            ProductScreen.exec.addOrderline(\"Product Test 1.4\", \"1\");\n            ProductScreen.do.clickPayButton();\n            \n            PaymentScreen.check.totalIs(\"1.5\");\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            \n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            \n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.clickNewTicket();\n            \n            ProductScreen.exec.addOrderline(\"Product Test 1.2\", \"1\");\n            ProductScreen.do.clickPayButton();\n            \n            PaymentScreen.check.totalIs(\"1.00\");\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.pressNumpad(\"2\");\n            PaymentScreen.do.fillPaymentLineAmountMobile(\"Cash\", \"2\");\n            \n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"1.0\");\n            return getSteps(); \n        }\n    });\n\n    \nregistry\n    .category(\"web_tour.tours\")\n    .add(\"PaymentScreenRoundingHalfUpCashAndBank\", {\n        test: true,\n        url: \"/pos/ui\",\n        steps: () => {\n            startSteps();\n            \n            ProductScreen.do.confirmOpeningPopup();\n            ProductScreen.do.clickHomeCategory();\n            ProductScreen.exec.addOrderline(\"Product Test 40\", \"1\");\n            ProductScreen.do.clickPartnerButton();\n            ProductScreen.do.clickCustomer(\"Nicole Ford\");\n            ProductScreen.do.clickPayButton();\n            \n            PaymentScreen.check.totalIs(\"40.00\");\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.do.pressNumpad(\"3 8\");\n            PaymentScreen.do.fillPaymentLineAmountMobile(\"Bank\", \"38\");\n            PaymentScreen.check.remainingIs(\"2.0\");\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            \n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            \n            PaymentScreen.do.clickInvoiceButton();\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.receiptIsThere();\n            ReceiptScreen.do.clickNextOrder();\n            \n            ProductScreen.do.clickHomeCategory();\n            ProductScreen.exec.addOrderline(\"Product Test 41\", \"1\");\n            ProductScreen.do.clickPartnerButton();\n            ProductScreen.do.clickCustomer(\"Nicole Ford\");\n            ProductScreen.do.clickPayButton();\n            \n            PaymentScreen.check.totalIs(\"41.00\");\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.do.pressNumpad(\"3 8\");\n            PaymentScreen.do.fillPaymentLineAmountMobile(\"Bank\", \"38\");\n            PaymentScreen.check.remainingIs(\"3.0\");\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            \n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            \n            PaymentScreen.do.clickInvoiceButton();\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.receiptIsThere();\n            return getSteps();\n        }\n    });\n    \nregistry\n    .category(\"web_tour.tours\")\n    .add(\"PaymentScreenTotalDueWithOverPayment\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            \n            startSteps();\n            \n            ProductScreen.do.confirmOpeningPopup();\n            ProductScreen.do.clickHomeCategory();\n            ProductScreen.exec.addOrderline(\"Product Test\", \"1\");\n            ProductScreen.do.clickPayButton();\n            \n            PaymentScreen.check.totalIs(\"1.95\");\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.enterPaymentLineAmount(\"Cash\", \"5\");\n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"3.05\");\n            PaymentScreen.check.totalDueIs(\"1.95\");\n            return getSteps() \n        }\n    });\n", "/** @odoo-module */\n\nimport { ProductScreen } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { ProductConfigurator } from \"@point_of_sale/../tests/tours/helpers/ProductConfiguratorTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"ProductConfiguratorTour\", {\n        test: true, \n        url: \"/pos/ui\",\n        steps: () => {\n            // signal to start generating steps\n            // when finished, steps can be taken from getSteps\n            startSteps();\n            \n            ProductScreen.do.confirmOpeningPopup();\n            // Go by default to home category\n            ProductScreen.do.clickHomeCategory();\n            \n            // Click on Configurable Chair product\n            ProductScreen.do.clickDisplayedProduct(\"Configurable Chair\");\n            ProductConfigurator.check.isShown();\n            \n            // Cancel configuration, not product should be in order\n            ProductConfigurator.do.cancelAttributes();\n            ProductScreen.check.orderIsEmpty();\n            \n            // Click on Configurable Chair product\n            ProductScreen.do.clickDisplayedProduct(\"Configurable Chair\");\n            ProductConfigurator.check.isShown();\n            \n            // Pick Color\n            ProductConfigurator.do.pickColor(\"Red\");\n            \n            // Pick Radio\n            ProductConfigurator.do.pickSelect(\"Metal\");\n            \n            // Pick Select\n            ProductConfigurator.do.pickRadio(\"Other\");\n            \n            // Fill in custom attribute\n            ProductConfigurator.do.fillCustomAttribute(\"Custom Fabric\");\n            \n            // Confirm configuration\n            ProductConfigurator.do.confirmAttributes();\n            \n            // Check that the product has been added to the order with correct attributes and price\n            ProductScreen.check.selectedOrderlineHas(\n                \"Configurable Chair (Red, Metal, Other: Custom Fabric)\",\n                \"1.0\",\n                \"11.0\"\n            );\n            \n            // Orderlines with the same attributes should be merged\n            ProductScreen.do.clickHomeCategory();\n            ProductScreen.do.clickDisplayedProduct(\"Configurable Chair\");\n            ProductConfigurator.do.pickColor(\"Red\");\n            ProductConfigurator.do.pickSelect(\"Metal\");\n            ProductConfigurator.do.pickRadio(\"Other\");\n            ProductConfigurator.do.fillCustomAttribute(\"Custom Fabric\");\n            ProductConfigurator.do.confirmAttributes();\n            ProductScreen.check.selectedOrderlineHas(\n                \"Configurable Chair (Red, Metal, Other: Custom Fabric)\",\n                \"2.0\",\n                \"22.0\"\n            );\n            \n            // Orderlines with different attributes shouldn't be merged\n            ProductScreen.do.clickHomeCategory();\n            ProductScreen.do.clickDisplayedProduct(\"Configurable Chair\");\n            ProductConfigurator.do.pickColor(\"Blue\");\n            ProductConfigurator.do.pickSelect(\"Metal\");\n            ProductConfigurator.do.pickRadio(\"Leather\");\n            ProductConfigurator.do.confirmAttributes();\n            ProductScreen.check.selectedOrderlineHas(\n                \"Configurable Chair (Blue, Metal, Leather)\",\n                \"1.0\",\n                \"10.0\"\n            );\n            return getSteps(); \n        }\n    });\n", "/** @odoo-module */\n\nimport { PaymentScreen } from \"@point_of_sale/../tests/tours/helpers/PaymentScreenTourMethods\";\nimport { ProductScreen } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { ReceiptScreen } from \"@point_of_sale/../tests/tours/helpers/ReceiptScreenTourMethods\";\nimport { TextAreaPopup } from \"@point_of_sale/../tests/tours/helpers/TextAreaPopupTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"ProductScreenTour\", { \n    test: true, \n    url: \"/pos/ui\", \n    steps: () => {\n        // signal to start generating steps\n        // when finished, steps can be taken from getSteps\n        startSteps();\n        \n        // Go by default to home category\n        ProductScreen.do.clickHomeCategory();\n        \n        // Clicking product multiple times should increment quantity\n        ProductScreen.do.clickDisplayedProduct(\"Desk Organizer\");\n        ProductScreen.check.selectedOrderlineHas(\"Desk Organizer\", \"1.0\", \"5.10\");\n        ProductScreen.do.clickDisplayedProduct(\"Desk Organizer\");\n        ProductScreen.check.selectedOrderlineHas(\"Desk Organizer\", \"2.0\", \"10.20\");\n        \n        // Clicking product should add new orderline and select the orderline\n        // If orderline exists, increment the quantity\n        ProductScreen.do.clickDisplayedProduct(\"Letter Tray\");\n        ProductScreen.check.selectedOrderlineHas(\"Letter Tray\", \"1.0\", \"5.28\");\n        ProductScreen.do.clickDisplayedProduct(\"Desk Organizer\");\n        ProductScreen.check.selectedOrderlineHas(\"Desk Organizer\", \"3.0\", \"15.30\");\n        \n        // Check effects of clicking numpad buttons\n        ProductScreen.do.clickOrderline(\"Letter Tray\", \"1\");\n        ProductScreen.check.selectedOrderlineHas(\"Letter Tray\", \"1.0\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.selectedOrderlineHas(\"Letter Tray\", \"0.0\", \"0.0\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.selectedOrderlineHas(\"Desk Organizer\", \"3\", \"15.30\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.selectedOrderlineHas(\"Desk Organizer\", \"0.0\", \"0.0\");\n        ProductScreen.do.pressNumpad(\"1\");\n        ProductScreen.check.selectedOrderlineHas(\"Desk Organizer\", \"1.0\", \"5.1\");\n        ProductScreen.do.pressNumpad(\"2\");\n        ProductScreen.check.selectedOrderlineHas(\"Desk Organizer\", \"12.0\", \"61.2\");\n        ProductScreen.do.pressNumpad(\"3\");\n        ProductScreen.check.selectedOrderlineHas(\"Desk Organizer\", \"123.0\", \"627.3\");\n        ProductScreen.do.pressNumpad(\". 5\");\n        ProductScreen.check.selectedOrderlineHas(\"Desk Organizer\", \"123.5\", \"629.85\");\n        ProductScreen.do.pressNumpad(\"Price\");\n        ProductScreen.check.modeIsActive(\"Price\");\n        ProductScreen.do.pressNumpad(\"1\");\n        ProductScreen.check.selectedOrderlineHas(\"Desk Organizer\", \"123.5\", \"123.5\");\n        ProductScreen.do.pressNumpad(\"1 .\");\n        ProductScreen.check.selectedOrderlineHas(\"Desk Organizer\", \"123.5\", \"1,358.5\");\n        ProductScreen.do.pressNumpad(\"Disc\");\n        ProductScreen.check.modeIsActive(\"Disc\");\n        ProductScreen.do.pressNumpad(\"5 .\");\n        ProductScreen.check.selectedOrderlineHas(\"Desk Organizer\", \"123.5\", \"1,290.58\");\n        ProductScreen.do.pressNumpad(\"Qty\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.orderIsEmpty();\n        \n        // Check different subcategories\n        ProductScreen.do.clickSubcategory(\"Desks\");\n        ProductScreen.check.productIsDisplayed(\"Desk Pad\");\n        ProductScreen.do.clickHomeCategory();\n        ProductScreen.do.clickSubcategory(\"Miscellaneous\");\n        ProductScreen.check.productIsDisplayed(\"Whiteboard Pen\");\n        ProductScreen.do.clickHomeCategory();\n        ProductScreen.do.clickSubcategory(\"Chairs\");\n        ProductScreen.check.productIsDisplayed(\"Letter Tray\");\n        ProductScreen.do.clickHomeCategory();\n        \n        // Add two orderlines and update quantity\n        ProductScreen.do.clickDisplayedProduct(\"Whiteboard Pen\");\n        ProductScreen.do.clickDisplayedProduct(\"Wall Shelf Unit\");\n        ProductScreen.do.clickOrderline(\"Whiteboard Pen\", \"1.0\");\n        ProductScreen.check.selectedOrderlineHas(\"Whiteboard Pen\", \"1.0\");\n        ProductScreen.do.pressNumpad(\"2\");\n        ProductScreen.check.selectedOrderlineHas(\"Whiteboard Pen\", \"2.0\");\n        ProductScreen.do.clickOrderline(\"Wall Shelf Unit\", \"1.0\");\n        ProductScreen.check.selectedOrderlineHas(\"Wall Shelf Unit\", \"1.0\");\n        ProductScreen.do.pressNumpad(\"2\");\n        ProductScreen.check.selectedOrderlineHas(\"Wall Shelf Unit\", \"2.0\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.selectedOrderlineHas(\"Wall Shelf Unit\", \"0.0\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.selectedOrderlineHas(\"Whiteboard Pen\", \"2.0\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.selectedOrderlineHas(\"Whiteboard Pen\", \"0.0\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.orderIsEmpty();\n        \n        // Add multiple orderlines then delete each of them until empty\n        ProductScreen.do.clickDisplayedProduct(\"Whiteboard Pen\");\n        ProductScreen.do.clickDisplayedProduct(\"Wall Shelf Unit\");\n        ProductScreen.do.clickDisplayedProduct(\"Small Shelf\");\n        ProductScreen.do.clickDisplayedProduct(\"Magnetic Board\");\n        ProductScreen.do.clickDisplayedProduct(\"Monitor Stand\");\n        ProductScreen.do.clickOrderline(\"Whiteboard Pen\", \"1.0\");\n        ProductScreen.check.selectedOrderlineHas(\"Whiteboard Pen\", \"1.0\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.selectedOrderlineHas(\"Whiteboard Pen\", \"0.0\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.selectedOrderlineHas(\"Monitor Stand\", \"1.0\");\n        ProductScreen.do.clickOrderline(\"Wall Shelf Unit\", \"1.0\");\n        ProductScreen.check.selectedOrderlineHas(\"Wall Shelf Unit\", \"1.0\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.selectedOrderlineHas(\"Wall Shelf Unit\", \"0.0\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.selectedOrderlineHas(\"Monitor Stand\", \"1.0\");\n        ProductScreen.do.clickOrderline(\"Small Shelf\", \"1.0\");\n        ProductScreen.check.selectedOrderlineHas(\"Small Shelf\", \"1.0\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.selectedOrderlineHas(\"Small Shelf\", \"0.0\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.selectedOrderlineHas(\"Monitor Stand\", \"1.0\");\n        ProductScreen.do.clickOrderline(\"Magnetic Board\", \"1.0\");\n        ProductScreen.check.selectedOrderlineHas(\"Magnetic Board\", \"1.0\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.selectedOrderlineHas(\"Magnetic Board\", \"0.0\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.selectedOrderlineHas(\"Monitor Stand\", \"1.0\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.selectedOrderlineHas(\"Monitor Stand\", \"0.0\");\n        ProductScreen.do.pressNumpad(\"Backspace\");\n        ProductScreen.check.orderIsEmpty();\n        \n        // Test OrderlineCustomerNoteButton\n        ProductScreen.do.clickDisplayedProduct(\"Desk Organizer\");\n        ProductScreen.check.selectedOrderlineHas(\"Desk Organizer\", \"1.0\");\n        ProductScreen.do.clickOrderlineCustomerNoteButton();\n        TextAreaPopup.check.isShown();\n        TextAreaPopup.do.inputText(\"Test customer note\");\n        TextAreaPopup.do.clickConfirm();\n        ProductScreen.check.orderlineHasCustomerNote(\"Desk Organizer\", \"1\", \"Test customer note\");\n        return getSteps();\n    }\n});\n\nregistry.category(\"web_tour.tours\").add(\"FiscalPositionNoTax\", { \n    test: true, \n    url: \"/pos/ui\", \n    steps: () => {\n        startSteps();\n        \n        ProductScreen.do.clickHomeCategory();\n        ProductScreen.do.clickDisplayedProduct('Test Product');\n        ProductScreen.check.totalAmountIs('100.00');\n        ProductScreen.do.changeFiscalPosition('No Tax');\n        ProductScreen.check.noDiscountApplied(\"100.00\");\n        ProductScreen.check.totalAmountIs('86.96');\n        ProductScreen.do.clickPayButton();\n        PaymentScreen.do.clickPaymentMethod('Bank');\n        PaymentScreen.check.remainingIs('0.00');\n        PaymentScreen.do.clickValidate();\n        ReceiptScreen.check.isShown();\n        ReceiptScreen.check.noOrderlineContainsDiscount();\n        return getSteps()\n    } \n});\n\nregistry.category(\"web_tour.tours\").add(\"CashClosingDetails\", { \n    test: true, \n    url: \"/pos/ui\", \n    steps: () => {\n        startSteps();\n        \n        ProductScreen.do.enterOpeningAmount('90');\n        ProductScreen.do.confirmOpeningPopup();\n        ProductScreen.check.checkSecondCashClosingDetailsLineAmount('10.00', '-');\n        return getSteps()\n    }\n});\n\nregistry.category(\"web_tour.tours\").add(\"ShowTaxExcludedTour\", { \n    test: true, \n    url: \"/pos/ui\", \n    steps: () => {\n        startSteps();\n        \n        ProductScreen.do.confirmOpeningPopup();\n\n        ProductScreen.do.clickHomeCategory();\n\n        ProductScreen.do.clickDisplayedProduct('Test Product');\n        ProductScreen.check.selectedOrderlineHas('Test Product', '1.0', '100.0');\n        ProductScreen.check.totalAmountIs('110.0');\n        return getSteps()\n    }\n});\n", "/** @odoo-module */\n\nimport { ProductScreen } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { ReceiptScreen } from \"@point_of_sale/../tests/tours/helpers/ReceiptScreenTourMethods\";\nimport { PaymentScreen } from \"@point_of_sale/../tests/tours/helpers/PaymentScreenTourMethods\";\nimport { Chrome } from \"@point_of_sale/../tests/tours/helpers/ChromeTourMethods\";\nimport { NumberPopup } from \"@point_of_sale/../tests/tours/helpers/NumberPopupTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\nimport { nbsp } from \"@web/core/utils/strings\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"ReceiptScreenTour\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n            \n            // press close button in receipt screen\n            ProductScreen.exec.addOrderline(\"Letter Tray\", \"10\", \"5\");\n            ProductScreen.check.selectedOrderlineHas(\"Letter Tray\", \"10\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.check.validateButtonIsHighlighted(true);\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.receiptIsThere();\n            // letter tray has 10% tax (search SRC)\n            ReceiptScreen.check.totalAmountContains(\"55.0\");\n            ReceiptScreen.do.clickNextOrder();\n            \n            // send email in receipt screen\n            ProductScreen.do.clickHomeCategory();\n            ProductScreen.exec.addOrderline(\"Desk Pad\", \"6\", \"5\", \"30.0\");\n            ProductScreen.exec.addOrderline(\"Whiteboard Pen\", \"6\", \"6\", \"36.0\");\n            ProductScreen.exec.addOrderline(\"Monitor Stand\", \"6\", \"1\", \"6.0\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.enterPaymentLineAmount(\"Cash\", \"70\");\n            PaymentScreen.check.remainingIs(\"2.0\");\n            PaymentScreen.do.pressNumpad(\"0\");\n            PaymentScreen.do.fillPaymentLineAmountMobile(\"Cash\", \"700\");\n            PaymentScreen.check.remainingIs(\"0.00\");\n            PaymentScreen.check.changeIs(\"628.0\");\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.receiptIsThere();\n            ReceiptScreen.check.totalAmountContains(\"72.0\");\n            ReceiptScreen.do.setEmail(\"test@receiptscreen.com\");\n            ReceiptScreen.do.clickSend();\n            ReceiptScreen.check.emailIsSuccessful();\n            ReceiptScreen.do.clickNextOrder();\n            \n            // order with tip\n            // check if tip amount is displayed\n            ProductScreen.exec.addOrderline(\"Desk Pad\", \"6\", \"5\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickTipButton();\n            NumberPopup.do.enterValue(\"1\");\n            NumberPopup.check.inputShownIs(\"1\");\n            NumberPopup.do.clickConfirm();\n            PaymentScreen.check.emptyPaymentlines(\"31.0\");\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.receiptIsThere();\n            ReceiptScreen.check.totalAmountContains(`$${nbsp}30.00 + $${nbsp}1.00 tip`);\n            ReceiptScreen.do.clickNextOrder();\n            \n            // Test customer note in receipt\n            ProductScreen.exec.addOrderline(\"Desk Pad\", \"1\", \"5\");\n            ProductScreen.exec.addCustomerNote(\"Test customer note\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.customerNoteIsThere(\"Test customer note\");\n            return getSteps(); \n        } \n});\n\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"ReceiptScreenDiscountWithPricelistTour\", {\n        test: true,\n        url: \"/pos/ui\",\n        steps: () => {\n            startSteps();\n            \n            ProductScreen.do.clickHomeCategory();\n            ProductScreen.exec.addOrderline(\"Test Product\", \"1\");\n            ProductScreen.do.selectPriceList(\"special_pricelist\");\n            ProductScreen.check.discountOriginalPriceIs(\"7.0\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.discountAmountIs(\"0.7\");\n            return getSteps();\n        },\n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"OrderPaidInCash\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n            \n            ProductScreen.do.confirmOpeningPopup();\n            ProductScreen.exec.addOrderline(\"Desk Pad\", \"5\", \"5\");\n            ProductScreen.check.selectedOrderlineHas(\"Desk Pad\", \"5\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.check.validateButtonIsHighlighted(true);\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.receiptIsThere();\n            ReceiptScreen.do.clickNextOrder();\n            ProductScreen.check.isShown();\n            // Close the session\n            Chrome.do.clickMenuButton();\n            ProductScreen.do.clickCloseButton();\n            ProductScreen.do.closeWithCashAmount(\"25\");\n            ProductScreen.check.cashDifferenceIs(\"0.00\");\n            ProductScreen.do.clickCloseSession();\n            ProductScreen.check.lastClosingCashIs(\"25.00\");\n            return getSteps();\n        } \n    });\n", "/** @odoo-module */\n\nimport { ProductScreen } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { ReceiptScreen } from \"@point_of_sale/../tests/tours/helpers/ReceiptScreenTourMethods\";\nimport { PaymentScreen } from \"@point_of_sale/../tests/tours/helpers/PaymentScreenTourMethods\";\nimport { PartnerListScreen } from \"@point_of_sale/../tests/tours/helpers/PartnerListScreenTourMethods\";\nimport { TicketScreen } from \"@point_of_sale/../tests/tours/helpers/TicketScreenTourMethods\";\nimport { ErrorPopup } from \"@point_of_sale/../tests/tours/helpers/ErrorPopupTourMethods\";\nimport { Chrome } from \"@point_of_sale/../tests/tours/helpers/ChromeTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"TicketScreenTour\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n            ProductScreen.do.confirmOpeningPopup();\n            ProductScreen.do.clickHomeCategory();\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.clickNewTicket();\n            ProductScreen.exec.addOrderline(\"Desk Pad\", \"1\", \"3\");\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.deleteOrder(\"-0002\");\n            Chrome.do.confirmPopup();\n            TicketScreen.do.clickDiscard();\n            ProductScreen.check.orderIsEmpty();\n            ProductScreen.exec.addOrderline(\"Desk Pad\", \"1\", \"2\");\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.deleteOrder(\"-0001\");\n            Chrome.do.confirmPopup();\n            TicketScreen.do.clickDiscard();\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.check.nthRowContains(2, \"-0003\");\n            TicketScreen.do.clickDiscard();\n            ProductScreen.exec.addOrderline(\"Desk Pad\", \"1\", \"2\");\n            ProductScreen.do.clickPartnerButton();\n            ProductScreen.do.clickCustomer(\"Nicole Ford\");\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.check.nthRowContains(2, \"Nicole Ford\");\n            TicketScreen.do.clickNewTicket();\n            ProductScreen.exec.addOrderline(\"Desk Pad\", \"1\", \"3\");\n            ProductScreen.do.clickPartnerButton();\n            ProductScreen.do.clickCustomer(\"Brandon Freeman\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.check.isShown();\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.check.nthRowContains(3, \"Brandon Freeman\");\n            TicketScreen.do.clickNewTicket();\n            ProductScreen.exec.addOrderline(\"Desk Pad\", \"2\", \"4\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.isShown();\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.check.nthRowContains(4, \"Receipt\");\n            TicketScreen.do.selectFilter(\"Receipt\");\n            TicketScreen.check.nthRowContains(2, \"Receipt\");\n            TicketScreen.do.selectFilter(\"Payment\");\n            TicketScreen.check.nthRowContains(2, \"Payment\");\n            TicketScreen.do.selectFilter(\"Ongoing\");\n            TicketScreen.check.nthRowContains(2, \"Ongoing\");\n            TicketScreen.do.selectFilter(\"All active orders\");\n            TicketScreen.check.nthRowContains(4, \"Receipt\");\n            TicketScreen.do.search(\"Customer\", \"Nicole\");\n            TicketScreen.check.nthRowContains(2, \"Nicole\");\n            TicketScreen.do.search(\"Customer\", \"Brandon\");\n            TicketScreen.check.nthRowContains(2, \"Brandon\");\n            TicketScreen.do.search(\"Receipt Number\", \"-0005\");\n            TicketScreen.check.nthRowContains(2, \"Receipt\");\n            // Close the TicketScreen to see the current order which is in ReceiptScreen.\n            // This is just to remove the search string in the search bar.\n            TicketScreen.do.clickDiscard();\n            ReceiptScreen.check.isShown();\n            // Open again the TicketScreen to check the Paid filter.\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.selectFilter(\"Paid\");\n            TicketScreen.check.nthRowContains(2, \"-0005\");\n            // Pay the order that was in PaymentScreen.\n            TicketScreen.do.selectFilter(\"Payment\");\n            TicketScreen.do.selectOrder(\"-0004\");\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.isShown();\n            ReceiptScreen.do.clickNextOrder();\n            ProductScreen.check.isShown();\n            // Check that the Paid filter will show the 2 synced orders.\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.selectFilter(\"Paid\");\n            TicketScreen.check.nthRowContains(2, \"Brandon Freeman\");\n            TicketScreen.check.nthRowContains(3, \"-0005\");\n            // Invoice order\n            TicketScreen.do.selectOrder(\"-0005\");\n            TicketScreen.check.orderWidgetIsNotEmpty();\n            TicketScreen.do.clickControlButton(\"Invoice\");\n            Chrome.do.confirmPopup();\n            PartnerListScreen.check.isShown();\n            PartnerListScreen.do.clickPartner(\"Colleen Diaz\");\n            TicketScreen.check.partnerIs(\"Colleen Diaz\");\n            // Reprint receipt\n            TicketScreen.do.clickControlButton(\"Print Receipt\");\n            ReceiptScreen.check.isShown();\n            ReceiptScreen.do.clickBack();\n            // When going back, the ticket screen should be in its previous state.\n            TicketScreen.check.filterIs(\"Paid\");\n            \n            // Test refund //\n            TicketScreen.do.clickDiscard();\n            ProductScreen.check.isShown();\n            ProductScreen.check.orderIsEmpty();\n            ProductScreen.do.clickRefund();\n            // Filter should be automatically 'Paid'.\n            TicketScreen.check.filterIs(\"Paid\");\n            TicketScreen.do.selectOrder(\"-0005\");\n            TicketScreen.check.partnerIs(\"Colleen Diaz\");\n            TicketScreen.do.clickOrderline(\"Desk Pad\");\n            TicketScreen.do.pressNumpad(\"3\");\n            // Error should show because 2 is more than the number\n            // that can be refunded.\n            ErrorPopup.do.clickConfirm();\n            TicketScreen.do.clickDiscard();\n            ProductScreen.do.goBackToMainScreen();\n            ProductScreen.check.isShown();\n            ProductScreen.check.orderIsEmpty();\n            ProductScreen.do.clickRefund();\n            TicketScreen.do.selectOrder(\"-0005\");\n            TicketScreen.do.clickOrderline(\"Desk Pad\");\n            TicketScreen.do.pressNumpad(\"1\");\n            TicketScreen.check.toRefundTextContains(\"To Refund: 1.00\");\n            TicketScreen.do.confirmRefund();\n            ProductScreen.do.goBackToMainScreen();\n            ProductScreen.check.isShown();\n            ProductScreen.check.selectedOrderlineHas(\"Desk Pad\", \"-1.00\");\n            // Try changing the refund line to positive number.\n            // Error popup should show.\n            ProductScreen.do.pressNumpad(\"2\");\n            ErrorPopup.do.clickConfirm();\n            // Change the refund line quantity to -3 -- not allowed\n            // so error popup.\n            ProductScreen.do.pressNumpad(\"+/- 3\");\n            ErrorPopup.do.clickConfirm();\n            // Change the refund line quantity to -2 -- allowed.\n            ProductScreen.do.pressNumpad(\"+/- 2\");\n            ProductScreen.check.selectedOrderlineHas(\"Desk Pad\", \"-2.00\");\n            // Check if the amount being refunded changed to 2.\n            ProductScreen.do.clickRefund();\n            TicketScreen.do.selectOrder(\"-0005\");\n            TicketScreen.check.toRefundTextContains(\"Refunding 2.00\");\n            TicketScreen.do.clickDiscard();\n            ProductScreen.do.goBackToMainScreen();\n            // Pay the refund order.\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.isShown();\n            ReceiptScreen.do.clickNextOrder();\n            // Check refunded quantity.\n            ProductScreen.do.clickRefund();\n            TicketScreen.do.selectOrder(\"-0005\");\n            TicketScreen.check.refundedNoteContains(\"2.00 Refunded\");\n\n            return getSteps(); \n        } \n    });\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nfunction add_product_to_order(product_name) {\n    return [\n        {\n            content: \"buy \" + product_name,\n            trigger: '.product-list .product-name:contains(\"' + product_name + '\")',\n        },\n        {\n            content: \"click review button\",\n            trigger: \".btn-switchpane:contains('Review')\",\n            mobile: true,\n        },\n        {\n            content: \"the \" + product_name + \" have been added to the order\",\n            trigger: '.order .product-name:contains(\"' + product_name + '\")',\n            run: function () {},\n        },\n        {\n            content: \"go back to the products\",\n            trigger: \".floor-button\",\n            mobile: true,\n        },\n    ];\n}\n\nfunction set_fiscal_position_on_order(fp_name) {\n    return [\n        {\n            content: \"click review button\",\n            trigger: \".btn-switchpane:contains('Review')\",\n            mobile: true,\n        },\n        {\n            content: \"click more button\",\n            trigger: \".mobile-more-button\",\n            mobile: true,\n        },\n        {\n            content: \"set fiscal position\",\n            trigger: \".control-button.o_fiscal_position_button\",\n        },\n        {\n            content: \"choose fiscal position \" + fp_name + \" to add to the order\",\n            trigger: '.popups .popup .selection .selection-item:contains(\"' + fp_name + '\")',\n        },\n        {\n            content: \"click more button\",\n            trigger: \".mobile-more-button\",\n            mobile: true,\n        },\n        {\n            content: \"the fiscal position \" + fp_name + \" has been set to the order\",\n            trigger: '.control-button.o_fiscal_position_button:contains(\"' + fp_name + '\")',\n            run: function () {},\n        },\n        {\n            content: \"go back to the products\",\n            trigger: \".floor-button\",\n            mobile: true,\n        },\n    ];\n}\n\nfunction press_payment_numpad(val) {\n    return [\n        {\n            content: `press ${val} on payment screen numpad`,\n            trigger: `.payment-numpad .input-button:contains(\"${val}\"):visible`,\n            mobile: false,\n        },\n    ];\n}\n\nfunction fillPaymentLineAmountMobile(lineName, keys) {\n    return [\n        {\n            content: \"click payment line\",\n            trigger: `.paymentlines .paymentline .payment-infos:contains(\"${lineName}\")`,\n            mobile: true,\n        },\n        {\n            content: `'${keys}' inputed in the number popup`,\n            trigger: \".popup .payment-input-number\",\n            run: `text ${keys}`,\n            mobile: true,\n        },\n        {\n            content: \"click confirm button\",\n            trigger: \".popup .footer .confirm\",\n            mobile: true,\n        }\n    ];\n}\n\nfunction fillPaymentValue(lineName, val) {\n    return [\n        ...press_payment_numpad(val),\n        ...fillPaymentLineAmountMobile(lineName, val),\n    ]\n}\n\nfunction press_product_numpad(val) {\n    return [\n        {\n            content: \"click review button\",\n            trigger: \".btn-switchpane:contains('Review')\",\n            mobile: true,\n        },\n        {\n            content: `press ${val} on product screen numpad`,\n            trigger: `.numpad .input-button:contains(\"${val}\"):visible`,\n        },\n        {\n            content: \"go back to the products\",\n            trigger: \".floor-button\",\n            mobile: true,\n        },\n    ];\n}\n\nfunction selected_payment_has(name, val) {\n    return [\n        {\n            content: `selected payment is ${name} and has ${val}`,\n            trigger: `.paymentlines .paymentline.selected .payment-name:contains(\"${name}\")`,\n            extra_trigger: `.paymentlines .paymentline.selected .payment-name:contains(\"${name}\") ~ .payment-amount:contains(\"${val}\")`,\n            run: function () {},\n        },\n    ];\n}\n\nfunction selected_orderline_has({ product, price = null, quantity = null }) {\n    const result = [\n        {\n            content: \"click review button\",\n            trigger: \".btn-switchpane:contains('Review')\",\n            mobile: true,\n        },\n    ];\n    if (price !== null) {\n        result.push({\n            content: `Selected line has product '${product}' and price '${price}'`,\n            trigger: `.order-container .orderlines .orderline.selected .product-name:contains(\"${product}\") ~ span.price:contains(\"${price}\")`,\n            run: function () {},\n        });\n    }\n    if (quantity !== null) {\n        result.push({\n            content: `Selected line has product '${product}' and quantity '${quantity}'`,\n            trigger: `.order-container .orderlines .orderline.selected .product-name:contains('${product}') ~ .info-list .info em:contains('${quantity}')`,\n            run: function () {},\n        });\n    }\n    result.push({\n        content: \"go back to the products\",\n        trigger: \".floor-button\",\n        mobile: true,\n    });\n    return result;\n}\n\nfunction verify_order_total(total_str) {\n    return [\n        {\n            content: \"click review button\",\n            trigger: \".btn-switchpane:contains('Review')\",\n            mobile: true,\n        },\n        {\n            content: \"order total contains \" + total_str,\n            trigger: '.order .total .value:contains(\"' + total_str + '\")',\n            run: function () {}, // it's a check\n        },\n        {\n            content: \"go back to the products\",\n            trigger: \".floor-button\",\n            mobile: true,\n        },\n    ];\n}\n\nfunction goto_payment_screen_and_select_payment_method() {\n    return [\n        {\n            content: \"go to payment screen\",\n            trigger: \".button.pay-order-button\",\n            mobile: false,\n        },\n        {\n            content: \"go to payment screen\",\n            trigger: \".btn-switchpane:contains('Pay')\",\n            mobile: true,\n        },\n        {\n            content: \"pay with cash\",\n            trigger: '.paymentmethod:contains(\"Cash\")',\n        },\n    ];\n}\n\nfunction finish_order() {\n    return [\n        {\n            content: \"validate the order\",\n            trigger: \".payment-screen .button.next.highlight:visible\",\n            mobile: false,\n        },\n        {\n            content: \"validate the order\",\n            trigger: \".payment-screen .btn-switchpane:contains('Validate')\",\n            mobile: true,\n        },\n        {\n            content: \"verify that the order has been successfully sent to the backend\",\n            trigger: \".js_connected:visible\",\n            run: function () {},\n        },\n        {\n            content: \"click Next Order\",\n            trigger: \".receipt-screen .button.next.highlight:visible\",\n            mobile: false,\n        },\n        {\n            content: \"Click Next Order\",\n            trigger: \".receipt-screen .btn-switchpane.validation-button.highlight[name='done']\",\n            mobile: true,\n        },\n        {\n            content: \"check if we left the receipt screen\",\n            trigger: \".pos-content .screen:not(:has(.receipt-screen))\",\n            run: function () {},\n        },\n    ];\n}\n\nvar steps = [\n    {\n        content: \"waiting for loading to finish\",\n        trigger: \"body:not(:has(.loader))\",\n        run: function () {},\n    },\n    {\n        // Leave category displayed by default\n        content: \"click category switch\",\n        trigger: \".breadcrumb-home\",\n    },\n];\n\nsteps = steps.concat(add_product_to_order(\"Desk Organizer\"));\nsteps = steps.concat(verify_order_total(\"5.10\"));\n\nsteps = steps.concat(add_product_to_order(\"Desk Organizer\"));\nsteps = steps.concat(verify_order_total(\"10.20\"));\nsteps = steps.concat(goto_payment_screen_and_select_payment_method());\n\n/*  add payment line of only 5.20\n        status:\n            order-total := 10.20\n            total-payment := 11.70\n        expect:\n            remaining := 0.00\n            change := 1.50\n    */\nsteps = steps.concat(fillPaymentValue(\"Cash\", \"5\"));\nsteps = steps.concat(selected_payment_has(\"Cash\", \"5.0\"));\nsteps = steps.concat([\n    {\n        content: \"verify remaining\",\n        trigger: '.payment-status-remaining .amount:contains(\"5.20\")',\n        run: function () {},\n    },\n    {\n        content: \"verify change\",\n        trigger: '.payment-status-change .amount:contains(\"0.00\")',\n        run: function () {},\n    },\n]);\n\n/*  make additional payment line of 6.50\n        status:\n            order-total := 10.20\n            total-payment := 11.70\n        expect:\n            remaining := 0.00\n            change := 1.50\n    */\nsteps = steps.concat([\n    {\n        content: \"pay with cash\",\n        trigger: '.paymentmethod:contains(\"Bank\")',\n    },\n]);\nsteps = steps.concat(selected_payment_has(\"Bank\", \"5.2\"));\nsteps = steps.concat(fillPaymentValue(\"Bank\", \"6\"));\nsteps = steps.concat(selected_payment_has(\"Bank\", \"6.0\"));\nsteps = steps.concat([\n    {\n        content: \"verify remaining\",\n        trigger: '.payment-status-remaining .amount:contains(\"0.00\")',\n        run: function () {},\n    },\n    {\n        content: \"verify change\",\n        trigger: '.payment-status-change .amount:contains(\"0.80\")',\n        run: function () {},\n    },\n]);\n\nsteps = steps.concat(finish_order());\n\n// test opw-672118 orderline subtotal rounding\nsteps = steps.concat(add_product_to_order(\"Desk Organizer\"));\nsteps = steps.concat(selected_orderline_has({ product: \"Desk Organizer\", quantity: \"1.0\" }));\nsteps = steps.concat(press_product_numpad(\".\"));\nsteps = steps.concat(\n    selected_orderline_has({ product: \"Desk Organizer\", quantity: \"0.0\", price: \"0.0\" })\n);\nsteps = steps.concat(press_product_numpad(\"9\"));\nsteps = steps.concat(\n    selected_orderline_has({ product: \"Desk Organizer\", quantity: \"0.9\", price: \"4.59\" })\n);\nsteps = steps.concat(press_product_numpad(\"9\"));\nsteps = steps.concat(\n    selected_orderline_has({ product: \"Desk Organizer\", quantity: \"0.99\", price: \"5.05\" })\n);\nsteps = steps.concat(goto_payment_screen_and_select_payment_method());\nsteps = steps.concat(selected_payment_has(\"Cash\", \"5.05\"));\nsteps = steps.concat(finish_order());\n\n// Test fiscal position one2many map (align with backend)\nsteps = steps.concat(add_product_to_order(\"Letter Tray\"));\nsteps = steps.concat(selected_orderline_has({ product: \"Letter Tray\", quantity: \"1.0\" }));\nsteps = steps.concat(verify_order_total(\"5.28\"));\nsteps = steps.concat(set_fiscal_position_on_order(\"FP-POS-2M\"));\nsteps = steps.concat(verify_order_total(\"5.52\"));\n\nsteps = steps.concat([\n    {\n        content: \"open the navbar menu\",\n        trigger: \".menu-button\",\n    },\n    {\n        content: \"open closing the Point of Sale frontend popup\",\n        trigger: \".close-button\",\n    },\n    {\n        content: \"close the Point of Sale frontend\",\n        trigger: \".close-pos-popup .button:contains('Discard')\",\n        run: function () {}, //it's a check,\n    },\n]);\n\nregistry.category(\"web_tour.tours\").add(\"pos_basic_order\", { test: true, url: \"/pos/ui\", steps: () => steps });\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\n\nclass Do {\n    confirmPopup() {\n        return [\n            {\n                content: \"confirm popup\",\n                trigger: \".popups .modal-dialog .button.confirm\",\n            },\n        ];\n    }\n    clickTicketButton() {\n        return [\n            {\n                trigger: \".pos-topheader .ticket-button\",\n            },\n            {\n                trigger: \".subwindow .ticket-screen\",\n                run: () => {},\n            },\n        ];\n    }\n    clickMenuButton() {\n        return [\n            {\n                content: \"Click on the menu button\",\n                trigger: \".menu-button\",\n            },\n        ];\n    }\n    closeSession() {\n        return [\n            ...this.clickMenuButton(),\n            {\n                content: \"click on the close session menu button\",\n                trigger: \".close-button\",\n            },\n            {\n                content: \"click on the close session popup button\",\n                trigger: \".close-pos-popup .footer .button.highlight\",\n            },\n            {\n                content: \"check that the session is closed without error\",\n                trigger: \".o_web_client\",\n                isCheck: true,\n            },\n        ];\n    }\n}\n\nclass Check {\n    isCashMoveButtonHidden() {\n        return [\n            {\n                extraTrigger: \".pos-topheader\",\n                trigger: \".pos-topheader:not(:contains(Cash In/Out))\",\n                run: () => {},\n            },\n        ];\n    }\n\n    isCashMoveButtonShown() {\n        return [\n            {\n                trigger: \".pos-topheader:contains(Cash In/Out)\",\n                run: () => {},\n            },\n        ];\n    }\n}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"Chrome\", Do, Check));\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\n\nclass Do {\n    clickConfirm() {\n        return [\n            {\n                content: \"click confirm button\",\n                trigger: \".popup-error .footer .cancel\",\n            },\n        ];\n    }\n}\n\nclass Check {\n    isShown() {\n        return [\n            {\n                content: \"error popup is shown\",\n                trigger: \".modal-dialog .popup-error\",\n                run: () => {},\n            },\n        ];\n    }\n}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"ErrorPopup\", Do, Check));\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\n\nclass Do {\n    /**\n     * Note: Maximum of 2 characters because NumberBuffer only allows 2 consecutive\n     * fast inputs. Fast inputs is the case in tours.\n     *\n     * @param {String} keys space-separated input keys\n     */\n    pressNumpad(keys) {\n        const numberChars = \"0 1 2 3 4 5 6 7 8 9 C\".split(\" \");\n        const modeButtons = \"+1 +10 +2 +20 +5 +50\".split(\" \");\n        const decimalSeparators = \", .\".split(\" \");\n        function generateStep(key) {\n            let trigger;\n            if (numberChars.includes(key)) {\n                trigger = `.popup-numpad .number-char:contains(\"${key}\")`;\n            } else if (modeButtons.includes(key)) {\n                trigger = `.popup-numpad .mode-button:contains(\"${key}\")`;\n            } else if (key === \"Backspace\") {\n                trigger = `.popup-numpad .numpad-backspace`;\n            } else if (decimalSeparators.includes(key)) {\n                trigger = `.popup-numpad .number-char.dot`;\n            }\n            return {\n                content: `'${key}' pressed in numpad`,\n                trigger,\n                mobile: false,\n            };\n        }\n        return keys.split(\" \").map(generateStep);\n    }\n    enterValue(keys) {\n        const numpadKeys = keys.split('').join(' ');\n        return [\n            ...this.pressNumpad(numpadKeys),\n            ...this.fillPopupValue(keys)\n        ];\n    }\n    fillPopupValue(keys) {\n        return [\n            {\n                content: `'${keys}' inputed in the number popup`,\n                trigger: \".popup .value\",\n                run: `text ${keys}`,\n                mobile: true,\n            },\n        ];\n    }\n    clickConfirm() {\n        return [\n            {\n                content: \"click confirm button\",\n                trigger: \".popup-number .footer .confirm\",\n                mobile: false,\n            },\n            {\n                content: \"click confirm button\",\n                trigger: \".popup .footer .confirm\",\n                mobile: true,\n            }\n        ];\n    }\n}\n\nclass Check {\n    isShown() {\n        return [\n            {\n                content: \"number popup is shown\",\n                trigger: \".modal-dialog .popup .value\",\n                run: () => {},\n            },\n        ];\n    }\n    inputShownIs(val) {\n        return [\n            {\n                content: \"number input element check\",\n                trigger: \".modal-dialog .popup-number\",\n                run: () => {},\n                mobile: false,\n            },\n            {\n                content: `input shown is '${val}'`,\n                trigger: `.modal-dialog .popup .value:contains(\"${val}\")`,\n                run: () => {},\n                mobile: false,\n            },\n        ];\n    }\n}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"NumberPopup\", Do, Check));\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\n\nclass Do {\n    clickPartner(name) {\n        return [\n            {\n                content: `click partner '${name}' from partner list screen`,\n                trigger: `.partnerlist-screen .partner-list-contents .partner-line td:contains(\"${name}\")`,\n            },\n        ];\n    }\n}\n\nclass Check {\n    isShown() {\n        return [\n            {\n                content: \"partner list screen is shown\",\n                trigger: \".pos-content .partnerlist-screen\",\n                run: () => {},\n            },\n        ];\n    }\n}\n\nclass Execute {}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"PartnerListScreen\", Do, Check, Execute));\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\n\nclass Do {\n    clickPaymentMethod(name) {\n        return [\n            {\n                content: `click '${name}' payment method`,\n                trigger: `.paymentmethods .button.paymentmethod:contains(\"${name}\")`,\n            },\n        ];\n    }\n\n    /**\n     * Delete the paymentline having the given payment method name and amount.\n     * @param {String} name payment method\n     * @param {String} amount\n     */\n    clickPaymentlineDelButton(name, amount, mobile = false) {\n        return [\n            {\n                content: `delete ${name} paymentline with ${amount} amount`,\n                trigger: `.paymentlines .paymentline .payment-infos:contains(\"${name}\"):has(.payment-amount:contains(\"${amount}\")) ~ .delete-button`,\n            },\n        ];\n    }\n\n    /**\n     * Click the paymentline having the given payment method name and amount.\n     * @param {String} name payment method\n     * @param {String} amount\n     */\n    clickPaymentline(name, amount) {\n        return [\n            {\n                content: `click ${name} paymentline with ${amount} amount`,\n                trigger: `.paymentlines .paymentline .payment-infos:contains(\"${name}\"):has(.payment-amount:contains(\"${amount}\"))`,\n            },\n        ];\n    }\n\n    clickEmailButton() {\n        return [\n            {\n                content: `click email button`,\n                trigger: `.payment-buttons .js_email`,\n            },\n        ];\n    }\n\n    clickInvoiceButton() {\n        return [{ content: \"click invoice button\", trigger: \".payment-buttons .js_invoice\" }];\n    }\n\n    clickValidate() {\n        return [\n            {\n                content: \"validate payment\",\n                trigger: `.payment-screen .button.next.highlight`,\n                mobile: false,\n            },\n            {\n                content: \"validate payment\",\n                trigger: `.payment-screen .btn-switchpane:contains('Validate')`,\n                mobile: true,\n            },\n        ];\n    }\n\n    /**\n     * Press the numpad in sequence based on the given space-separated keys.\n     * Note: Maximum of 2 characters because NumberBuffer only allows 2 consecutive\n     * fast inputs. Fast inputs is the case in tours. This method is only for the\n     * desktop environment. The mobile environment doesn't work exactly the same way\n     * so we have to call fillPaymentLineAmountMobile to have the same behaviour.\n     *\n     * e.g. :\n     *  PaymentScreen.do.enterPaymentLineAmount(\"Cash\", \"70\");\n     *  PaymentScreen.check.remainingIs(\"2.0\");\n     *  PaymentScreen.do.pressNumpad(\"0\"); <- desktop: add a 0\n     *  PaymentScreen.do.fillPaymentLineAmountMobile(\"Cash\", \"700\"); <- mobile: rewrite the amount\n     *  PaymentScreen.check.remainingIs(\"0.00\");\n     *  PaymentScreen.check.changeIs(\"628.0\");\n     *\n     * @param {String} keys space-separated numpad keys\n     */\n    pressNumpad(keys) {\n        const numberChars = \". +/- 0 1 2 3 4 5 6 7 8 9\".split(\" \");\n        const modeButtons = \"+10 +20 +50\".split(\" \");\n        function generateStep(key) {\n            let trigger;\n            if (numberChars.includes(key)) {\n                trigger = `.payment-numpad .number-char:contains(\"${key}\")`;\n            } else if (modeButtons.includes(key)) {\n                trigger = `.payment-numpad .mode-button:contains(\"${key}\")`;\n            } else if (key === \"Backspace\") {\n                trigger = `.payment-numpad .number-char img[alt=\"Backspace\"]`;\n            }\n            return {\n                content: `'${key}' pressed in payment numpad`,\n                trigger,\n                mobile: false,\n            };\n        }\n        return keys.split(\" \").map(generateStep);\n    }\n\n    clickBack() {\n        return [\n            {\n                content: \"click back button\",\n                trigger: \".payment-screen .button.back\",\n            },\n        ];\n    }\n\n    clickTipButton() {\n        return [\n            {\n                trigger: \".payment-screen .button.js_tip\",\n            },\n        ];\n    }\n\n    enterPaymentLineAmount(lineName, keys) {\n        const numpadKeys = keys.split(\"\").join(\" \");\n        return [\n            ...this.pressNumpad(numpadKeys),\n            ...this.fillPaymentLineAmountMobile(lineName, keys),\n        ];\n    }\n\n    fillPaymentLineAmountMobile(lineName, keys) {\n        return [\n            {\n                content: \"click payment line\",\n                trigger: `.paymentlines .paymentline .payment-infos:contains(\"${lineName}\")`,\n                mobile: true,\n            },\n            {\n                content: `'${keys}' inputed in the number popup`,\n                trigger: \".popup .payment-input-number\",\n                run: `text ${keys}`,\n                mobile: true,\n            },\n            {\n                content: \"click confirm button\",\n                trigger: \".popup .footer .confirm\",\n                mobile: true,\n            },\n        ];\n    }\n}\n\nclass Check {\n    isShown() {\n        return [\n            {\n                content: \"payment screen is shown\",\n                trigger: \".pos .payment-screen\",\n                run: () => {},\n            },\n        ];\n    }\n    /**\n     * Check if change is the provided amount.\n     * @param {String} amount\n     */\n    changeIs(amount) {\n        return [\n            {\n                content: `change is ${amount}`,\n                trigger: `.payment-status-change .amount:contains(\"${amount}\")`,\n                run: () => {},\n            },\n        ];\n    }\n\n    /**\n     * Check if the remaining is the provided amount.\n     * @param {String} amount\n     */\n    remainingIs(amount) {\n        return [\n            {\n                content: `remaining amount is ${amount}`,\n                trigger: `.payment-status-remaining .amount:contains(\"${amount}\")`,\n                run: () => {},\n            },\n        ];\n    }\n\n    /**\n     * Check if validate button is highlighted.\n     * @param {Boolean} isHighlighted\n     */\n    validateButtonIsHighlighted(isHighlighted = true) {\n        return [\n            {\n                content: `validate button is ${isHighlighted ? \"highlighted\" : \"not highligted\"}`,\n                trigger: isHighlighted\n                    ? `.payment-screen .button.next.highlight`\n                    : `.payment-screen .button.next:not(:has(.highlight))`,\n                run: () => {},\n                mobile: false,\n            },\n            {\n                content: `validate button is ${isHighlighted ? \"highlighted\" : \"not highligted\"}`,\n                trigger: isHighlighted\n                    ? `.payment-screen .btn-switchpane:not(.secondary):contains('Validate')`\n                    : `.payment-screen .btn-switchpane.secondary:contains('Validate')`,\n                run: () => {},\n                mobile: true,\n            },\n        ];\n    }\n\n    /**\n     * Check if the paymentlines are empty. Also provide the amount to pay.\n     * @param {String} amountToPay\n     */\n    emptyPaymentlines(amountToPay) {\n        return [\n            {\n                content: `there are no paymentlines`,\n                trigger: `.paymentlines-empty`,\n                run: () => {},\n            },\n            {\n                content: `amount to pay is '${amountToPay}'`,\n                trigger: `.paymentlines-empty .total:contains(\"${amountToPay}\")`,\n                run: () => {},\n            },\n        ];\n    }\n\n    /**\n     * Check if the selected paymentline has the given payment method and amount.\n     * @param {String} paymentMethodName\n     * @param {String} amount\n     */\n    selectedPaymentlineHas(paymentMethodName, amount) {\n        return [\n            {\n                content: `line paid via '${paymentMethodName}' is selected`,\n                trigger: `.paymentlines .paymentline.selected .payment-name:contains(\"${paymentMethodName}\")`,\n                run: () => {},\n            },\n            {\n                content: `amount tendered in the line is '${amount}'`,\n                trigger: `.paymentlines .paymentline.selected .payment-amount:contains(\"${amount}\")`,\n                run: () => {},\n            },\n        ];\n    }\n    totalIs(amount) {\n        return [\n            {\n                content: `total is ${amount}`,\n                trigger: `.total:contains(\"${amount}\")`,\n                run: () => {},\n            },\n        ];\n    }\n    totalDueIs(amount) {\n        return [\n            {\n                content: `total due is ${amount}`,\n                trigger: `.payment-status-total-due:contains(\"${amount}\")`,\n                run: () => {},\n            },\n        ];\n    }\n}\n\nclass Execute {\n    pay(method, amount) {\n        const steps = [];\n        steps.push(...this._do.clickPaymentMethod(method));\n        for (const char of amount.split(\"\")) {\n            steps.push(...this._do.pressNumpad(char));\n        }\n        steps.push(...this._check.validateButtonIsHighlighted());\n        steps.push(...this._do.clickValidate());\n        return steps;\n    }\n}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"PaymentScreen\", Do, Check, Execute));\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\n\nclass Do {\n    pickRadio(name) {\n        return [\n            {\n                content: `picking radio attribute with name ${name}`,\n                trigger: `.product-configurator-popup .attribute-name-cell label[name='${name}']`,\n            },\n        ];\n    }\n\n    pickSelect(name) {\n        return [\n            {\n                content: `picking select attribute with name ${name}`,\n                trigger: `.product-configurator-popup .configurator_select:has(option:contains('${name}'))`,\n                run: `text ${name}`,\n            },\n        ];\n    }\n\n    pickColor(name) {\n        return [\n            {\n                content: `picking color attribute with name ${name}`,\n                trigger: `.product-configurator-popup .configurator_color[data-color='${name}']`,\n            },\n        ];\n    }\n\n    fillCustomAttribute(value) {\n        return [\n            {\n                content: `filling custom attribute with value ${value}`,\n                trigger: `.product-configurator-popup .custom_value`,\n                run: `text ${value}`,\n            },\n        ];\n    }\n\n    confirmAttributes() {\n        return [\n            {\n                content: `confirming product configuration`,\n                trigger: `.product-configurator-popup .button.confirm`,\n            },\n        ];\n    }\n\n    cancelAttributes() {\n        return [\n            {\n                content: `canceling product configuration`,\n                trigger: `.product-configurator-popup .button.cancel`,\n            },\n        ];\n    }\n}\n\nclass Check {\n    isShown() {\n        return [\n            {\n                content: \"product configurator is shown\",\n                trigger: \".product-configurator-popup:not(:has(.oe_hidden))\",\n                run: () => {},\n            },\n        ];\n    }\n}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"ProductConfigurator\", Do, Check));\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { TextAreaPopup } from \"@point_of_sale/../tests/tours/helpers/TextAreaPopupTourMethods\";\n\nclass Do {\n    clickDisplayedProduct(name) {\n        return [\n            {\n                content: `click product '${name}'`,\n                trigger: `.product-list .product-name:contains(\"${name}\")`,\n            },\n        ];\n    }\n\n    clickOrderline(name, quantity) {\n        return [\n            {\n                content: \"click review button\",\n                trigger: \".btn-switchpane:contains('Review')\",\n                mobile: true,\n            },\n            {\n                content: `selecting orderline with product '${name}' and quantity '${quantity}'`,\n                trigger: `.order .orderline:not(:has(.selected)) .product-name:contains(\"${name}\") ~ .info-list em:contains(\"${quantity}\")`,\n            },\n            {\n                content: `orderline with product '${name}' and quantity '${quantity}' has been selected`,\n                trigger: `.order .orderline.selected .product-name:contains(\"${name}\") ~ .info-list em:contains(\"${quantity}\")`,\n                run: () => {},\n            },\n            {\n                content: \"go back to the products\",\n                trigger: \".pos-rightheader .floor-button\",\n                mobile: true,\n            },\n        ];\n    }\n\n    clickSubcategory(name) {\n        return [\n            {\n                content: `selecting '${name}' subcategory`,\n                trigger: `.products-widget > .products-widget-control .category-simple-button:contains(\"${name}\")`,\n            },\n            {\n                content: `'${name}' subcategory selected`,\n                trigger: `.breadcrumbs .breadcrumb-button:contains(\"${name}\")`,\n                run: () => {},\n            },\n        ];\n    }\n\n    clickHomeCategory() {\n        return [\n            {\n                content: `click Home subcategory`,\n                trigger: `.breadcrumbs .breadcrumb-home`,\n            },\n        ];\n    }\n\n    /**\n     * Press the numpad in sequence based on the given space-separated keys.\n     * NOTE: Maximum of 2 characters because NumberBuffer only allows 2 consecutive\n     * fast inputs. Fast inputs is the case in tours.\n     *\n     * @param {String} keys space-separated numpad keys\n     */\n    pressNumpad(keys) {\n        const numberChars = \". 0 1 2 3 4 5 6 7 8 9\".split(\" \");\n        const modeButtons = \"Qty Price Disc\".split(\" \");\n        function generateStep(key) {\n            let trigger;\n            if (numberChars.includes(key)) {\n                trigger = `.numpad .number-char:contains(\"${key}\")`;\n            } else if (modeButtons.includes(key)) {\n                trigger = `.numpad .mode-button:contains(\"${key}\")`;\n            } else if (key === \"Backspace\") {\n                trigger = `.numpad .numpad-backspace`;\n            } else if (key === \"+/-\") {\n                trigger = `.numpad .numpad-minus`;\n            }\n            return {\n                content: `'${key}' pressed in product screen numpad`,\n                trigger,\n            };\n        }\n        return [\n            {\n                content: \"click review button\",\n                trigger: \".btn-switchpane:contains('Review')\",\n                mobile: true,\n            },\n            ...keys.split(\" \").map(generateStep),\n            {\n                content: \"go back to the products\",\n                trigger: \".pos-rightheader .floor-button\",\n                mobile: true,\n            },\n        ];\n    }\n\n    clickPayButton(shouldCheck = true) {\n        const steps = [\n            {\n                content: \"click pay button\",\n                trigger: \".product-screen .pay-order-button\",\n                mobile: false,\n            },\n            {\n                content: \"click pay button\",\n                trigger: \".btn-switchpane:contains('Pay')\",\n                mobile: true,\n            },\n        ];\n        if (shouldCheck) {\n            steps.push({\n                content: \"now in payment screen\",\n                trigger: \".pos-content .payment-screen\",\n                run: () => {},\n            });\n        }\n        return steps;\n    }\n\n    clickPartnerButton() {\n        return [\n            {\n                content: \"click review button\",\n                trigger: \".btn-switchpane:contains('Review')\",\n                mobile: true,\n            },\n            {\n                content: \"click customer button\",\n                trigger: \".product-screen .set-partner\",\n            },\n            {\n                content: \"partner screen is shown\",\n                trigger: \".pos-content .partnerlist-screen\",\n                run: () => {},\n            },\n        ];\n    }\n\n    clickCustomer(name) {\n        return [\n            {\n                content: `select customer '${name}'`,\n                trigger: `.partnerlist-screen .partner-line td:contains(\"${name}\")`,\n            },\n            {\n                content: \"go back to the products\",\n                trigger: \".pos-rightheader .floor-button\",\n                mobile: true,\n            },\n        ];\n    }\n\n    clickOrderlineCustomerNoteButton() {\n        return [\n            {\n                content: \"click review button\",\n                trigger: \".btn-switchpane:contains('Review')\",\n                mobile: true,\n            },\n            {\n                content: \"click more button\",\n                trigger: \".mobile-more-button\",\n                mobile: true,\n            },\n            {\n                content: \"click customer note button\",\n                trigger: '.control-buttons .control-button span:contains(\"Customer Note\")',\n            },\n        ];\n    }\n    clickRefund() {\n        return [\n            {\n                content: \"click review button\",\n                trigger: \".btn-switchpane:contains('Review')\",\n                mobile: true,\n            },\n            {\n                content: \"click more button\",\n                trigger: \".mobile-more-button\",\n                mobile: true,\n            },\n            {\n                trigger: '.control-button:contains(\"Refund\")',\n            },\n        ];\n    }\n    confirmOpeningPopup() {\n        return [{ trigger: '.opening-cash-control .button:contains(\"Open session\")' }];\n    }\n    selectPriceList(name) {\n        return [\n            {\n                content: \"click review button\",\n                trigger: \".btn-switchpane:contains('Review')\",\n                mobile: true,\n            },\n            {\n                content: \"click more button\",\n                trigger: \".mobile-more-button\",\n                mobile: true,\n            },\n            { trigger: \".o_pricelist_button\" },\n            {\n                content: `select price list '${name}'`,\n                trigger: `.selection-item:contains(\"${name}\")`,\n            },\n            {\n                content: \"go back to the products\",\n                trigger: \".pos-rightheader .floor-button\",\n                mobile: true,\n            },\n        ];\n    }\n    enterOpeningAmount(amount) {\n        return [\n            {\n                content: \"enter opening amount\",\n                trigger: \".cash-input-sub-section > .pos-input\",\n                run: \"text \" + amount,\n            },\n        ];\n    }\n    changeFiscalPosition(name) {\n        return [\n            {\n                content: \"click review button\",\n                trigger: \".btn-switchpane:contains('Review')\",\n                mobile: true,\n            },\n            {\n                content: \"click more button\",\n                trigger: \".mobile-more-button\",\n                mobile: true,\n            },\n            {\n                content: \"click fiscal position button\",\n                trigger: \".o_fiscal_position_button\",\n            },\n            {\n                content: \"fiscal position screen is shown\",\n                trigger: `.selection-item:contains(\"${name}\")`,\n            },\n            {\n                content: \"go back to the products\",\n                trigger: \".pos-rightheader .floor-button\",\n                mobile: true,\n            },\n        ];\n    }\n    clickCloseButton() {\n        return [\n            {\n                trigger: \".close-button\",\n            },\n        ];\n    }\n    closeWithCashAmount(val) {\n        return [\n            {\n                trigger: \".pos-input\",\n                run: `text ${val}`,\n            },\n        ];\n    }\n    clickCloseSession() {\n        return [\n            {\n                trigger: \"footer .button:contains('Close Session')\",\n            },\n        ];\n    }\n    scan_barcode(barcode) {\n        return [\n            {\n                content: `PoS model scan barcode '${barcode}'`,\n                trigger: '.pos', // The element here does not really matter as long as it is present\n                run: () => { window.posmodel.env.services.barcode_reader.scan(barcode); },\n            },\n        ];\n    }\n    scan_ean13_barcode(barcode) {\n        return [\n            {\n                content: `PoS model scan EAN13 barcode '${barcode}'`,\n                trigger: '.pos', // The element here does not really matter as long as it is present\n                run: () => {\n                    const barcode_reader = window.posmodel.env.services.barcode_reader;\n                    barcode_reader.scan(\n                        barcode_reader.parser.sanitize_ean(barcode)\n                    );\n                },\n            },\n        ];\n    }\n    goBackToMainScreen() {\n        return [\n            {\n                content: \"go back to the products\",\n                trigger: \".pos-rightheader .floor-button\",\n                mobile: true,\n            },\n        ]\n    }\n}\n\nclass Check {\n    isShown() {\n        return [\n            {\n                content: \"product screen is shown\",\n                trigger: \".product-screen\",\n                run: () => {},\n            },\n        ];\n    }\n    selectedOrderlineHas(name, quantity, price) {\n        const res = [\n            {\n                content: \"click review button\",\n                trigger: \".btn-switchpane:contains('Review')\",\n                mobile: true,\n            },\n            {\n                // check first if the order widget is there and has orderlines\n                content: \"order widget has orderlines\",\n                trigger: \".order .orderlines\",\n                run: () => {},\n            },\n            {\n                content: `'${name}' is selected`,\n                trigger: `.order .orderline.selected .product-name:contains(\"${name}\")`,\n                run: function () {}, // it's a check\n            },\n        ];\n        if (quantity) {\n            res.push({\n                content: `selected line has ${quantity} quantity`,\n                trigger: `.order .orderline.selected .product-name:contains(\"${name}\") ~ .info-list em:contains(\"${quantity}\")`,\n                run: function () {}, // it's a check\n            });\n        }\n        if (price) {\n            res.push({\n                content: `selected line has total price of ${price}`,\n                trigger: `.order .orderline.selected .product-name:contains(\"${name}\") ~ .price:contains(\"${price}\")`,\n                run: function () {}, // it's a check\n            });\n        }\n        res.push({\n            content: \"go back to the products\",\n            trigger: \".pos-rightheader .floor-button\",\n            mobile: true,\n        });\n        return res;\n    }\n    orderIsEmpty() {\n        return [\n            {\n                content: \"click review button\",\n                trigger: \".btn-switchpane:contains('Review')\",\n                mobile: true,\n            },\n            {\n                content: `order is empty`,\n                trigger: `.order .order-empty`,\n                run: () => {},\n            },\n            {\n                content: \"go back to the products\",\n                trigger: \".pos-rightheader .floor-button\",\n                mobile: true,\n            },\n        ];\n    }\n\n    productIsDisplayed(name) {\n        return [\n            {\n                content: `'${name}' should be displayed`,\n                trigger: `.product-list .product-name:contains(\"${name}\")`,\n                run: () => {},\n            },\n        ];\n    }\n    totalAmountIs(amount) {\n        return [\n            {\n                content: \"click review button\",\n                trigger: \".btn-switchpane:contains('Review')\",\n                mobile: true,\n            },\n            {\n                content: `order total amount is '${amount}'`,\n                trigger: `.order-container .order .summary .value:contains(\"${amount}\")`,\n                run: () => {},\n            },\n            {\n                content: \"go back to the products\",\n                trigger: \".pos-rightheader .floor-button\",\n                mobile: true,\n            },\n        ];\n    }\n    modeIsActive(mode) {\n        return [\n            {\n                content: \"click review button\",\n                trigger: \".btn-switchpane:contains('Review')\",\n                mobile: true,\n            },\n            {\n                content: `'${mode}' is active`,\n                trigger: `.numpad button.selected-mode:contains('${mode}')`,\n                run: function () {},\n            },\n            {\n                content: \"go back to the products\",\n                trigger: \".pos-rightheader .floor-button\",\n                mobile: true,\n            },\n        ];\n    }\n    orderlineHasCustomerNote(name, quantity, note) {\n        return [\n            {\n                content: `line has ${quantity} quantity`,\n                trigger: `.order .orderline .product-name:contains(\"${name}\") ~ .info-list em:contains(\"${quantity}\")`,\n                run: function () {}, // it's a check\n            },\n            {\n                content: `line has '${note}' as customer note`,\n                trigger: `.order .orderline .info-list .orderline-note:contains(\"${note}\")`,\n                run: function () {}, // it's a check\n            },\n        ];\n    }\n    checkSecondCashClosingDetailsLineAmount(amount, sign) {\n        return [\n            {\n                content: \"Open menu\",\n                trigger: \".menu-button\",\n            },\n            {\n                content: \"Click close session button\",\n                trigger: \".close-button\",\n            },\n            {\n                content: \"Check closing details\",\n                trigger: `.cash-overview tr:nth-child(2) td:contains(\"${amount}\")`,\n                run: () => {}, // it's a check\n            },\n            {\n                content: \"Check closing details\",\n                trigger: `.cash-overview tr:nth-child(2) .cash-sign:contains(\"${sign}\")`,\n                run: () => {}, // it's a check\n            },\n        ];\n    }\n    noDiscountApplied(originalPrice) {\n        return [\n            {\n                content: \"click review button\",\n                trigger: \".btn-switchpane:contains('Review')\",\n                mobile: true,\n            },\n            {\n                content: \"no discount is applied\",\n                trigger: `.info:not(:contains(${originalPrice}))`,\n            },\n            {\n                content: \"go back to the products\",\n                trigger: \".pos-rightheader .floor-button\",\n                mobile: true,\n            },\n        ];\n    }\n    discountOriginalPriceIs(original_price) {\n        return [\n            {\n                content: \"click review button\",\n                trigger: \".btn-switchpane:contains('Review')\",\n                mobile: true,\n            },\n            {\n                content: `discount original price is shown`,\n                trigger: `s:contains('${original_price}')`,\n                run: function () {},\n            },\n            {\n                content: \"go back to the products\",\n                trigger: \".pos-rightheader .floor-button\",\n                mobile: true,\n            },\n        ];\n    }\n    cashDifferenceIs(val) {\n        return [\n            {\n                trigger: `.payment-methods-overview tr td:nth-child(4):contains(${val})`,\n                isCheck: true,\n            },\n        ];\n    }\n    // Temporarily put it here. It should be in the utility methods for the backend views.\n    lastClosingCashIs(val) {\n        return [\n            {\n                trigger: `[name=last_session_closing_cash]:contains(${val})`,\n                isCheck: true,\n            },\n        ];\n    }\n}\n\nclass Execute {\n    /**\n     * Create an orderline for the given `productName` and `quantity`.\n     * - If `unitPrice` is provided, price of the product of the created line\n     *   is changed to that value.\n     * - If `expectedTotal` is provided, the created orderline (which is the currently\n     *   selected orderline) is checked if it contains the correct quantity and total\n     *   price.\n     *\n     * @param {string} productName\n     * @param {string} quantity\n     * @param {string} unitPrice\n     * @param {string} expectedTotal\n     */\n    addOrderline(productName, quantity, unitPrice = undefined, expectedTotal = undefined) {\n        const res = this._do.clickDisplayedProduct(productName);\n        res.push(...this._check.selectedOrderlineHas(productName, \"1.00\"));\n        if (unitPrice) {\n            res.push(...this._do.pressNumpad(\"Price\"));\n            res.push(...this._check.modeIsActive(\"Price\"));\n            res.push(...this._do.pressNumpad(unitPrice.toString().split(\"\").join(\" \")));\n            res.push(...this._do.pressNumpad(\"Qty\"));\n            res.push(...this._check.modeIsActive(\"Qty\"));\n        }\n        for (const char of quantity.toString() == \"1\" ? \"\" : quantity.toString()) {\n            if (\".0123456789\".includes(char)) {\n                res.push(...this._do.pressNumpad(char));\n            } else if (\"-\".includes(char)) {\n                res.push(...this._do.pressNumpad(\"+/-\"));\n            }\n        }\n        if (expectedTotal) {\n            res.push(...this._check.selectedOrderlineHas(productName, quantity, expectedTotal));\n        } else {\n            res.push(...this._check.selectedOrderlineHas(productName, quantity));\n        }\n        return res;\n    }\n    addMultiOrderlines(...list) {\n        const steps = [];\n        for (const [product, qty, price] of list) {\n            steps.push(...this.addOrderline(product, qty, price));\n        }\n        return steps;\n    }\n    addCustomerNote(note) {\n        const res = [];\n        res.push(...this._do.clickOrderlineCustomerNoteButton());\n        res.push(...TextAreaPopup._do.inputText(note));\n        res.push(...TextAreaPopup._do.clickConfirm());\n        res.push({\n            content: \"go back to the products\",\n            trigger: \".pos-rightheader .floor-button\",\n            mobile: true,\n        });\n        return res;\n    }\n}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"ProductScreen\", Do, Check, Execute));\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\n\nclass Do {\n    clickNextOrder() {\n        return [\n            {\n                content: \"go to next screen\",\n                trigger: \".receipt-screen .button.next.highlight[name='done']\",\n                mobile: false,\n            },\n            {\n                content: \"go to next screen\",\n                trigger: \".receipt-screen .btn-switchpane.validation-button.highlight[name='done']\",\n                mobile: true,\n            },\n        ];\n    }\n    clickContinueOrder() {\n        return [\n            {\n                content: \"go to next screen\",\n                trigger: \".receipt-screen .button.next.highlight[name='resume']\",\n            },\n        ];\n    }\n    setEmail(email) {\n        return [\n            {\n                trigger: \".receipt-screen .input-email input\",\n                run: `text ${email}`,\n            },\n        ];\n    }\n    clickSend(isHighlighted = true) {\n        return [\n            {\n                trigger: `.receipt-screen .input-email .send${isHighlighted ? \".highlight\" : \"\"}`,\n            },\n        ];\n    }\n    clickBack() {\n        return [\n            {\n                trigger: \".receipt-screen .button.back\",\n            },\n        ];\n    }\n}\n\nclass Check {\n    isShown() {\n        return [\n            {\n                content: \"receipt screen is shown\",\n                trigger: \".pos .receipt-screen\",\n                run: () => {},\n            },\n        ];\n    }\n\n    receiptIsThere() {\n        return [\n            {\n                content: \"there should be the receipt\",\n                trigger: \".receipt-screen .pos-receipt\",\n                run: () => {},\n            },\n        ];\n    }\n\n    totalAmountContains(value) {\n        return [\n            {\n                trigger: `.receipt-screen .top-content h1:contains(\"${value}\")`,\n                run: () => {},\n                mobile: false, // not rendered on mobile\n            },\n            {\n                trigger: `.receipt-screen`,\n                run: () => {},\n                mobile: true, // On mobile, at least wait for the receipt screen to show\n            },\n        ];\n    }\n\n    emailIsSuccessful() {\n        return [\n            {\n                trigger: `.receipt-screen .notice .successful`,\n                run: () => {},\n            },\n        ];\n    }\n\n    customerNoteIsThere(note) {\n        return [\n            {\n                trigger: `.receipt-screen .orderlines .pos-receipt-left-padding:contains(\"${note}\")`,\n            },\n        ];\n    }\n\n    discountAmountIs(value) {\n        return [\n            {\n                trigger: `.pos-receipt>div:contains(\"Discounts\")>span:contains(\"${value}\")`,\n                run: () => {},\n            },\n        ];\n    }\n\n    noOrderlineContainsDiscount() {\n        return [\n            {\n                trigger: `.orderlines:not(:contains('->'))`,\n                run: () => {},\n            },\n        ];\n    }\n}\n\nclass Execute {\n    nextOrder() {\n        return [...this._check.isShown(), ...this._do.clickNextOrder()];\n    }\n}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"ReceiptScreen\", Do, Check, Execute));\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\n\nclass Do {\n    clickItem(name) {\n        return [\n            {\n                content: `click selection '${name}'`,\n                trigger: `.selection-item:contains(\"${name}\")`,\n            },\n        ];\n    }\n}\n\nclass Check {\n    hasSelectionItem(name) {\n        return [\n            {\n                content: `selection popup has '${name}'`,\n                trigger: `.selection-item:contains(\"${name}\")`,\n                run: () => {},\n            },\n        ];\n    }\n    isShown() {\n        return [\n            {\n                content: \"selection popup is shown\",\n                trigger: \".modal-dialog .popup-selection\",\n                run: () => {},\n            },\n        ];\n    }\n}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"SelectionPopup\", Do, Check));\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\n\nclass Do {\n    inputText(val) {\n        return [\n            {\n                content: `input text '${val}'`,\n                trigger: `.modal-dialog .popup-textarea textarea`,\n                run: `text ${val}`,\n            },\n        ];\n    }\n    clickConfirm() {\n        return [\n            {\n                content: \"confirm text input popup\",\n                trigger: \".modal-dialog .confirm\",\n            },\n        ];\n    }\n}\n\nclass Check {\n    isShown() {\n        return [\n            {\n                content: \"text input popup is shown\",\n                trigger: \".modal-dialog .popup-textarea\",\n                run: () => {},\n            },\n        ];\n    }\n}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"TextAreaPopup\", Do, Check));\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\n\nclass Do {\n    inputText(val) {\n        return [\n            {\n                content: `input text '${val}'`,\n                trigger: `.modal-dialog .popup-textinput input`,\n                run: `text ${val}`,\n            },\n        ];\n    }\n    clickConfirm() {\n        return [\n            {\n                content: \"confirm text input popup\",\n                trigger: \".modal-dialog .confirm\",\n            },\n        ];\n    }\n}\n\nclass Check {\n    isShown() {\n        return [\n            {\n                content: \"text input popup is shown\",\n                trigger: \".modal-dialog .popup-textinput\",\n                run: () => {},\n            },\n        ];\n    }\n}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"TextInputPopup\", Do, Check));\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\n\nclass Do {\n    clickNewTicket() {\n        return [{ trigger: \".ticket-screen .highlight\" }];\n    }\n    clickDiscard() {\n        return [{ trigger: \".ticket-screen button.discard\" }];\n    }\n    selectOrder(orderName) {\n        return [\n            {\n                trigger: `.ticket-screen .order-row > .col:nth-child(2):contains(\"${orderName}\")`,\n            },\n        ];\n    }\n    deleteOrder(orderName) {\n        return [\n            {\n                trigger: `.ticket-screen .orders > .order-row > .col:contains(\"${orderName}\") ~ .col[name=\"delete\"]`,\n            },\n        ];\n    }\n    selectFilter(name) {\n        return [\n            {\n                content: \"open search bar\",\n                trigger: \"button.search\",\n                mobile: true,\n            },\n            {\n                trigger: `.pos-search-bar .filter`,\n            },\n            {\n                trigger: `.pos-search-bar .filter ul`,\n                run: () => {},\n            },\n            {\n                trigger: `.pos-search-bar .filter ul li:contains(\"${name}\")`,\n            },\n            {\n                content: \"close search bar\",\n                trigger: \"button.arrow-left\",\n                mobile: true,\n            },\n        ];\n    }\n    search(field, searchWord) {\n        return [\n            {\n                content: \"open search bar\",\n                trigger: \"button.search\",\n                mobile: true,\n            },\n            {\n                trigger: \".pos-search-bar input\",\n                run: `text ${searchWord}`,\n            },\n            {\n                /**\n                 * Manually trigger keyup event to show the search field list\n                 * because the previous step do not trigger keyup event.\n                 */\n                trigger: \".pos-search-bar input\",\n                run: function () {\n                    document\n                        .querySelector(\".pos-search-bar input\")\n                        .dispatchEvent(new KeyboardEvent(\"keyup\", { key: \"\" }));\n                },\n            },\n            {\n                trigger: `.pos-search-bar .search ul li:contains(\"${field}\")`,\n            },\n            {\n                content: \"close search bar\",\n                trigger: \"button.arrow-left\",\n                mobile: true,\n            },\n        ];\n    }\n    settleTips() {\n        return [\n            {\n                trigger: \".ticket-screen .buttons .settle-tips\",\n            },\n        ];\n    }\n    clickControlButton(name) {\n        return [\n            {\n                trigger: `.ticket-screen .control-button:contains(\"${name}\")`,\n            },\n        ];\n    }\n    clickOrderline(name) {\n        return [\n            {\n                trigger: `.ticket-screen .orderline:not(:has(.selected)) .product-name:contains(\"${name}\")`,\n            },\n            {\n                trigger: `.ticket-screen .orderline.selected .product-name:contains(\"${name}\")`,\n                run: () => {},\n            },\n        ];\n    }\n    pressNumpad(key) {\n        let trigger;\n        if (\".0123456789\".includes(key)) {\n            trigger = `.numpad .number-char:contains(\"${key}\")`;\n        } else if (key === \"Backspace\") {\n            trigger = `.numpad .numpad-backspace`;\n        } else if (key === \"+/-\") {\n            trigger = `.numpad .numpad-minus`;\n        }\n        return [\n            {\n                trigger,\n            },\n        ];\n    }\n    confirmRefund() {\n        return [\n            {\n                trigger: \".ticket-screen .button.pay-order-button\",\n            },\n        ];\n    }\n}\n\nclass Check {\n    checkStatus(orderName, status) {\n        return [\n            {\n                trigger: `.ticket-screen .order-row > .col:nth-child(2):contains(\"${orderName}\") ~ .col:nth-child(6):contains(${status})`,\n                run: () => {},\n                mobile: false,\n            },\n            {\n                trigger: `.ticket-screen .order-row .col:nth-child(2) div:contains(\"${orderName}\") ~ div:contains(${status})`,\n                run: () => {},\n                mobile: true,\n            },\n        ];\n    }\n    /**\n     * Check if the nth row contains the given string.\n     * Note that 1st row is the header-row.\n     */\n    nthRowContains(n, string) {\n        return [\n            {\n                trigger: `.ticket-screen .orders > .order-row:nth-child(${n}):contains(\"${string}\")`,\n                run: () => {},\n            },\n        ];\n    }\n    contains(string) {\n        return [\n            {\n                trigger: `.ticket-screen .orders:contains(\"${string}\")`,\n                run: () => {},\n            },\n        ];\n    }\n    noNewTicketButton() {\n        return [\n            {\n                trigger: \".ticket-screen .controls .buttons:nth-child(1):has(.discard)\",\n                run: () => {},\n            },\n        ];\n    }\n    orderWidgetIsNotEmpty() {\n        return [\n            {\n                trigger: \".ticket-screen:not(:has(.order-empty))\",\n                run: () => {},\n            },\n        ];\n    }\n    filterIs(name) {\n        return [\n            {\n                content: \"open search bar\",\n                trigger: \"button.search\",\n                mobile: true,\n            },\n            {\n                trigger: `.ticket-screen .pos-search-bar .filter span:contains(\"${name}\")`,\n                run: () => {},\n            },\n            {\n                content: \"close search bar\",\n                trigger: \"button.arrow-left\",\n                mobile: true,\n            },\n        ];\n    }\n    partnerIs(name) {\n        return [\n            {\n                trigger: `.ticket-screen .set-partner:contains(\"${name}\")`,\n                run: () => {},\n            },\n        ];\n    }\n    toRefundTextContains(text) {\n        return [\n            {\n                trigger: `.ticket-screen .to-refund-highlight:contains(\"${text}\")`,\n                run: () => {},\n            },\n        ];\n    }\n    refundedNoteContains(text) {\n        return [\n            {\n                trigger: `.ticket-screen .refund-note:contains(\"${text}\")`,\n                run: () => {},\n            },\n        ];\n    }\n    tipContains(amount) {\n        return [\n            {\n                trigger: `.ticket-screen .tip-cell:contains(\"${amount}\")`,\n                run: () => {},\n            },\n        ];\n    }\n}\n\nclass Execute {}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"TicketScreen\", Do, Check, Execute));\n", "/** @odoo-module */\n\n/**\n * USAGE\n * -----\n *\n * ```\n * import const { startSteps, getSteps, createTourMethods } from \"@point_of_sale/utils\";\n * import const { Other } from \"@point_of_sale/../tests/OtherMethods\";\n *\n * // 1. Define classes Do, Check and Execute having methods that\n * //    each return array of tour steps.\n * class Do {\n *   click() {\n *      return [{ content: 'click button', trigger: '.button' }];\n *   }\n * }\n * class Check {\n *   isHighligted() {\n *      return [{ content: 'button is highlighted', trigger: '.button.highlight', run: () => {} }];\n *   }\n * }\n * // Notice that Execute has access to methods defined in Do and Check classes\n * // Also, we can compose steps from other module.\n * class Execute {\n *   complexSteps() {\n *      return [...this._do.click(), ...this._check.isHighlighted(), ...Other._exec.complicatedSteps()];\n *   }\n * }\n *\n * // 2. Instantiate these class definitions using `createTourMethods`.\n * //    The returned object gives access to the defined methods above\n * //    thru the do, check and exec properties.\n * //    - do gives access to the methods defined in Do class\n * //    - check gives access to the methods defined in Check class\n * //    - exec gives access to the methods defined in Execute class\n * const Screen = createTourMethods('Screen', Do, Check, Execute);\n *\n * // 3. Call `startSteps` to start empty steps.\n * startSteps();\n *\n * // 4. Call the tour methods to populate the steps created by `startSteps`.\n * Screen.do.click();               // return of this method call is added to steps created by startSteps\n * Screen.check.isHighlighted()     // same as above\n * Screen.exec.complexSteps()     // same as above\n *\n * // 5. Call `getSteps` which returns the generated tour steps.\n * const steps = getSteps();\n * ```\n */\nlet steps = [];\n\nexport function startSteps() {\n    // always start by waiting for loading to finish\n    steps = [\n        {\n            content: \"wait for loading to finish\",\n            trigger: \"body:not(:has(.loader))\",\n            run: function () {},\n        },\n    ];\n}\n\nexport function getSteps() {\n    return steps;\n}\n\n// this is the method decorator\n// when the method is called, the generated steps are added\n// to steps\nconst methodProxyHandler = {\n    apply(target, thisArg, args) {\n        const res = target.call(thisArg, ...args);\n        if (odoo.debug) {\n            // This step is added before the real steps.\n            // Very useful when debugging because we know which\n            // method call failed and what were the parameters.\n            const constructor = thisArg.constructor.name.split(\" \")[1];\n            const methodName = target.name.split(\" \")[1];\n            const argList = args.map((a) => (typeof a === \"string\" ? `'${a}'` : `${a}`)).join(\", \");\n            steps.push({\n                content: `DOING \"${constructor}.${methodName}(${argList})\"`,\n                trigger: \".pos\",\n                run: () => {},\n            });\n        }\n        steps.push(...res);\n        return res;\n    },\n};\n\n// we proxy get of the method to decorate the method call\nconst proxyHandler = {\n    get(target, key) {\n        const method = target[key];\n        if (!method) {\n            throw new Error(`Tour method '${key}' is not available.`);\n        }\n        return new Proxy(method.bind(target), methodProxyHandler);\n    },\n};\n\n/**\n * Creates an object with `do`, `check` and `exec` properties which are instances of\n * the given `Do`, `Check` and `Execute` classes, respectively. Calling methods\n * automatically adds the returned steps to the steps created by `startSteps`.\n *\n * There are however underscored version (_do, _check, _exec).\n * Calling methods thru the underscored version does not automatically\n * add the returned steps to the current steps array. Useful when composing\n * steps from other methods.\n *\n * @param {String} name\n * @param {Function} Do class containing methods which return array of tour steps\n * @param {Function} Check similar to Do class but the steps are mainly for checking\n * @param {Function} Execute class containing methods which return array of tour steps\n *                   but has access to methods of Do and Check classes via .do and .check,\n *                   respectively. Here, we define methods that return tour steps based\n *                   on the combination of steps from Do and Check.\n */\nexport function createTourMethods(name, Do, Check = class {}, Execute = class {}) {\n    Object.defineProperty(Do, \"name\", { value: `${name}.do` });\n    Object.defineProperty(Check, \"name\", { value: `${name}.check` });\n    Object.defineProperty(Execute, \"name\", {\n        value: `${name}.exec`,\n    });\n    const methods = { do: new Do(), check: new Check(), exec: new Execute() };\n    // Allow Execute to have access to methods defined in Do and Check\n    // via do and exec, respectively.\n    methods.exec._do = methods.do;\n    methods.exec._check = methods.check;\n    return {\n        Do,\n        Check,\n        Execute,\n        [name]: {\n            do: new Proxy(methods.do, proxyHandler),\n            check: new Proxy(methods.check, proxyHandler),\n            exec: new Proxy(methods.exec, proxyHandler),\n            _do: methods.do,\n            _check: methods.check,\n            _exec: methods.exec,\n        },\n    };\n}\n", "/** @odoo-module */\n/* global posmodel */\n\nimport { registry } from \"@web/core/registry\";\nimport { roundDecimals as round_di } from \"@web/core/utils/numbers\";\nimport { nbsp } from \"@web/core/utils/strings\";\n\nfunction assert(condition, message) {\n    if (!condition) {\n        throw message || \"Assertion failed\";\n    }\n}\n\nfunction assertProductPrice(product, pricelist_name, quantity, expected_price) {\n    return function () {\n        var pricelist = posmodel.pricelists.find((pricelist) => pricelist.name === pricelist_name);\n        var frontend_price = product.get_price(pricelist, quantity);\n        frontend_price = round_di(frontend_price, posmodel.dp[\"Product Price\"]);\n\n        var diff = Math.abs(expected_price - frontend_price);\n\n        assert(\n            diff < 0.001,\n            JSON.stringify({\n                product: product.id,\n                product_display_name: product.display_name,\n                pricelist_name: pricelist_name,\n                quantity: quantity,\n            }) +\n                \" DOESN'T MATCH -> \" +\n                expected_price +\n                \" != \" +\n                frontend_price\n        );\n\n        return Promise.resolve();\n    };\n}\n\n// The global posmodel is only present when the posmodel is instanciated\n// So, wait for everythiong to be loaded\nvar steps = [\n    {\n        // Leave category displayed by default\n        content: \"waiting for loading to finish\",\n        extra_trigger: \"body .pos:not(:has(.loader))\", // Pos has finished loading\n        trigger: \"body:not(:has(.o_loading_indicator))\", // WebClient has finished Loading\n        run: function () {\n            var product_wall_shelf = posmodel.db.search_product_in_category(\n                0,\n                \"Wall Shelf Unit\"\n            )[0];\n            var product_small_shelf = posmodel.db.search_product_in_category(0, \"Small Shelf\")[0];\n            var product_magnetic_board = posmodel.db.search_product_in_category(\n                0,\n                \"Magnetic Board\"\n            )[0];\n            var product_monitor_stand = posmodel.db.search_product_in_category(\n                0,\n                \"Monitor Stand\"\n            )[0];\n            var product_desk_pad = posmodel.db.search_product_in_category(0, \"Desk Pad\")[0];\n            var product_letter_tray = posmodel.db.search_product_in_category(0, \"Letter Tray\")[0];\n            var product_whiteboard = posmodel.db.search_product_in_category(0, \"Whiteboard\")[0];\n\n            assertProductPrice(product_letter_tray, \"Public Pricelist\", 0, 4.8)()\n                .then(assertProductPrice(product_letter_tray, \"Public Pricelist\", 1, 4.8))\n                .then(assertProductPrice(product_letter_tray, \"Fixed\", 1, 1))\n                .then(assertProductPrice(product_wall_shelf, \"Fixed\", 1, 2))\n                .then(assertProductPrice(product_small_shelf, \"Fixed\", 1, 13.95))\n                .then(assertProductPrice(product_wall_shelf, \"Percentage\", 1, 0))\n                .then(assertProductPrice(product_small_shelf, \"Percentage\", 1, 0.03))\n                .then(assertProductPrice(product_magnetic_board, \"Percentage\", 1, 1.98))\n                .then(assertProductPrice(product_wall_shelf, \"Formula\", 1, 6.86))\n                .then(assertProductPrice(product_small_shelf, \"Formula\", 1, 2.99))\n                .then(assertProductPrice(product_magnetic_board, \"Formula\", 1, 11.98))\n                .then(assertProductPrice(product_monitor_stand, \"Formula\", 1, 8.19))\n                .then(assertProductPrice(product_desk_pad, \"Formula\", 1, 6.98))\n                .then(assertProductPrice(product_wall_shelf, \"min_quantity ordering\", 1, 2))\n                .then(assertProductPrice(product_wall_shelf, \"min_quantity ordering\", 2, 1))\n                .then(assertProductPrice(product_letter_tray, \"Category vs no category\", 1, 2))\n                .then(assertProductPrice(product_letter_tray, \"Category\", 1, 2))\n                .then(assertProductPrice(product_wall_shelf, \"Product template\", 1, 1))\n                .then(assertProductPrice(product_wall_shelf, \"Dates\", 1, 2))\n                .then(assertProductPrice(product_small_shelf, \"Pricelist base rounding\", 1, 13.95))\n                .then(assertProductPrice(product_whiteboard, \"Public Pricelist\", 1, 3.2))\n                .then(function () {\n                    $(\".pos\").addClass(\"done-testing\");\n                });\n        },\n    },\n    {\n        trigger: '.opening-cash-control .button:contains(\"Open session\")',\n    },\n];\n\nsteps = steps.concat([\n    {\n        content: \"wait for unit tests to finish\",\n        trigger: \".pos.done-testing\",\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"click category switch\",\n        trigger: \".breadcrumb-home\",\n        run: \"click\",\n    },\n    {\n        content: \"click review button\",\n        trigger: \".btn-switchpane:contains('Review')\",\n        mobile: true,\n    },\n    {\n        content: \"click more button\",\n        trigger: \".mobile-more-button\",\n        mobile: true,\n    },\n    {\n        content: \"click pricelist button\",\n        trigger: \".control-button.o_pricelist_button\",\n    },\n    {\n        content: \"verify default pricelist is set\",\n        trigger: \".selection-item.selected:contains('Public Pricelist')\",\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"select fixed pricelist\",\n        trigger: \".selection-item:contains('Fixed')\",\n    },\n    {\n        content: \"open partner list\",\n        trigger: \"button.set-partner\",\n    },\n    {\n        content: \"select Deco Addict\",\n        trigger: \".partner-line:contains('Deco Addict')\",\n    },\n    {\n        content: \"click more button\",\n        trigger: \".mobile-more-button\",\n        mobile: true,\n    },\n    {\n        content: \"click pricelist button\",\n        trigger: \".control-button.o_pricelist_button\",\n    },\n    {\n        content: \"verify pricelist changed\",\n        trigger: \".selection-item.selected:contains('Public Pricelist')\",\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"cancel pricelist dialog\",\n        trigger: \".button.cancel:visible\",\n    },\n    {\n        content: \"open customer list\",\n        trigger: \"button.set-partner\",\n    },\n    {\n        content: \"select Lumber Inc\",\n        trigger: \".partner-line:contains('Lumber Inc')\",\n    },\n    {\n        content: \"click more button\",\n        trigger: \".mobile-more-button\",\n        mobile: true,\n    },\n    {\n        content: \"click pricelist button\",\n        trigger: \".control-button.o_pricelist_button\",\n    },\n    {\n        content: \"verify pricelist remained public pricelist ('Not loaded' is not available)\",\n        trigger: \".selection-item.selected:contains('Public Pricelist')\",\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"cancel pricelist dialog\",\n        trigger: \".button.cancel:visible\",\n    },\n    {\n        content: \"go back to the products\",\n        trigger: \".floor-button\",\n        mobile: true,\n    },\n    {\n        content: \"order 1 kg shelf\",\n        trigger: \".product:contains('Wall Shelf')\",\n    },\n    {\n        content: \"click review button\",\n        trigger: \".btn-switchpane:contains('Review')\",\n        mobile: true,\n    },\n    {\n        trigger:\n            \".order-container .orderlines .orderline.selected .product-name:contains('Wall Shelf')\",\n        extra_trigger:\n            \".order-container .orderlines .orderline.selected .product-name:contains('Wall Shelf') ~ .info-list .info em:contains('1.0')\",\n        run: function () {},\n    },\n    {\n        content: \"click more button\",\n        trigger: \".mobile-more-button\",\n        mobile: true,\n    },\n    {\n        content: \"click pricelist button\",\n        trigger: \".control-button.o_pricelist_button\",\n    },\n    {\n        content: \"select fixed pricelist\",\n        trigger: \".selection-item:contains('min_quantity ordering')\",\n    },\n    {\n        content: \"change qty to 2 kg\",\n        trigger: \".numpad button.input-button:visible:contains('2')\",\n    },\n    {\n        content: \"qty of Wall Shelf line should be 2\",\n        trigger:\n            \".order-container .orderlines .orderline.selected .product-name:contains('Wall Shelf')\",\n        extra_trigger:\n            \".order-container .orderlines .orderline.selected .product-name:contains('Wall Shelf') ~ .info-list .info em:contains('2.0')\",\n        run: function () {},\n    },\n    {\n        content: \"verify that unit price of shelf changed to $1\",\n        trigger: `.total > .value:contains('$${nbsp}2.00')`,\n        run: function () {},\n    },\n    {\n        content: \"go back to the products\",\n        trigger: \".floor-button\",\n        mobile: true,\n    },\n    {\n        content: \"order different shelf\",\n        trigger: \".product:contains('Small Shelf')\",\n    },\n    {\n        content: \"click review button\",\n        trigger: \".btn-switchpane:contains('Review')\",\n        mobile: true,\n    },\n    {\n        content: \"Small Shelf line should be selected with quantity 1\",\n        trigger:\n            \".order-container .orderlines .orderline.selected .product-name:contains('Small Shelf')\",\n        extra_trigger:\n            \".order-container .orderlines .orderline.selected .product-name:contains('Small Shelf') ~ .info-list .info em:contains('1.0')\",\n        run: function () {},\n    },\n    {\n        content: \"change to price mode\",\n        trigger: \".numpad button:contains('Price')\",\n    },\n    {\n        content: \"make sure price mode is activated\",\n        trigger: \".numpad button.selected-mode:contains('Price')\",\n        run: function () {},\n    },\n    {\n        content: \"manually override the unit price of these shelf to $5\",\n        trigger: \".numpad button.input-button:visible:contains('5')\",\n    },\n    {\n        content: \"Small Shelf line should be selected with unit price of 5\",\n        trigger:\n            \".order-container .orderlines .orderline.selected .product-name:contains('Small Shelf')\",\n        extra_trigger:\n            \".order-container .orderlines .orderline.selected .product-name:contains('Small Shelf') ~ .price:contains('5.0')\",\n    },\n    {\n        content: \"change back to qty mode\",\n        trigger: \".numpad button:contains('Qty')\",\n    },\n    {\n        content: \"make sure qty mode is activated\",\n        trigger: \".numpad button.selected-mode:contains('Qty')\",\n        run: function () {},\n    },\n    {\n        content: \"click more button\",\n        trigger: \".mobile-more-button\",\n        mobile: true,\n    },\n    {\n        content: \"click pricelist button\",\n        trigger: \".control-button.o_pricelist_button\",\n    },\n    {\n        content: \"select public pricelist\",\n        trigger: \".selection-item:contains('Public Pricelist')\",\n    },\n    {\n        content:\n            \"verify that the boni shelf have been recomputed and the shelf have not (their price was manually overridden)\",\n        trigger: `.total > .value:contains('$${nbsp}8.96')`,\n    },\n    {\n        content: \"click more button\",\n        trigger: \".mobile-more-button\",\n        mobile: true,\n    },\n    {\n        content: \"click pricelist button\",\n        trigger: \".control-button.o_pricelist_button\",\n    },\n    {\n        content: \"select fixed pricelist\",\n        trigger: \".selection-item:contains('min_quantity ordering')\",\n    },\n    {\n        content: \"open the navbar menu\",\n        trigger: \".menu-button\",\n    },\n    {\n        content: \"confirm closing the frontend\",\n        trigger: \".close-button\",\n        run: function () {}, //it's a check,\n    },\n]);\n\nregistry.category(\"web_tour.tours\").add(\"pos_pricelist\", { \n    test: true, \n    url: \"/pos/ui\", \n    steps: () => steps,\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('personal_stage_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    trigger: '.o_app[data-menu-xmlid=\"project.menu_main_pm\"]',\n}, {\n    content: \"Open Pig Project\",\n    trigger: '.o_kanban_record:contains(\"Pig\")',\n}, {\n    // Default is grouped by stage, user should not be able to create/edit a column\n    content: \"Check that there is no create column\",\n    trigger: \"body:not(.o_column_quick_create)\",\n    run: function () {},\n}, {\n    content: \"Check that there is no create column\",\n    trigger: \"body:not(.o_column_edit)\",\n    run: function () {},\n}, {\n    content: \"Check that there is no create column\",\n    trigger: \"body:not(.o_column_delete)\",\n    run: function () {},\n}, {\n    content: \"Go to tasks\",\n    trigger: 'button[data-menu-xmlid=\"project.menu_project_management\"]',\n},{\n    content: \"Go to my tasks\", // My tasks is grouped by personal stage by default\n    trigger: 'a[data-menu-xmlid=\"project.menu_project_management_my_tasks\"]',\n}, {\n    content: \"Check that we can create a new stage\",\n    trigger: '.o_column_quick_create .o_quick_create_folded'\n}, {\n    content: \"Create a new personal stage\",\n    trigger: 'input.form-control',\n    run: 'text Never',\n}, {\n    content: \"Confirm create\",\n    trigger: '.o_kanban_add',\n}, {\n    content: \"Check that column exists\",\n    trigger: '.o_kanban_header:contains(\"Never\")',\n    run: function () {},\n}, {\n    content: 'Open column edit dropdown',\n    trigger: '.o_kanban_header:eq(0)',\n    run: function () {\n        document.querySelector('.o_kanban_config.dropdown .dropdown-toggle').dispatchEvent(new Event('click'));\n    },\n}, {\n    content: \"Try editing inbox\",\n    trigger: \".dropdown-item.o_column_edit\",\n}, {\n    content: \"Change title\",\n    trigger: 'div.o_field_char[name=\"name\"] input',\n    run: 'text  (Todo)',\n}, {\n    content: \"Save changes\",\n    trigger: '.btn-primary:contains(\"Save\")',\n}, {\n    content: \"Check that column was updated\",\n    trigger: '.o_kanban_header:contains(\"Todo\")',\n}, {\n    content: \"Create a personal task from the quick create form\",\n    trigger: '.o-kanban-button-new',\n}, {\n    content: \"Create a new personal task\",\n    trigger: 'input.o_input',\n    run: 'text New Test Task',\n}, {\n    content: \"Confirm create\",\n    trigger: '.o_kanban_add',\n}, {\n    content: \"Check that task exists\",\n    trigger: '.o_kanban_record_title:contains(\"New Test Task\")',\n    run: function () {},\n}]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('burndown_chart_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    trigger: '.o_app[data-menu-xmlid=\"project.menu_main_pm\"]',\n}, {\n    content: 'Open \"Burndown Chart Test\" project menu',\n    trigger: '.o_kanban_record:contains(\"Burndown Chart Test\") .o_dropdown_kanban .dropdown-toggle',\n}, {\n    content: `Open \"Burndown Chart Test\" project's \"Burndown Chart\" view`,\n    trigger: '.o_kanban_record:contains(\"Burndown Chart Test\") .o_kanban_manage_reporting div[role=\"menuitem\"] a:contains(\"Burndown Chart\")',\n}, {\n    content: 'The sort buttons are not rendered',\n    trigger: '.o_graph_renderer:not(:has(.btn-group[role=toolbar][aria-label=\"Sort graph\"]))',\n    extra_trigger: '.o_graph_renderer',\n}, {\n    content: 'Remove the project search \"Burndown Chart Test\"',\n    trigger: '.o_searchview_facet:contains(\"Burndown Chart Test\") .o_facet_remove',\n}, {\n    content: 'Search Burndown Chart',\n    trigger: 'input.o_searchview_input',\n    run: `text Burndown`,\n}, {\n    content: 'Validate search',\n    trigger: '.o_searchview_autocomplete .o_menu_item:contains(\"Project\")',\n}, {\n    content: 'Remove the group by \"Date: Month > Stage\"',\n    trigger: '.o_searchview_facet:contains(\"Date: Month\") .o_facet_remove',\n}, {\n    content: 'A \"The Burndown Chart must be grouped by Date and Stage\" notification is shown when trying to remove the group by \"Date: Month > Stage\"',\n    trigger: '.o_notification_manager .o_notification:contains(\"The Burndown Chart must be grouped by Date and Stage\") button.o_notification_close',\n}, {\n    content: 'Open the search panel menu',\n    trigger: '.o_control_panel .o_searchview_dropdown_toggler',\n}, {\n    content: 'The Stage group menu item is invisible',\n    trigger: '.o_group_by_menu:not(:has(.o_menu_item:contains(\"Stage\")))',\n}, {\n    content: 'Open the Date group by sub menu',\n    trigger: '.o_group_by_menu button.o_menu_item:contains(\"Date\")',\n}, {\n    content: 'Click on the selected Date sub menu',\n    trigger: '.o_group_by_menu button.o_menu_item:contains(\"Date\") + * .dropdown-item.selected',\n    run: function () {\n        this.$anchor[0].dispatchEvent(new Event('click'));\n    },\n}, {\n    content: 'A \"The Burndown Chart must be grouped by Date\" notification is shown when trying to remove the group by \"Date: Month > Stage\"',\n    trigger: '.o_notification_manager .o_notification:contains(\"The Burndown Chart must be grouped by Date\") button.o_notification_close',\n}, {\n    content: 'Open the search panel menu',\n    trigger: '.o_control_panel .o_searchview_dropdown_toggler',\n}, {\n    content: 'Open the Date filter sub menu',\n    trigger: '.o_filter_menu button.o_menu_item:contains(\"Date\")',\n}, {\n    content: 'Click on the first Date filter sub menu',\n    trigger: '.o_filter_menu .o_menu_item:contains(\"Date\") + * .dropdown-item:first-child',\n    run: function () {\n        this.$anchor[0].dispatchEvent(new Event('click'));\n    },\n}, {\n    content: 'Close the Date filter menu',\n    trigger: '.o_graph_renderer',\n}, {\n    content: 'Open the search panel menu',\n    trigger: '.o_control_panel .o_searchview_dropdown_toggler',\n}, {\n    content: 'The comparison menu is not rendered',\n    trigger: ':not(:has(.o_comparison_menu))',\n}]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst projectSharingSteps = [...stepUtils.goToAppSteps(\"project.menu_main_pm\", 'Go to the Project App.'), {\n    trigger: '.o_kanban_record:contains(\"Project Sharing\") .o_dropdown_kanban .dropdown-toggle',\n    content: 'Open the project dropdown.'\n}, {\n    trigger: '.o_kanban_record:contains(\"Project Sharing\") .dropdown-menu a:contains(\"Share\")',\n    content: 'Start editing the project.',\n}, {\n    trigger: 'div.o_field_radio[name=\"access_mode\"] div.o_radio_item > input[data-value=\"edit\"]',\n    content: 'Select \"Edit\" as Access mode in the \"Share Project\" wizard.',\n}, {\n    trigger: '.o_field_many2many_tags_email[name=partner_ids] input',\n    extra_trigger: 'label[for=partner_ids_0]:contains(\"Invite People\")',\n    content: 'Select the user portal as collaborator to the \"Project Sharing\" project.',\n    run: 'text Georges',\n}, {\n    trigger: '.ui-autocomplete a.dropdown-item:contains(\"Georges\")',\n    in_modal: false,\n}, {\n    trigger: 'footer > button[name=\"action_send_mail\"]',\n    content: 'Confirm the project sharing with this portal user.',\n}, {\n    trigger: '.o_web_client',\n    content: 'Go to project portal view to select the \"Project Sharing\" project',\n    run: function () {\n        window.location.href = window.location.origin + '/my/projects';\n    },\n}, {\n    id: 'project_sharing_feature',\n    trigger: 'table > tbody > tr a:has(span:contains(Project Sharing))',\n    content: 'Select \"Project Sharing\" project to go to project sharing feature for this project.',\n}, {\n    trigger: 'iframe .o_project_sharing',\n    content: 'Wait the project sharing feature be loaded',\n    run: function () {},\n}, {\n    trigger: 'iframe button.o-kanban-button-new',\n    content: 'Click \"Create\" button',\n    run: 'click',\n}, {\n    trigger: 'iframe .o_kanban_quick_create .o_field_widget[name=\"name\"] input',\n    content: 'Create Task',\n    run: 'text Test Create Task',\n}, {\n    trigger: 'iframe .o_kanban_quick_create .o_kanban_edit',\n    content: 'Go to the form view of this new task',\n}, {\n    trigger: 'iframe div[name=\"stage_id\"] div.o_statusbar_status button[aria-checked=\"false\"]:contains(Done)',\n    content: 'Change the stage of the task.',\n}, {\n    trigger: 'iframe .o_portal_chatter_composer_input .o_portal_chatter_composer_body textarea',\n    content: 'Write a message in the chatter of the task',\n    run: 'text I create a new task for testing purpose.',\n}, {\n    trigger: 'iframe .o_portal_chatter_composer_input .o_portal_chatter_composer_body button[name=\"send_message\"]',\n    content: 'Send the message',\n}, {\n    trigger: 'iframe ol.breadcrumb > li.o_back_button > a:contains(Project Sharing)',\n    content: 'Go back to the kanban view',\n}, {\n    trigger: 'iframe .o_searchview_dropdown_toggler',\n    content: 'open the search panel menu',\n}, {\n    trigger: 'iframe .o_filter_menu .dropdown-item:first-child',\n    content: 'click on the first item in the filter menu',\n}, {\n    trigger: 'iframe .o_group_by_menu .dropdown-item:first-child',\n    content: 'click on the first item in the group by menu',\n}, {\n    trigger: 'iframe .o_favorite_menu .o_add_favorite',\n    content: 'open accordion \"save current search\" in favorite menu',\n}, {\n    trigger: 'iframe .o_favorite_menu .o_accordion_values .o_save_favorite',\n    content: 'click to \"save\" button in favorite menu',\n}, {\n    trigger: 'iframe .o_filter_menu .dropdown-item:first-child',\n    content: 'click on the first item in the filter menu',\n}, {\n    trigger: 'iframe .o_group_by_menu .dropdown-item:first-child',\n    content: 'click on the first item in the group by menu',\n}, {\n    trigger: 'iframe .o_favorite_menu .o_accordion_values .o_save_favorite',\n    content: 'click to \"save\" button in favorite menu',\n}, {\n    trigger: 'iframe button.o_switch_view.o_list',\n    content: 'Go to the list view',\n}];\n\nregistry.category(\"web_tour.tours\").add('project_sharing_tour', {\n    test: true,\n    url: '/web',\n    steps: () => {\n        return projectSharingSteps;\n    } \n});\n\nregistry.category(\"web_tour.tours\").add(\"portal_project_sharing_tour\", {\n    test: true,\n    url: \"/my/projects\",\n    steps: () => {\n        // The begining of the project sharing feature\n        const projectSharingStepIndex = projectSharingSteps.findIndex(s => s?.id === 'project_sharing_feature');\n        return projectSharingSteps.slice(projectSharingStepIndex, projectSharingSteps.length);\n    }\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('project_test_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [\n    stepUtils.showAppsMenuItem(), {\n        trigger: '.o_app[data-menu-xmlid=\"project.menu_main_pm\"]',\n    }, {\n        trigger: '.o-kanban-button-new',\n        extra_trigger: '.o_project_kanban',\n        width: 200,\n    }, {\n        trigger: '.o_project_name input',\n        run: 'text New Project',\n        id: 'project_creation',\n    }, {\n        trigger: '.o_open_tasks',\n        run: function (actions) {\n            actions.auto('.modal:visible .btn.btn-primary');\n        },\n    }, {\n        trigger: \".o_kanban_project_tasks .o_column_quick_create .input-group\",\n        run: function (actions) {\n            actions.text(\"New\", this.$anchor.find(\"input\"));\n        },\n    }, {\n        trigger: \".o_kanban_project_tasks .o_column_quick_create .o_kanban_add\",\n        auto: true,\n    }, {\n        trigger: \".o_kanban_project_tasks .o_column_quick_create .input-group\",\n        extra_trigger: '.o_kanban_group',\n        run: function (actions) {\n            actions.text(\"Done\", this.$anchor.find(\"input\"));\n        },\n    }, {\n        trigger: \".o_kanban_project_tasks .o_column_quick_create .o_kanban_add\",\n        auto: true,\n    }, {\n        trigger: '.o-kanban-button-new',\n        extra_trigger: '.o_kanban_group:eq(0)'\n    }, {\n        trigger: '.o_kanban_quick_create div.o_field_char[name=display_name] input',\n        extra_trigger: '.o_kanban_project_tasks',\n        run: 'text New task'\n    }, {\n        trigger: '.o_kanban_quick_create .o_kanban_add',\n        extra_trigger: '.o_kanban_project_tasks',\n        id: \"quick_create_tasks\",\n    }, {\n        trigger: '.o_field_text[name=\"name\"] textarea',\n        content: 'Set task name',\n        run: 'text New task',\n    }, {\n        trigger: 'div[name=\"user_ids\"].o_field_many2many_tags_avatar input',\n        content: 'Assign the task to you',\n        run: 'click',\n    }, {\n        trigger: 'ul.ui-autocomplete a .o_avatar_many2x_autocomplete',\n        content: 'Assign the task to you',\n    }, {\n        trigger: 'a[name=\"sub_tasks_page\"]',\n        content: 'Open sub-tasks notebook section',\n        run: 'click',\n    }, {\n        trigger: '.o_field_subtasks_one2many .o_list_renderer a[role=\"button\"]',\n        content: 'Add a subtask',\n        run: 'click',\n    }, {\n        trigger: '.o_field_subtasks_one2many div[name=\"name\"] input',\n        content: 'Set subtask name',\n        run: 'text new subtask'\n    }, {\n        trigger: 'button[special=\"save\"]',\n        extra_trigger: '.o_field_many2many_tags_avatar .o_m2m_avatar',\n        content: 'Save task',\n    },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nfunction openProjectUpdateAndReturnToTasks(view, viewClass) {\n    const legacyViewClass = viewClass.replace(\"o_\", \"o_legacy_\");\n    return [{\n            trigger: '.o_project_updates_breadcrumb',\n            content: 'Open Project Update from view : ' + view,\n            extra_trigger: `.${viewClass}, .${legacyViewClass}`,\n        }, {\n            trigger: \".o-kanban-button-new\",\n            content: \"Create a new update from project task view : \" + view,\n            extra_trigger: '.o_project_update_kanban_view',\n        }, {\n            trigger: \"button.o_form_button_cancel\",\n            content: \"Discard project update from project task view : \" + view,\n        }, {\n            trigger: \".o_switch_view.o_list\",\n            content: \"Go to list of project update from view \" + view,\n        }, {\n            trigger: '.o_back_button',\n            content: 'Go back to the task view : ' + view,\n            // extra_trigger: '.o_list_view', // FIXME: [XBO] uncomment it when the sample data will be displayed after discarding the creation of a project update record.\n        },\n    ];\n}\n\nregistry.category(\"web_tour.tours\").add('project_update_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    trigger: '.o_app[data-menu-xmlid=\"project.menu_main_pm\"]',\n}, {\n    trigger: '.o-kanban-button-new',\n    extra_trigger: '.o_project_kanban',\n    width: 200,\n}, {\n    trigger: '.o_project_name input',\n    run: 'text New Project'\n}, {\n    trigger: '.o_open_tasks',\n    run: function (actions) {\n        actions.auto('.modal:visible .btn.btn-primary');\n    },\n}, {\n    trigger: \".o_kanban_project_tasks .o_column_quick_create .input-group\",\n    run: function (actions) {\n        actions.text(\"New\", this.$anchor.find(\"input\"));\n    },\n}, {\n    trigger: \".o_kanban_project_tasks .o_column_quick_create .o_kanban_add\",\n    auto: true,\n}, {\n    trigger: \".o_kanban_project_tasks .o_column_quick_create .input-group\",\n    extra_trigger: '.o_kanban_group',\n    run: function (actions) {\n        actions.text(\"Done\", this.$anchor.find(\"input\"));\n    },\n}, {\n    trigger: \".o_kanban_project_tasks .o_column_quick_create .o_kanban_add\",\n    auto: true,\n}, {\n    trigger: '.o-kanban-button-new',\n    extra_trigger: '.o_kanban_group:eq(0)'\n}, {\n    trigger: '.o_kanban_quick_create div.o_field_char[name=display_name] input',\n    extra_trigger: '.o_kanban_project_tasks',\n    run: 'text New task'\n}, {\n    trigger: '.o_kanban_quick_create .o_kanban_add',\n    extra_trigger: '.o_kanban_project_tasks'\n}, {\n    trigger: '.o-kanban-button-new',\n    extra_trigger: '.o_kanban_group:eq(0)'\n}, {\n    trigger: '.o_kanban_quick_create div.o_field_char[name=display_name] input',\n    extra_trigger: '.o_kanban_project_tasks',\n    run: 'text Second task'\n}, {\n    trigger: '.o_kanban_quick_create .o_kanban_add',\n    extra_trigger: '.o_kanban_project_tasks'\n}, {\n    trigger: '.o_kanban_group:nth-child(2) .o_kanban_header',\n    run: function () {\n        document.querySelector('.o_kanban_group:nth-child(2) .o_kanban_config.dropdown .dropdown-toggle').dispatchEvent(new Event('click'));\n    }\n}, {\n    trigger: \".dropdown-item.o_column_edit\",\n}, {\n    trigger: \".o_field_widget[name=fold] input\",\n}, {\n    trigger: \".modal-footer button\",\n}, {\n    trigger: \".o_kanban_record .oe_kanban_content\",\n    extra_trigger: '.o_kanban_project_tasks',\n    run: \"drag_and_drop .o_kanban_group:eq(1) \",\n}, {\n    trigger: \".o_project_updates_breadcrumb\",\n    content: 'Open Updates'\n}, {\n    trigger: \".o_add_milestone a\",\n    content: \"Add a first milestone\"\n}, {\n    trigger: \"div.o_field_widget[name=name] input\",\n    run: 'text New milestone'\n}, {\n    trigger: \"input[data-field=deadline]\",\n    run: 'text 12/12/2099'\n}, {\n    trigger: \".modal-footer .o_form_button_save\"\n}, {\n    trigger: \".o_add_milestone a\",\n}, {\n    trigger: \"div.o_field_widget[name=name] input\",\n    run: 'text Second milestone'\n}, {\n    trigger: \"input[data-field=deadline]\",\n    run: 'text 12/12/2022'\n}, {\n    trigger: \".modal-footer .o_form_button_save\"\n}, {\n    trigger: \".o_rightpanel_milestone:eq(1) .o_milestone_detail\",\n}, {\n    trigger: \"input[data-field=deadline]\",\n    run: 'text 12/12/2100'\n}, {\n    trigger: \".modal-footer .o_form_button_save\"\n}, {\n    trigger: \".o-kanban-button-new\",\n    content: \"Create a new update\"\n}, {\n    trigger: \"div.o_field_widget[name=name] input\",\n    run: 'text New update'\n}, {\n    trigger: \".o_form_button_save\"\n}, {\n    trigger: \".o_field_widget[name='description'] h1:contains('Activities')\",\n    run: function () {},\n}, {\n    trigger: \".o_field_widget[name='description'] h3:contains('Milestones')\",\n    run: function () {},\n}, {\n    trigger: \".o_field_widget[name='description'] div[name='milestone'] ul li:contains('(12/12/2099 => 12/12/2100)')\",\n    run: function () {},\n}, {\n    trigger: \".o_field_widget[name='description'] div[name='milestone'] ul li span:contains('(due 12/12/2022)')\",\n    run: function () {},\n}, {\n    trigger: \".o_field_widget[name='description'] div[name='milestone'] ul li span:contains('(due 12/12/2100)')\",\n    run: function () {},\n}, {\n    trigger: '.o_back_button',\n    content: 'Go back to the kanban view the project',\n}, {\n    trigger: '.o_switch_view.o_list',\n    content: 'Open List View of Project Updates',\n}, {\n    trigger: '.o_back_button',\n    content: 'Go back to the kanban view the project',\n    extra_trigger: '.o_list_view',\n}, {\n    trigger: '.o_switch_view.o_graph',\n    content: 'Open Graph View of Tasks',\n}, ...openProjectUpdateAndReturnToTasks(\"Graph\", \"o_graph_view\"), {\n    trigger: '.o_switch_view.o_list',\n    content: 'Open List View of Tasks',\n    extra_trigger: '.o_graph_view',\n}, ...openProjectUpdateAndReturnToTasks(\"List\", \"o_list_view\"), {\n    trigger: '.o_switch_view.o_pivot',\n    content: 'Open Pivot View of Tasks',\n}, ...openProjectUpdateAndReturnToTasks(\"Pivot\", \"o_pivot_view\"), {\n    trigger: '.o_switch_view.o_calendar',\n    content: 'Open Calendar View of Tasks',\n}, ...openProjectUpdateAndReturnToTasks(\"Calendar\", \"o_calendar_view\"), {\n    trigger: '.o_switch_view.o_activity',\n    content: 'Open Activity View of Tasks',\n}, ...openProjectUpdateAndReturnToTasks(\"Activity\", \"o_activity_view\"),\n]});\n", "/** @odoo-module **/\n\nimport { createWebClient, doAction } from \"@web/../tests/webclient/helpers\";\nlet serverData;\nQUnit.module(\"Project Task Calendar View\", (hooks) => {\n    hooks.beforeEach(() => {\n        serverData = {\n            models: {\n                \"project.task\": {\n                    fields: {\n                        start: { string: \"Date Start\", type: \"date\" },\n                        stop: { string: \"Date End\", type: \"date\" },\n                    },\n                    records: [\n                        {\n                            id: 1,\n                            start: \"2017-01-25\",\n                            stop: \"2017-01-26\",\n                        }, {\n                            id: 2,\n                            start: \"2017-01-02\",\n                            stop: \"2017-01-03\",\n                        },\n                    ],\n                    methods: {\n                        check_access_rights: function () {\n                            return Promise.resolve(true);\n                        }\n                    }\n                },\n            },\n        }\n    });\n    QUnit.test(\"breadcrumb contains 'Tasks by deadline'\", async function (assert) {\n        serverData.views = {\n            \"project.task,1,calendar\": `<calendar date_start=\"start\" date_stop=\"stop\" mode=\"day\" js_class=\"project_calendar\"/>`,\n            \"project.task,false,search\": `<search />`,\n        };\n        serverData.actions = {\n            1: {\n                id: 1,\n                name: \"test\",\n                res_model: \"project.task\",\n                type: \"ir.actions.act_window\",\n                views: [[1, \"calendar\"]],\n                context: {},\n            },\n        };\n        const webClient = await createWebClient({ serverData });\n        await doAction(webClient, 1);\n        assert.equal(document.querySelector(\".o_last_breadcrumb_item span\").textContent, 'test - Tasks by Deadline');\n    });\n});\n", "/** @odoo-module **/\n\nimport { click, getFixture } from \"@web/../tests/helpers/utils\";\nimport { makeView, setupViewRegistries } from \"@web/../tests/views/helpers\";\n\nQUnit.module(\"Project Task List View\", (hooks) => {\n    QUnit.test(\"cannot edit stage_id with different projects\", async function (assert) {\n        const target = getFixture();\n        setupViewRegistries();\n        await makeView({\n            type: \"list\",\n            resModel: \"project.task\",\n            arch: `\n                <tree multi_edit=\"1\" js_class=\"project_task_list\">\n                    <field name=\"project_id\"/>\n                    <field name=\"stage_id\"/>\n                </tree>\n            `,\n            serverData: {\n                models: {\n                    \"project.task\": {\n                        fields: {\n                            project_id: {\n                                string: \"Project\",\n                                type: \"many2one\",\n                                relation: \"project.project\",\n                            },\n                            stage_id: {\n                                string: \"Stage\",\n                                type: \"many2one\",\n                                relation: \"project.task.type\",\n                            }\n                        },\n                        records: [\n                            {\n                                id: 1,\n                                project_id: 1,\n                                stage_id: 1,\n                            }, {\n                                id: 2,\n                                project_id: 2,\n                                stage_id: 1,\n                            },\n                        ],\n                    },\n                    \"project.project\": {\n                        records: [\n                            {\n                                id: 1,\n                            }, {\n                                id: 2,\n                            },\n                        ],\n                    },\n                    \"project.task.type\": {\n                        records: [\n                            {\n                                id: 1,\n                            }, {\n                                id: 2,\n                            },\n                        ],\n                    },\n                },\n            }\n        });\n\n        const [firstRow, secondRow] = target.querySelectorAll(\".o_data_row\");\n        await click(firstRow.querySelector(\".o_data_row .o_list_record_selector input\"));\n        assert.containsNone(firstRow, \".o_readonly_modifier\", \"None of the fields should be readonly\");\n        assert.containsNone(secondRow, \".o_readonly_modifier\", \"None of the fields should be readonly\");\n\n        await click(secondRow.querySelector(\".o_data_row .o_list_record_selector input\"));\n        assert.containsOnce(firstRow, \".o_readonly_modifier\");\n        assert.hasClass(firstRow.querySelectorAll(\".o_data_cell\")[1], \"o_readonly_modifier\", \"The stage_id should be readonly\");\n        assert.containsOnce(secondRow, \".o_readonly_modifier\");\n        assert.hasClass(secondRow.querySelectorAll(\".o_data_cell\")[1], \"o_readonly_modifier\", \"The stage_id should be readonly\");\n    });\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport tourUtils from \"website_sale.tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('check_free_delivery', {\n        test: true,\n        url: '/shop?search=office chair black',\n        steps: () => [\n        // Part 1: Check free delivery\n        {\n            content: \"select office chair black\",\n            trigger: '.oe_product_cart a:contains(\"Office Chair Black TEST\")',\n        },\n        {\n            content: \"click on add to cart\",\n            trigger: '#product_details #add_to_cart',\n        },\n            tourUtils.goToCart(),\n        {\n            content: \"go to checkout\",\n            extra_trigger: '#cart_products input.js_quantity:propValue(1)',\n            trigger: 'a[href*=\"/shop/checkout\"]',\n        },\n        {\n            content: \"Check Free Delivery value to be zero\",\n            extra_trigger: '#delivery_carrier label:containsExact(\"Delivery Now Free Over 10\")',\n            trigger: \"#delivery_carrier span:contains('0.0')\"\n        },\n        // Part 2: check multiple delivery & price loaded asynchronously\n        {\n            content: \"Ensure price was loaded asynchronously\",\n            extra_trigger: '#delivery_carrier input[name=\"delivery_type\"]:checked',\n            trigger: '#delivery_method .o_delivery_carrier_select:contains(\"20.0\"):contains(\"The Poste\")',\n            run: function () {}, // it's a check\n        },\n        {\n            content: \"Select `Wire Transfer` payment method\",\n            trigger: '#payment_method label:contains(\"Wire Transfer\")',\n        },\n        {\n            content: \"Click on Pay Now\",\n            trigger: 'button[name=\"o_payment_submit_button\"]:visible:not(:disabled)',\n        },\n        {\n            content: \"Confirmation page should be shown\",\n            trigger: '#oe_structure_website_sale_confirmation_1',\n            allowInvisible: true,\n            run: function () {}, // it's a check\n        }\n    ]});\n", "/** @odoo-module **/\n\nimport wsTourUtils from 'website_sale.tour_utils';\nimport wTourUtils from 'website.tour_utils';\n\nfunction editAddToCartSnippet() {\n    return [\n        ...wTourUtils.clickOnEditAndWaitEditMode(),\n        wTourUtils.clickOnSnippet({id: 's_add_to_cart'})\n    ]\n}\n\nwTourUtils.registerWebsitePreviewTour('add_to_cart_snippet_tour', {\n        url: '/',\n        edition: true,\n        test: true,\n    },\n    [\n        wTourUtils.dragNDrop({name: 'Add to Cart Button'}),\n\n        // Basic product with no variants\n        wTourUtils.clickOnSnippet({id: 's_add_to_cart'}),\n        ...wTourUtils.selectElementInWeSelectWidget('product_template_picker_opt', 'Acoustic Bloc Screens', true),\n        ...wTourUtils.clickOnSave(),\n        wTourUtils.clickOnElement('add to cart button', 'iframe .s_add_to_cart_btn'),\n\n        // Product with 2 variants with visitor choice (will open modal)\n        ...editAddToCartSnippet(),\n        ...wTourUtils.selectElementInWeSelectWidget('product_template_picker_opt', 'Conference Chair', true),\n        ...wTourUtils.clickOnSave(),\n        wTourUtils.clickOnElement('add to cart button', 'iframe .s_add_to_cart_btn'),\n        wTourUtils.clickOnElement('continue shopping', 'iframe span:contains(Continue Shopping)'),\n\n        // Product with 2 variants with a variant selected\n        ...editAddToCartSnippet(),\n        ...wTourUtils.selectElementInWeSelectWidget('product_template_picker_opt', 'Conference Chair', true),\n        ...wTourUtils.selectElementInWeSelectWidget('product_variant_picker_opt', 'Conference Chair (Aluminium)'),\n        ...wTourUtils.clickOnSave(),\n        wTourUtils.clickOnElement('add to cart button', 'iframe .s_add_to_cart_btn'),\n\n        // Basic product with no variants and action=buy now\n        ...editAddToCartSnippet(),\n        ...wTourUtils.selectElementInWeSelectWidget('product_template_picker_opt', 'Acoustic Bloc Screens', true),\n        ...wTourUtils.selectElementInWeSelectWidget('action_picker_opt', 'Buy Now'),\n        ...wTourUtils.clickOnSave(),\n        wTourUtils.clickOnElement('add to cart button', 'iframe .s_add_to_cart_btn'),\n        wTourUtils.assertPathName('/shop/payment', 'iframe a.btn[href=\"/shop/cart\"]'),\n\n        wsTourUtils.goToCart({quantity: 4, backend: true}),\n        wsTourUtils.assertCartContains({productName: 'Acoustic Bloc Screens', backend: true}),\n        wsTourUtils.assertCartContains({productName: 'Conference Chair (Steel)', backend: true}),\n        wsTourUtils.assertCartContains({productName: 'Conference Chair (Aluminium)', backend: true}),\n    ],\n);\n", "/** @odoo-module alias=website_sale.tour **/\n\nimport { registry } from \"@web/core/registry\";\nimport tourUtils from \"website_sale.tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('shop_buy_product', {\n    test: true,\n    url: '/shop',\n    steps: () => [\n        {\n            content: \"search conference chair\",\n            trigger: 'form input[name=\"search\"]',\n            run: \"text conference chair\",\n        },\n        {\n            content: \"search conference chair\",\n            trigger: 'form:has(input[name=\"search\"]) .oe_search_button',\n        },\n        {\n            content: \"select conference chair\",\n            trigger: '.oe_product_cart:first a:contains(\"Conference Chair\")',\n        },\n        {\n            content: \"select Conference Chair Aluminium\",\n            extra_trigger: '#product_detail',\n            trigger: 'label:contains(Aluminium) input',\n        },\n        {\n            content: \"select Conference Chair Steel\",\n            extra_trigger: '#product_detail',\n            trigger: 'label:contains(Steel) input',\n        },\n        {\n            id: 'add_cart_step',\n            content: \"click on add to cart\",\n            extra_trigger: 'label:contains(Steel) input:propChecked',\n            trigger: '#product_detail form[action^=\"/shop/cart/update\"] #add_to_cart',\n        },\n            tourUtils.goToCart(),\n        {\n            content: \"add suggested\",\n            extra_trigger: '#wrap:not(:has(#cart_products:contains(\"Storage Box\")))',\n            trigger: '.oe_cart:has(tr:contains(\"Storage Box\")) a:contains(\"Add to Cart\")',\n        },\n        {\n            content: \"add one more\",\n            extra_trigger: '#cart_products tr:contains(\"Storage Box\")',\n            trigger: '#cart_products tr:contains(\"Steel\") a.js_add_cart_json:eq(1)',\n        },\n        {\n            content: \"remove Storage Box\",\n            extra_trigger: '#cart_products tr:contains(\"Steel\") input.js_quantity:propValue(2)',\n            trigger: '#cart_products tr:contains(\"Storage Box\") a.js_add_cart_json:first',\n        },\n        {\n            content: \"set one\",\n            extra_trigger: '#wrap:not(:has(#cart_products tr:contains(\"Storage Box\")))',\n            trigger: '#cart_products input.js_quantity',\n            run: 'text 1',\n        },\n        {\n            content: \"go to checkout\",\n            extra_trigger: '#cart_products input.js_quantity:propValue(1)',\n            trigger: 'a[href*=\"/shop/checkout\"]',\n        },\n        {\n            content: \"select payment\",\n            trigger: '#payment_method label:contains(\"Wire Transfer\")',\n        },\n        {\n            content: \"Pay Now\",\n            //Either there are multiple payment methods, and one is checked, either there is only one, and therefore there are no radio inputs\n            extra_trigger: '#payment_method label:contains(\"Wire Transfer\") input:checked,#payment_method:not(:has(\"input:radio:visible\"))',\n            trigger: 'button[name=\"o_payment_submit_button\"]:visible:not(:disabled)',\n        },\n        {\n            content: \"finish\",\n            trigger: '.oe_website_sale:contains(\"Please use the following transfer details\")',\n            // Leave /shop/confirmation to prevent RPC loop to /shop/payment/get_status.\n            // The RPC could be handled in python while the tour is killed (and the session), leading to crashes\n            run: function () {\n                window.location.href = '/contactus'; // Redirect in JS to avoid the RPC loop (20x1sec)\n            },\n            timeout: 30000,\n        },\n        {\n            content: \"wait page loaded\",\n            trigger: 'h1:contains(\"Contact us\")',\n            run: function () {}, // it's a check\n        },\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport wTourUtils from 'website.tour_utils';\n\nregistry.category(\"web_tour.tours\").add('website_sale_cart_popover_tour', {\n        test: true,\n        url: '/shop',\n        steps: () => [\n        {\n            content: \"Search for the product\",\n            trigger: 'form input[name=\"search\"]',\n            run: 'text website_sale_cart_popover_tour_product'\n        },\n        wTourUtils.clickOnElement('Search', 'form:has(input[name=\"search\"]) .oe_search_button'),\n        wTourUtils.clickOnElement('website_sale_cart_popover_tour_product', 'a:contains(website_sale_cart_popover_tour_product)'),\n        wTourUtils.clickOnElement('Add to Cart', '#product_detail form[action^=\"/shop/cart/update\"] #add_to_cart'),\n        {\n            content: \"hover on cart popover\",\n            trigger: '#top_menu a[href$=\"/shop/cart\"]',\n            run: () => {\n                $('#top_menu a[href$=\"/shop/cart\"]').mouseenter();\n            },\n        },\n        {\n            content: \"check that popover is visible\",\n            trigger: '.mycart-popover:visible',\n            run: () => {},\n        },\n        // Trigger mouseleave to close the popover\n        {\n            content: \"hover on cart popover\",\n            trigger: '#top_menu a[href$=\"/shop/cart\"]',\n            run: () => {\n                $('#top_menu a[href$=\"/shop/cart\"]').mouseleave();\n            },\n        },\n        // Check that popover is not visible\n        {\n            content: \"check that popover is not visible\",\n            trigger: ':not(.mycart-popover:visible)',\n            run: () => {},\n        },\n    ]\n});\n", "/** @odoo-modules */\n\nimport wTourUtils from 'website.tour_utils';\nimport { registry } from \"@web/core/registry\";\n\nconst PRODUCT_CATEGORY_ID = 2;\n\nwTourUtils.registerWebsitePreviewTour('category_page_and_products_snippet_edition', {\n    test: true,\n    url: `/shop/category/${PRODUCT_CATEGORY_ID}`,\n    edition: true,\n}, [\n    Object.assign(wTourUtils.dragNDrop({id: 's_dynamic_snippet_products', name: 'Products'}), {\n        content: \"Drag and drop the product snippet inside the category area\",\n        run: 'drag_and_drop iframe #category_header',\n    }),\n    {\n        content: \"Click on the product snippet to show its options\",\n        trigger: 'iframe #category_header .s_dynamic_snippet_products',\n    },\n    {\n        content: \"Open category option dropdown\",\n        trigger: 'we-select[data-attribute-name=\"productCategoryId\"] we-toggler',\n    },\n    {\n        content: \"Choose the option to use the current page's category\",\n        trigger: 'we-button[data-select-data-attribute=\"current\"]',\n    },\n    ...wTourUtils.clickOnSave(),\n]);\n\nregistry.category(\"web_tour.tours\").add('category_page_and_products_snippet_use', {\n    test: true,\n    url: `/shop/category/${PRODUCT_CATEGORY_ID}`,\n    steps: () => [\n    {\n        content: \"Check that the snippet displays the right products\",\n        // Wait for at least one shown product\n        trigger: '#category_header .s_dynamic_snippet_products:has(.o_carousel_product_img_link)',\n        run: function (actions) {\n            // Note: this could be more robust to not rely on demo data and\n            // make sure that the newest products are not by chance all of\n            // the second category (used for the test) and ... but should be ok.\n            const productGridEl = this.$anchor[0].closest('#products_grid');\n            const regex = new RegExp(`^/shop/[\\\\w-/]+-(\\\\d+)\\\\?category=${PRODUCT_CATEGORY_ID}$`);\n            const allPageProductIDs = [...productGridEl.querySelectorAll('.oe_product_image_link')]\n                .map(el => el.getAttribute('href').match(regex)[1]);\n\n            const $shownProductLinks = this.$anchor.find('.o_carousel_product_img_link');\n            const regex2 = new RegExp(`^/shop/[\\\\w-/]+-(\\\\d+)(?:#attr=\\\\d*)?$`);\n            for (const shownProductLinkEl of $shownProductLinks) {\n                const productID = shownProductLinkEl.getAttribute('href').match(regex2)[1];\n                if (!allPageProductIDs.includes(productID)) {\n                    console.error(`The snippet displays a product (${productID}) which does not belong to the current category (${allPageProductIDs})`);\n                }\n            }\n        },\n    },\n]});\n", "/** @odoo-module **/\n    \n    import { registry } from \"@web/core/registry\";\n    import rpc from \"web.rpc\";\n    import tourUtils from \"website_sale.tour_utils\";\n\n    registry.category(\"web_tour.tours\").add('website_sale_tour_1', {\n        test: true,\n        checkDelay: 250,\n        url: '/shop?search=Storage Box Test',\n        steps: () => [\n    // Testing b2c with Tax-Excluded Prices\n    {\n        content: \"Open product page\",\n        trigger: '.oe_product_cart a:contains(\"Storage Box Test\")',\n    },\n    {\n        content: \"Add one more storage box\",\n        trigger: '.js_add_cart_json:eq(1)',\n    },\n    {\n        content: \"Check b2b Tax-Excluded Prices\",\n        trigger: '.product_price .oe_price .oe_currency_value:containsExact(79.00)',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Click on add to cart\",\n        trigger: '#add_to_cart',\n    },\n        tourUtils.goToCart({quantity: 2}),\n    {\n        content: \"Check for 2 products in cart and proceed to checkout\",\n        extra_trigger: '#cart_products tr:contains(\"Storage Box Test\") input.js_quantity:propValue(2)',\n        trigger: 'a[href*=\"/shop/checkout\"]',\n    },\n    {\n        content: \"Check Price b2b subtotal\",\n        trigger: 'tr#order_total_untaxed .oe_currency_value:containsExact(158.00)',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Check Price b2b Sale Tax(15%)\",\n        trigger: 'tr#order_total_taxes .oe_currency_value:containsExact(23.70)',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Check Price b2b Total amount\",\n        trigger: 'tr#order_total .oe_currency_value:containsExact(181.70)',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Fulfill billing address form\",\n        trigger: 'select[name=\"country_id\"]',\n        run: function () {\n            $('input[name=\"name\"]').val('abc');\n            $('input[name=\"phone\"]').val('99999999');\n            $('input[name=\"email\"]').val('abc@odoo.com');\n            $('input[name=\"street\"]').val('SO1 Billing Street, 33');\n            $('input[name=\"city\"]').val('SO1BillingCity');\n            $('input[name=\"zip\"]').val('10000');\n            $('#country_id option:eq(1)').attr('selected', true);\n        },\n    },\n    {\n        content: \"Shipping address is not same as billing address\",\n        trigger: '#shipping_use_same',\n    },\n    {\n        content: \"Click on next button\",\n        trigger: '.oe_cart .btn:contains(\"Next\")',\n    },\n    {\n        content: \"Fulfill shipping address form\",\n        trigger: 'select[name=\"country_id\"]',\n        extra_trigger: 'h2:contains(\"Shipping Address\")',\n        run: function () {\n            $('input[name=\"name\"]').val('def');\n            $('input[name=\"phone\"]').val('8888888888');\n            $('input[name=\"street\"]').val('17, SO1 Shipping Road');\n            $('input[name=\"city\"]').val('SO1ShippingCity');\n            $('input[name=\"zip\"]').val('10000');\n            $('#country_id option:eq(1)').attr('selected', true);\n        },\n    },\n    {\n        content: \"Click on next button\",\n        trigger: '.oe_cart .btn:contains(\"Next\")',\n    },\n    {\n        content: \"Check selected billing address is same as typed in previous step\",\n        trigger: '#shipping_and_billing:contains(SO1 Billing Street, 33):contains(SO1BillingCity):contains(Afghanistan)',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Check selected shipping address is same as typed in previous step\",\n        trigger: '#shipping_and_billing:contains(17, SO1 Shipping Road):contains(SO1ShippingCity):contains(Afghanistan)',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Click for edit address\",\n        trigger: 'a:contains(\"Edit\") i',\n    },\n    {\n        content: \"Click for edit billing address\",\n        trigger: '.js_edit_address:first',\n    },\n    {\n        content: \"Change billing address form\",\n        trigger: 'select[name=\"country_id\"]',\n        extra_trigger: 'h2:contains(\"Your Address\")',\n        run: function () {\n            $('input[name=\"name\"]').val('abcd');\n            $('input[name=\"phone\"]').val('11111111');\n            $('input[name=\"street\"]').val('SO1 Billing Street Edited, 33');\n            $('input[name=\"city\"]').val('SO1BillingCityEdited');\n        },\n    },\n    {\n        content: \"Click on next button\",\n        trigger: '.oe_cart .btn:contains(\"Next\")',\n    },\n    {\n        content: \"Confirm Address\",\n        trigger: 'a.btn:contains(\"Confirm\")',\n    },\n    {\n        content: \"Check selected billing address is same as typed in previous step\",\n        trigger: '#shipping_and_billing:contains(SO1 Billing Street Edited, 33):contains(SO1BillingCityEdited):contains(Afghanistan)',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Select `Wire Transfer` payment method\",\n        trigger: '#payment_method label:contains(\"Wire Transfer\")',\n    },\n    {\n        content: \"Pay Now\",\n        // extra_trigger: '#payment_method label:contains(\"Wire Transfer\") input:checked,#payment_method:not(:has(\"input:radio:visible\"))',\n        trigger: 'button[name=\"o_payment_submit_button\"]:visible:not(:disabled)',\n    },\n    {\n        content: \"Sign up\",\n        trigger: '.oe_cart a:contains(\"Sign Up\")',\n    },\n    {\n        content: \"Submit login\",\n        trigger: '.oe_signup_form',\n        run: function () {\n            $('.oe_signup_form input[name=\"password\"]').val(\"1admin@admin\");\n            $('.oe_signup_form input[name=\"confirm_password\"]').val(\"1admin@admin\");\n            $('.oe_signup_form').submit();\n        },\n    },\n    {\n        content: \"See Quotations\",\n        trigger: '.o_portal_docs a:contains(\"Quotations\")',\n    },\n    // Sign in as admin change config auth_signup -> b2b, sale_show_tax -> total and Logout\n    {\n        content: \"Open Dropdown for logout\",\n        extra_trigger: \".o_header_standard:not(.o_transitioning)\",\n        trigger: '#top_menu li.dropdown:visible a:contains(\"abcd\")',\n    },\n    {\n        content: \"Logout\",\n        trigger: '#o_logout:contains(\"Logout\")',\n    },\n    {\n        content: \"Sign in as admin\",\n        trigger: 'header a[href=\"/web/login\"]',\n    },\n    {\n        content: \"Submit login\",\n        trigger: '.oe_login_form',\n        run: function () {\n            $('.oe_login_form input[name=\"login\"]').val(\"admin\");\n            $('.oe_login_form input[name=\"password\"]').val(\"admin\");\n            $('.oe_login_form input[name=\"redirect\"]').val(\"/\");\n            $('.oe_login_form').submit();\n        },\n    },\n    {\n        content: \"Configuration Settings for 'Tax Included' and sign up 'On Invitation'\",\n        extra_trigger: '.o_frontend_to_backend_nav', // Check if the user is connected\n        trigger: '#wrapwrap',\n        run: function () {\n            var def1 = rpc.query({\n                model: 'res.config.settings',\n                method: 'create',\n                args: [{\n                    'auth_signup_uninvited': 'b2b',\n                    'show_line_subtotals_tax_selection': 'tax_included',\n                }],\n            });\n            var def2 = def1.then(function (resId) {\n                return rpc.query({\n                    model: 'res.config.settings',\n                    method: 'execute',\n                    args: [[resId]],\n                });\n            });\n            def2.then(function () {\n                window.location.href = '/web/session/logout?redirect=/shop?search=Storage Box Test';\n            });\n        },\n    },\n    // Testing b2b with Tax-Included Prices\n    {\n        content: \"Open product page\",\n        trigger: '.oe_product_cart a:contains(\"Storage Box Test\")',\n    },\n    {\n        content: \"Add one more Storage Box Test\",\n        trigger: '.js_add_cart_json:eq(1)',\n    },\n    {\n        content: \"Check b2c Tax-Included Prices\",\n        trigger: '.product_price .oe_price .oe_currency_value:containsExact(90.85)',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Click on add to cart\",\n        trigger: '#add_to_cart',\n    },\n        tourUtils.goToCart({quantity: 2}),\n    {\n        content: \"Check for 2 products in cart and proceed to checkout\",\n        extra_trigger: '#cart_products tr:contains(\"Storage Box Test\") input.js_quantity:propValue(2)',\n        trigger: 'a[href*=\"/shop/checkout\"]',\n    },\n    {\n        content: \"Check Price b2c total\",\n        trigger: 'tr#order_total_untaxed .oe_currency_value:containsExact(158.00)',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Check Price b2c Sale Tax(15%)\",\n        trigger: 'tr#order_total_taxes .oe_currency_value:containsExact(23.70)',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Check Price b2c Total amount\",\n        trigger: 'tr#order_total .oe_currency_value:containsExact(181.70)',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Click on Sign in Button\",\n        trigger: '.oe_cart a:contains(\" Sign in\")',\n    },\n    {\n        content: \"Submit login\",\n        trigger: '.oe_login_form',\n        run: function () {\n            $('.oe_login_form input[name=\"login\"]').val(\"abc@odoo.com\");\n            $('.oe_login_form input[name=\"password\"]').val(\"1admin@admin\");\n            $('.oe_login_form').submit();\n        },\n    },\n    {\n        content: \"Add new shipping address\",\n        trigger: '.one_kanban form[action^=\"/shop/address\"] .btn',\n    },\n    {\n        content: \"Fulfill shipping address form\",\n        trigger: 'select[name=\"country_id\"]',\n        run: function () {\n            $('input[name=\"name\"]').val('ghi');\n            $('input[name=\"phone\"]').val('7777777777');\n            $('input[name=\"street\"]').val('SO2New Shipping Street, 5');\n            $('input[name=\"city\"]').val('SO2NewShipping');\n            $('input[name=\"zip\"]').val('1200');\n            $('#country_id option:eq(1)').attr('selected', true);\n        },\n    },\n    {\n        content: \"Click on next button\",\n        trigger: '.oe_cart .btn:contains(\"Next\")',\n    },\n    {\n        content: \"Select `Wire Transfer` payment method\",\n        trigger: '#payment_method label:contains(\"Wire Transfer\")',\n    },\n    {\n        content: \"Pay Now\",\n        extra_trigger: '#payment_method label:contains(\"Wire Transfer\") input:checked,#payment_method:not(:has(\"input:radio:visible\"))',\n        trigger: 'button[name=\"o_payment_submit_button\"]:visible:not(:disabled)',\n    },\n    {\n        content: \"Open Dropdown for See quotation\",\n        extra_trigger: '.oe_cart .oe_website_sale_tx_status',\n        trigger: '#top_menu li.dropdown:visible a:contains(\"abc\")',\n    },\n    {\n        content: \"My account\",\n        extra_trigger: '#top_menu li.dropdown .js_usermenu.show',\n        trigger: '#top_menu .dropdown-menu a[href=\"/my/home\"]:visible',\n    },\n    {\n        content: \"See Quotations\",\n        trigger: '.o_portal_docs a:contains(\"Quotations\") .badge:containsExact(2)',\n    },\n\n    // enable extra step on website checkout and check extra step on checkout process\n    {\n        content: \"Open Dropdown for logout\",\n        extra_trigger: \".o_header_standard:not(.o_transitioning)\",\n        trigger: '#top_menu li.dropdown:visible a:contains(\"abc\")',\n    },\n    {\n        content: \"Logout\",\n        trigger: '#o_logout:contains(\"Logout\")',\n    },\n    {\n        content: \"Sign in as admin\",\n        trigger: 'header a[href=\"/web/login\"]',\n    },\n    {\n        content: \"Submit login\",\n        trigger: '.oe_login_form',\n        run: function () {\n            $('.oe_login_form input[name=\"login\"]').val(\"admin\");\n            $('.oe_login_form input[name=\"password\"]').val(\"admin\");\n            $('.oe_login_form input[name=\"redirect\"]').val(\"/shop/cart\");\n            $('.oe_login_form').submit();\n        },\n    }]});\n\n    registry.category(\"web_tour.tours\").add('website_sale_tour_2', {\n        test: true,\n        url: '/shop/cart',\n        steps: () => [\n    {\n        content: \"Open Dropdown for logout\",\n        extra_trigger: '.progress-wizard-step:contains(\"Extra Info\")',\n        trigger: '#top_menu li.dropdown:visible a:contains(\"Mitchell Admin\")',\n    },\n    {\n        content: \"Logout\",\n        trigger: '#o_logout:contains(\"Logout\")',\n    },\n    {\n        content: \"Sign in as abc\",\n        trigger: 'header a[href=\"/web/login\"]',\n    },\n    {\n        content: \"Submit login\",\n        trigger: '.oe_login_form',\n        run: function () {\n            $('.oe_login_form input[name=\"login\"]').val(\"abc@odoo.com\");\n            $('.oe_login_form input[name=\"password\"]').val(\"1admin@admin\");\n            $('.oe_login_form input[name=\"redirect\"]').val(\"/shop?search=Storage Box Test\");\n            $('.oe_login_form').submit();\n        },\n    },\n    {\n        content: \"Open product page\",\n        trigger: '.oe_product_cart a:contains(\"Storage Box Test\")',\n    },\n    {\n        content: \"Click on add to cart\",\n        trigger: '#add_to_cart',\n    },\n        tourUtils.goToCart(),\n    {\n        content: \"Proceed to checkout\",\n        trigger: 'a[href*=\"/shop/checkout\"]',\n    },\n    {\n        content: \"Click on next button\",\n        trigger: '.oe_cart .btn:contains(\"Next\")',\n    },\n    {\n        content: \"Check selected billing address is same as typed in previous step\",\n        trigger: '#shipping_and_billing:contains(SO1 Billing Street Edited, 33):contains(SO1BillingCityEdited):contains(Afghanistan)',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Check selected shipping address is same as typed in previous step\",\n        trigger: '#shipping_and_billing:contains(SO2New Shipping Street, 5):contains(SO2NewShipping):contains(Afghanistan)',\n        run: function () {}, // it's a check\n    },\n    {\n        content: \"Select `Wire Transfer` payment method\",\n        trigger: '#payment_method label:contains(\"Wire Transfer\")',\n    },\n    {\n        content: \"Pay Now\",\n        extra_trigger: '#payment_method label:contains(\"Wire Transfer\") input:checked,#payment_method:not(:has(\"input:radio:visible\"))',\n        trigger: 'button[name=\"o_payment_submit_button\"]:visible',\n    }]});\n", "/** @odoo-module **/\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('website_sale_tour_backend', {\n    test: true,\n    url: '/shop/cart',\n    edition: true,\n}, [\n        {\n            content: \"open customize tab\",\n            trigger: '.o_we_customize_snippet_btn',\n        },\n        {\n            content: \"Enable Extra step\",\n            extra_trigger: '#oe_snippets .o_we_customize_panel',\n            trigger: '[data-customize-website-views=\"website_sale.extra_info_option\"] we-checkbox',\n        },\n        ...wTourUtils.clickOnSave(),\n    ],\n);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('website_sale_fiscal_position_portal_tour', {\n    test: true,\n    url: '/shop?search=Super%20Product',\n    steps: () => [\n        {\n            content: \"Check price\",\n            trigger: \".oe_product:contains('Super product') .product_price:contains('80.00')\",\n            run: function() {} // Check\n        },\n]});\n\nregistry.category(\"web_tour.tours\").add('website_sale_fiscal_position_public_tour', {\n    test: true,\n    url: '/shop?search=Super%20Product',\n    steps: () => [\n        {\n            content: \"Toggle Pricelist\",\n            trigger: \".o_pricelist_dropdown > .dropdown-toggle\",\n            run: 'click',\n        },\n        {\n            content: \"Change Pricelist\",\n            trigger: \".dropdown-item:contains('EUROPE EUR')\",\n            run: 'click',\n        },\n        {\n            content: \"Check price\",\n            trigger: \".oe_product:contains('Super product') .product_price:contains('92.00')\",\n            run: function() {} // Check\n        },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport websiteSaleTracking from \"website_sale.tracking\";\n\nlet itemId;\n\nwebsiteSaleTracking.include({\n    // Purposely don't call super to avoid call to third party (GA) during tests\n    _onViewItem(event, data) {\n        $('body').attr('view-event-id', data.item_id);\n    },\n    _onAddToCart(event, data) {\n        $('body').attr('cart-event-id', data.item_id);\n    },\n});\n\nregistry.category(\"web_tour.tours\").add('google_analytics_view_item', {\n    test: true,\n    url: '/shop?search=Customizable Desk',\n    steps: () => [\n    {\n        content: \"select customizable desk\",\n        trigger: '.oe_product_cart a:contains(\"Customizable Desk\")',\n    },\n    {\n        content: \"wait until `_getCombinationInfo()` rpc is done\",\n        trigger: 'body[view-event-id]',\n        timeout: 25000,\n        run: () => {\n            const $body = $('body');\n            itemId = $body.attr('view-event-id');\n            $body.removeAttr('view-event-id');\n        }\n    },\n    {\n        content: 'select another variant',\n        extra_trigger: 'body:not([view-event-id])',\n        trigger: 'ul.js_add_cart_variants ul.list-inline li:has(label.active) + li:has(label) input',\n    },\n    {\n        content: 'wait until `_getCombinationInfo()` rpc is done (2)',\n        // a new view event should have been generated, for another variant\n        trigger: `body[view-event-id][view-event-id!=${itemId}]`,\n        timeout: 25000,\n        run: () => {}, // it's a check\n    },\n]});\n\nregistry.category(\"web_tour.tours\").add('google_analytics_add_to_cart', {\n    test: true,\n    url: '/shop?search=Acoustic Bloc Screens',\n    steps: () => [\n    {\n        content: \"select Acoustic Bloc Screens\",\n        trigger: '.oe_product_cart a:contains(\"Acoustic Bloc Screens\")',\n    },\n    {\n        content: \"click add to cart button on product page\",\n        trigger: '#add_to_cart',\n    },\n    {\n        content: 'check add to cart event',\n        extra_trigger: 'body[cart-event-id]',\n        trigger: 'a:has(.my_cart_quantity:containsExact(1))',\n        timeout: 25000,\n        run: () => {}, // it's a check\n    },\n]});\n", "/** @odoo-module **/\n\nimport wTourUtils from \"website.tour_utils\";\n\nconst clickOnImgAndWaitForLoad = [\n    {\n        content: \"Click on the product image\",\n        trigger: \"iframe #o-carousel-product img[alt='Test Remove Image']\",\n    },\n    {\n        content: \"Check that the snippet editor of the clicked image has been loaded\",\n        trigger: \"we-customizeblock-options:has(we-title:contains('Re-order'))\",\n        run: () => null,\n    },\n];\nconst enterEditModeOfTestProduct = [\n    {\n        content: \"Click on the product anchor\",\n        trigger: \"iframe a:contains('Test Remove Image')\",\n    },\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n];\n\nconst removeImg = [\n    {\n        content: \"Click on Remove\",\n        trigger: \"we-customizeblock-options:has(we-title:contains('Image')) we-button[data-name='media_wsale_remove']\",\n    },\n    // If the snippet editor is not visible, the remove process is considered as\n    // finished.\n    {\n        content: \"Check that the snippet editor is not visible\",\n        trigger: \".o_we_customize_panel:not(:has(we-customizeblock-options:has(we-title:contains('Re-order'))))\",\n        run: () => null,\n    },\n];\n\nwTourUtils.registerWebsitePreviewTour(\"add_and_remove_main_product_image_no_variant\", {\n    url: \"/shop?search=Test Remove Image\",\n    test: true,\n}, [\n    ...enterEditModeOfTestProduct,\n    {\n        content: \"Double click on the product image\",\n        trigger: \"iframe #o-carousel-product img[alt='Test Remove Image']\",\n        run: \"dblclick\",\n    },\n    {\n        content: \"Click on the new image\",\n        trigger: \".o_select_media_dialog img[title='s_default_image.jpg']\",\n    },\n    {\n        content: \"Check that the snippet editor of the clicked image has been loaded\",\n        trigger: \"we-customizeblock-options:has(we-title:contains('Re-order'))\",\n        run: () => null,\n    },\n    ...removeImg,\n]);\nwTourUtils.registerWebsitePreviewTour(\"remove_main_product_image_with_variant\", {\n    url: \"/shop?search=Test Remove Image\",\n    test: true,\n}, [\n    ...enterEditModeOfTestProduct,\n    ...clickOnImgAndWaitForLoad,\n    ...wTourUtils.clickOnSave(),\n    ...wTourUtils.clickOnEditAndWaitEditMode(),\n    ...clickOnImgAndWaitForLoad,\n    ...removeImg,\n]);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport wsTourUtils from 'website_sale.tour_utils';\nimport wTourUtils from 'website.tour_utils';\n\nregistry.category(\"web_tour.tours\").add('website_sale_reorder_from_portal', {\n        test: true,\n        url: '/my/orders',\n        steps: () => [\n        // Initial reorder, nothing in cart\n        {\n            content: 'Select first order',\n            trigger: '.o_portal_my_doc_table a:first',\n        },\n        wTourUtils.clickOnElement('Reorder Again', '.o_wsale_reorder_button'),\n        wTourUtils.clickOnElement('Confirm', '.o_wsale_reorder_confirm'),\n        wsTourUtils.assertCartContains({productName: 'Reorder Product 1'}),\n        wsTourUtils.assertCartContains({productName: 'Reorder Product 2'}),\n        {\n            content: \"Check that quantity is 1\",\n            trigger: \".js_quantity[value='1']\",\n        },\n        // Second reorder, add reorder to cart\n        {\n            content: \"Go back to my orders\",\n            trigger: \"body\",\n            run: () => {\n                window.location = \"/my/orders\";\n            }\n        },\n        {\n            content: 'Select first order',\n            trigger: '.o_portal_my_doc_table a:first',\n        },\n        wTourUtils.clickOnElement('Reorder Again', '.o_wsale_reorder_button'),\n        wTourUtils.clickOnElement('Confirm', '.o_wsale_reorder_confirm'),\n        wTourUtils.clickOnElement('No', 'button:contains(No)'),\n        wsTourUtils.assertCartContains({productName: 'Reorder Product 1'}),\n        wsTourUtils.assertCartContains({productName: 'Reorder Product 2'}),\n        {\n            content: \"Check that quantity is 2\",\n            trigger: \".js_quantity[value='2']\",\n        },\n        // Third reorder, clear cart and reorder\n        {\n            content: \"Go back to my orders\",\n            trigger: \"body\",\n            run: () => {\n                window.location = \"/my/orders\";\n            }\n        },\n        {\n            content: 'Select first order',\n            trigger: '.o_portal_my_doc_table a:first',\n        },\n        wTourUtils.clickOnElement('Reorder Again', '.o_wsale_reorder_button'),\n        wTourUtils.clickOnElement('Confirm', '.o_wsale_reorder_confirm'),\n        wTourUtils.clickOnElement('Yes', 'button:contains(Yes)'),\n        wsTourUtils.assertCartContains({productName: 'Reorder Product 1'}),\n        wsTourUtils.assertCartContains({productName: 'Reorder Product 2'}),\n        {\n            content: \"Check that quantity is 1\",\n            trigger: \".js_quantity[value='1']\",\n        },\n    ]\n});\n", "/** @odoo-modules */\n\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('website_sale_restricted_editor_ui', {\n    test: true,\n    url: `/shop`,\n}, [\n    {\n        content: \"Open the site menu to check what is inside\",\n        trigger: '[data-menu-xmlid=\"website.menu_site\"]',\n    },\n    {\n        // Not very robust but still nice to have an extra check as this is the\n        // main purpose of this tour\n        content: \"First check the user is not a designer\",\n        trigger: '.dropdown-menu:has([data-menu-xmlid=\"website_sale.menu_product_pages\"]):not(:has([data-menu-xmlid=\"website.menu_website_pages_list\"]))',\n    },\n    {\n        content: \"Ensure the publish and 'edit-in-backend' buttons are not shown\",\n        trigger: '.o_menu_systray:not(:has(.o_switch_danger_success)):not(:has(.o_website_edit_in_backend))',\n        // Wait for the possibility to edit to appear\n        extra_trigger: '.o_menu_systray .o_edit_website_container a',\n    },\n    {\n        content: \"Navigate to the first product\",\n        trigger: 'iframe .oe_product_image_link',\n    },\n    {\n        content: \"Click on publish/unpublish\",\n        trigger: '.o_menu_systray_item .o_switch_danger_success:has(input:checked)',\n    },\n    {\n        content: \"Click on edit-in-backend\",\n        trigger: '.o_menu_systray .o_website_edit_in_backend a',\n        extra_trigger: '.o_menu_systray_item:not([data-processing]) .o_switch_danger_success:has(input:not(:checked))',\n    },\n    {\n        content: \"Check that you landed on a form view and that the record was unpublished\",\n        trigger: '.o-form-buttonbox [name=\"is_published\"] .fa-globe.text-danger',\n        run: () => {},\n    },\n]);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nfunction fail(errorMessage) {\n    const tour = registry.get(\"tourManager\");\n    tour._consume_tour(tour.running_tour, errorMessage);\n}\n\nfunction assert(current, expected, info) {\n    if (current !== expected) {\n        fail(info + ': \"' + current + '\" instead of \"' + expected + '\".');\n    }\n}\n\nregistry.category(\"web_tour.tours\").add('tour_shop_archived_variant_multi', {\n    test: true,\n    url: '/shop?search=Test Product 2',\n    steps: () => [\n    {\n        content: \"select Test Product\",\n        trigger: '.oe_product_cart a:containsExact(\"Test Product 2\")',\n    },\n    {\n        content: 'click on the first variant',\n        trigger: 'input[data-attribute_name=\"Size\"][data-value_name=\"Small\"]',\n    },\n    {\n        content: \"click on the second variant\",\n        trigger: 'input[data-attribute_name=\"Color\"][data-value_name=\"Black\"]',\n    },\n    {\n        content: \"Check that brand b is not available and select it\",\n        trigger: '.css_not_available input[data-attribute_name=\"Brand\"][data-value_name=\"Brand B\"]',\n    },\n    {\n        content: \"check combination is not possible\",\n        trigger: '.js_main_product.css_not_available .css_not_available_msg:contains(\"This combination does not exist.\")'\n    },\n    {\n        content: \"check add to cart not possible\",\n        trigger: '#add_to_cart.disabled',\n        run: function () {},\n    },\n    {\n        content: \"change second variant to remove warning\",\n        trigger: 'input[data-attribute_name=\"Color\"][data-value_name=\"White\"]',\n    },\n    {\n        content: \"Check that second variant is disabled\",\n        trigger: '.css_not_available input[data-attribute_name=\"Color\"][data-value_name=\"Black\"]',\n        run: function () {},\n    },\n]});\n\nregistry.category(\"web_tour.tours\").add('test_09_pills_variant', {\n    test: true,\n    url: '/shop?search=Test Product 2',\n    steps: () => [\n    {\n        content: \"select Test Product\",\n        trigger: '.oe_product_cart a:containsExact(\"Test Product 2\")',\n    },\n    {\n        content: \"check there are two radio boxes, both hidden\",\n        trigger: '.js_main_product',\n        run: function() {\n            var buttons = $('input.js_variant_change');\n\n            function isVisuallyHidden(elem) {\n                const style = window.getComputedStyle(elem);\n                return style.display === \"none\" ||\n                    style.visibility === \"hidden\" ||\n                    style.opacity === \"0\" ||\n                    (style.width === \"0px\" && style.height === \"0px\")\n            }\n\n            assert(buttons.length, 2, \"there should be two radio inputs\")\n            assert(isVisuallyHidden(buttons[0]), true, \"first radio input is not hidden\")\n            assert(isVisuallyHidden(buttons[1]), true, \"second radio input is not hidden\")\n            assert(buttons[0].checked, true, \"first radio input should be checked\")\n        },\n    },\n    {\n        content: \"click on the second variant label\",\n        trigger: 'label:contains(\"Small\")',\n    },\n    {\n        content: 'check second variant is selected',\n        trigger: 'li.o_variant_pills.active:contains(\"Small\")',\n        run: function () {\n            var button = $('input.js_variant_change[data-attribute_name=\"Size\"][data-value_name=\"Small\"]');\n            assert(button.length, 1, \"there should be one radio input\")\n            assert(button[0].checked, true, \"the radio input should be checked\")\n        }\n    },\n]});\n", "/** @odoo-module **/\n\nimport localStorage from \"web.local_storage\";\nimport { registry } from \"@web/core/registry\";\nimport tourUtils from \"website_sale.tour_utils\";\n\nvar orderIdKey = 'website_sale.tour_shop_cart_recovery.orderId';\nvar recoveryLinkKey = 'website_sale.tour_shop_cart_recovery.recoveryLink';\n\nregistry.category(\"web_tour.tours\").add('shop_cart_recovery', {\n    test: true,\n    url: '/shop?search=Acoustic Bloc Screens',\n    steps: () => [\n    {\n        content: \"select Acoustic Bloc Screens\",\n        trigger: '.oe_product_cart a:containsExact(\"Acoustic Bloc Screens\")',\n    },\n    {\n        content: \"click add to cart\",\n        trigger: '#product_details #add_to_cart',\n    },\n        tourUtils.goToCart(),\n    {\n        content: \"check product is in cart, get cart id, logout, go to login\",\n        trigger: 'td.td-product_name:contains(\"Acoustic Bloc Screens\")',\n        run: function () {\n            var orderId = $('.my_cart_quantity').data('order-id');\n            localStorage.setItem(orderIdKey, orderId);\n            window.location.href = \"/web/session/logout?redirect=/web/login\";\n        },\n    },\n    {\n        content: \"login as admin and go to the SO (backend)\",\n        trigger: '.oe_login_form',\n        run: function () {\n            var orderId = localStorage.getItem(orderIdKey);\n            var url = \"/web#action=sale.action_orders&view_type=form&id=\" + orderId;\n            var $loginForm = $('.oe_login_form');\n            $loginForm.find('input[name=\"login\"]').val(\"admin\");\n            $loginForm.find('input[name=\"password\"]').val(\"admin\");\n            $loginForm.find('input[name=\"redirect\"]').val(url);\n            $loginForm.submit();\n        },\n    },\n    {\n        content: \"click action\",\n        trigger: '.o_cp_action_menus .dropdown-toggle',\n    },\n    {\n        content: \"click Send a Cart Recovery Email\",\n        trigger: 'span:containsExact(\"Send a Cart Recovery Email\")',\n    },\n    {\n        content: \"click Send email\",\n        trigger: '.btn[name=\"action_send_mail\"]',\n    },\n    {\n        content: \"check the mail is sent, grab the recovery link, and logout\",\n        trigger: '.o-mail-Message-body a:containsExact(\"Resume order\")',\n        run: function () {\n            var link = $('.o-mail-Message-body a:containsExact(\"Resume order\")').attr('href');\n            localStorage.setItem(recoveryLinkKey, link);\n            window.location.href = \"/web/session/logout?redirect=/\";\n        }\n    },\n    {\n        content: \"go to the recovery link\",\n        trigger: 'a[href=\"/web/login\"]',\n        run: function () {\n            window.location.href = localStorage.getItem(recoveryLinkKey);\n        },\n    },\n    {\n        content: \"check the page is working, click on restore\",\n        extra_trigger: 'p:contains(\"This is your current cart\")',\n        trigger: 'p:contains(\"restore\") a:contains(\"Click here\")',\n    },\n    {\n        content: \"check product is in restored cart\",\n        trigger: 'td.td-product_name:contains(\"Acoustic Bloc Screens\")',\n        run: function () {},\n    },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport tourUtils from 'website_sale.tour_utils';\n\nregistry.category(\"web_tour.tours\").add('compare_list_price_price_list_display', {\n        test: true,\n        url: '/shop?search=test_product',\n        steps: () => [\n        tourUtils.assertProductPrice(\"price_reduce\", \"1,000\", \"test_product_default\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"2,000\", \"test_product_with_compare_list_price\"),\n        tourUtils.assertProductPrice(\"base_price\",   \"2,500\", \"test_product_with_compare_list_price\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"2,000\", \"test_product_with_pricelist\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"4,000\", \"test_product_with_pricelist_and_compare_list_price\"),\n        tourUtils.assertProductPrice(\"base_price\",   \"4,500\", \"test_product_with_pricelist_and_compare_list_price\"),\n\n        ...tourUtils.selectPriceList('pricelist_with_discount'),\n\n        tourUtils.assertProductPrice(\"price_reduce\", \"1,000\", \"test_product_default\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"2,000\", \"test_product_with_compare_list_price\"),\n        tourUtils.assertProductPrice(\"base_price\",   \"2,500\", \"test_product_with_compare_list_price\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"1,500\", \"test_product_with_pricelist\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"3,500\", \"test_product_with_pricelist_and_compare_list_price\"),\n        tourUtils.assertProductPrice(\"base_price\",   \"4,500\", \"test_product_with_pricelist_and_compare_list_price\"),\n\n        ...tourUtils.selectPriceList('pricelist_without_discount'),\n\n        tourUtils.assertProductPrice(\"price_reduce\", \"1,000\", \"test_product_default\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"2,000\", \"test_product_with_compare_list_price\"),\n        tourUtils.assertProductPrice(\"base_price\",   \"2,500\", \"test_product_with_compare_list_price\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"1,500\", \"test_product_with_pricelist\"),\n        tourUtils.assertProductPrice(\"base_price\",   \"2,000\", \"test_product_with_pricelist\"),\n        tourUtils.assertProductPrice(\"price_reduce\", \"3,500\", \"test_product_with_pricelist_and_compare_list_price\"),\n        tourUtils.assertProductPrice(\"base_price\",   \"4,500\", \"test_product_with_pricelist_and_compare_list_price\"),\n\n    ]\n});\n", "/** @odoo-module **/\n    \n    import { registry } from \"@web/core/registry\";\n    import tourUtils from \"website_sale.tour_utils\";\n\n    registry.category(\"web_tour.tours\").add(\"shop_custom_attribute_value\", {\n        url: \"/shop?search=Customizable Desk\",\n        test: true,\n        steps: () => [{\n        content: \"click on Customizable Desk\",\n        trigger: '.oe_product_cart a:contains(\"Customizable Desk (TEST)\")',\n    }, {\n        trigger: 'li.js_attribute_value span:contains(Custom TEST)',\n        extra_trigger: 'li.js_attribute_value',\n        run: 'click',\n    }, {\n        trigger: 'input.variant_custom_value',\n        run: 'text Wood',\n    }, {\n        id: 'add_cart_step',\n        trigger: 'a:contains(ADD TO CART)',\n        run: 'click',\n    },\n        tourUtils.goToCart(),\n    {\n        trigger: 'span:contains(Custom TEST: Wood)',\n        extra_trigger: '#cart_products',\n        run: function (){}, // check\n    }]});\n", "/** @odoo-module **/\n\nimport tourUtils from 'website_sale.tour_utils';\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('shop_customize', {\n    url: '/shop',\n    edition: true,\n    test: true,\n},\n    [\n        ...wTourUtils.clickOnSave(),\n        {\n            content: \"select product attribute Steel\",\n            extra_trigger: \"iframe body:not(.editor_enable)\",\n            trigger: 'iframe form.js_attributes input:not(:checked) + label:contains(Steel - Test)',\n        },\n        {\n            content: \"check the selection\",\n            trigger: 'iframe form.js_attributes input:checked + label:contains(Steel - Test)',\n            run: function () {}, // it's a check\n        },\n        {\n            content: \"select product\",\n            extra_trigger: 'iframe body:not(:has(.oe_website_sale .oe_product_cart:eq(3)))',\n            trigger: 'iframe .oe_product_cart a:contains(\"Test Product\")',\n        },\n        {\n            content: \"check list view of variants is disabled initially\",\n            extra_trigger: \"iframe #product_detail\",\n            trigger: 'iframe body:not(:has(.js_product_change))',\n            run: function () {},\n        },\n        ...wTourUtils.clickOnEditAndWaitEditMode(),\n        {\n            content: \"open customize tab\",\n            trigger: '.o_we_customize_snippet_btn',\n        },\n        {\n            content: \"open 'Variants' selector\",\n            extra_trigger: '#oe_snippets .o_we_customize_panel',\n            trigger: '[data-name=\"variants_opt\"] we-toggler',\n        },\n        {\n            content: \"click on 'Products List' of the 'Variants' selector\",\n            trigger: 'we-button[data-name=\"variants_products_list_opt\"]',\n        },\n        ...wTourUtils.clickOnSave(),\n        {\n            context: \"check variant price\",\n            extra_trigger: \"iframe body:not(.editor_enable)\",\n            trigger: 'iframe .form-check:contains(\"Aluminium\") .badge:contains(\"+\") .oe_currency_value:contains(\"50.4\")',\n            run: function () {},\n        },\n        {\n            content: \"check price is 750\",\n            trigger: \"iframe .product_price .oe_price .oe_currency_value:containsExact(750.00)\",\n            run: function () {},\n        },\n        {\n            content: \"switch to another variant\",\n            trigger: \"iframe .js_product label:contains('Aluminium')\",\n        },\n        {\n            content: \"verify that price has changed when changing variant\",\n            trigger: \"iframe .product_price .oe_price .oe_currency_value:containsExact(800.40)\",\n            run: function () {},\n        },\n        ...wTourUtils.clickOnEditAndWaitEditMode(),\n        {\n            content: \"open customize tab\",\n            trigger: '.o_we_customize_snippet_btn',\n        },\n        {\n            content: \"open 'Variants' selector\",\n            extra_trigger: '#oe_snippets .o_we_customize_panel',\n            trigger: '[data-name=\"variants_opt\"] we-toggler',\n        },\n        {\n            content: \"click on 'Options' of the 'Variants' selector\",\n            trigger: 'we-button[data-name=\"variants_options_opt\"]',\n        },\n        ...wTourUtils.clickOnSave(),\n        {\n            content: \"check page loaded after list of variant customization disabled\",\n            extra_trigger: \"iframe body:not(.editor_enable)\",\n            trigger: \"iframe .js_product:not(:has(.js_product_change))\",\n            run: function () {}, // it's a check\n        },\n        {\n            content: \"check price is 750\",\n            trigger: \"iframe .product_price .oe_price .oe_currency_value:containsExact(750.00)\",\n            run: function () {},\n        },\n        {\n            content: \"switch to Aluminium variant\",\n            trigger: 'iframe .js_product input[data-value_name=\"Aluminium\"]',\n        },\n        {\n            content: \"verify that price has changed when changing variant\",\n            trigger: \"iframe .product_price .oe_price .oe_currency_value:containsExact(800.40)\",\n            run: function () {}, // it's a check\n        },\n        {\n            content: \"switch back to Steel variant\",\n            trigger: \"iframe .js_product label:contains('Steel - Test')\",\n        },\n        {\n            content: \"check price is 750\",\n            trigger: \"iframe .product_price .oe_price .oe_currency_value:containsExact(750.00)\",\n            run: function () {},\n        },\n        {\n            content: \"click on 'Add to Cart' button\",\n            trigger: \"iframe a:contains(ADD TO CART)\",\n        },\n        {\n            content: \"check quantity\",\n            trigger: 'iframe .my_cart_quantity:containsExact(1),.o_extra_menu_items .fa-plus',\n            run: function () {}, // it's a check\n        },\n        tourUtils.goToCart({backend: true}),\n        {\n            content: \"click on shop\",\n            trigger: \"iframe a:contains(Continue Shopping)\",\n            extra_trigger: 'iframe body:not(:has(#products_grid_before .js_attributes))',\n        },\n        ...wTourUtils.clickOnEditAndWaitEditMode(),\n        {\n            content: \"open customize tab\",\n            trigger: '.o_we_customize_snippet_btn',\n        },\n        {\n            content: \"remove 'Attributes'\",\n            extra_trigger: '#oe_snippets .o_we_customize_panel',\n            trigger: 'we-button[data-name=\"attributes_opt\"]',\n        },\n        ...wTourUtils.clickOnSave(),\n        {\n            content: \"wait to exit edit mode\",\n            trigger: '.o_website_preview:not(.editor_has_snippets)',\n        },\n        {\n            content: \"finish\",\n            extra_trigger: 'iframe body:not(:has(#products_grid_before .js_attributes))',\n            trigger: 'iframe #wrap:not(:has(li:has(.my_cart_quantity):visible))',\n            run: function () {}, // it's a check\n        },\n    ],\n);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\n// This tour relies on a data created from the python test.\nregistry.category(\"web_tour.tours\").add('tour_shop_deleted_archived_variants', {\n    test: true,\n    url: '/shop?search=Test Product 2',\n    steps: () => [\n    {\n        content: \"check price on /shop (template price)\",\n        trigger: '.oe_product_cart .oe_currency_value:contains(\"1.00\")',\n    },\n    {\n        content: \"select Test Product 2\",\n        trigger: '.oe_product_cart a:containsExact(\"Test Product 2\")',\n    },\n    {\n        content: \"check price (3rd variant)\",\n        trigger: '.oe_currency_value:contains(\"31.00\")'\n    },\n    {\n        content: \"click on the second variant\",\n        trigger: 'input[data-attribute_name=\"My Attribute\"][data-value_name=\"My Value 2\"]',\n    },\n    {\n        content: \"check combination is not possible\",\n        trigger: '.js_main_product.css_not_available .css_not_available_msg:contains(\"This combination does not exist.\")'\n    },\n    {\n        content: \"click on the 3rd variant to reset the warning\",\n        trigger: 'input[data-attribute_name=\"My Attribute\"][data-value_name=\"My Value 3\"]',\n    },\n    {\n        content: \"check price (3rd variant)\",\n        trigger: '.oe_currency_value:contains(\"31.00\")'\n    },\n    {\n        content: \"click on the first variant\",\n        trigger: 'input[data-attribute_name=\"My Attribute\"][data-value_name=\"My Value 1\"]',\n    },\n    {\n        content: \"check combination is not possible\",\n        trigger: '.js_main_product.css_not_available .css_not_available_msg:contains(\"This combination does not exist.\")'\n    },\n    {\n        content: \"check add to cart not possible\",\n        trigger: '#add_to_cart.disabled',\n        run: function () {},\n    }\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport tourUtils from \"website_sale.tour_utils\";\n\n// This tour relies on a data created from the python test.\nregistry.category(\"web_tour.tours\").add('tour_shop_dynamic_variants', {\n    test: true,\n    url: '/shop?search=Dynamic Product',\n    steps: () => [\n    {\n        content: \"select Dynamic Product\",\n        trigger: '.oe_product_cart a:containsExact(\"Dynamic Product\")',\n    },\n    {\n        content: \"click on the second variant\",\n        trigger: 'input[data-attribute_name=\"Dynamic Attribute\"][data-value_name=\"Dynamic Value 2\"]',\n    },\n    {\n        content: \"wait for variant to be loaded\",\n        trigger: '.oe_price .oe_currency_value:contains(\"0.00\")',\n        run: function () {},\n    },\n    {\n        content: \"click add to cart\",\n        extra_trigger: 'body:has(input[type=\"hidden\"][name=\"product_id\"][value=0])',\n        trigger: '#add_to_cart',\n    },\n        tourUtils.goToCart(),\n    {\n        content: \"check the variant is in the cart\",\n        trigger: 'td.td-product_name:contains(Dynamic Product (Dynamic Value 2))',\n    },\n]});\n", "/** @odoo-module **/\n\nimport wTourUtils from \"website.tour_utils\";\n\nwTourUtils.registerWebsitePreviewTour(\"shop_editor\", {\n    test: true,\n    url: \"/shop\",\n    edition: true,\n}, [{\n    content: \"Click on pricelist dropdown\",\n    trigger: \"iframe div.o_pricelist_dropdown a[data-bs-toggle=dropdown]\",\n}, {\n    trigger: \"iframe input[name=search]\",\n    extra_trigger: \"iframe div.o_pricelist_dropdown a[data-bs-toggle=dropdown][aria-expanded=true]\",\n    content: \"Click somewhere else in the shop.\",\n}, {\n    trigger: \"iframe div.o_pricelist_dropdown a[data-bs-toggle=dropdown]\",\n    extra_trigger: \"iframe div.o_pricelist_dropdown a[data-bs-toggle=dropdown][aria-expanded=false]\",\n    content: \"Click on the pricelist again.\",\n}]);\n", "/** @odoo-module **/\n\nimport tourUtils from 'website_sale.tour_utils';\nimport wTourUtils from 'website.tour_utils';\n\nwTourUtils.registerWebsitePreviewTour('shop_list_view_b2c', {\n    test: true,\n    url: '/shop?search=Test Product',\n},\n    [\n        {\n            content: \"check price on /shop\",\n            trigger: 'iframe .oe_product_cart .oe_currency_value:contains(\"825.00\")',\n            run: () => {}, // It's a check.\n        },\n        {\n            content: \"select product\",\n            trigger: 'iframe .oe_product_cart a:contains(\"Test Product\")',\n        },\n        {\n            content: \"check products list is disabled initially (when on /product page)\",\n            trigger: 'iframe body:not(:has(.js_product_change))',\n            extra_trigger: 'iframe #product_details',\n            run: () => {}, // It's a check.\n        },\n        ...wTourUtils.clickOnEditAndWaitEditMode(),\n        {\n            content: \"open customize tab\",\n            trigger: '.o_we_customize_snippet_btn',\n        },\n        {\n            content: \"open 'Variants' selector\",\n            extra_trigger: '#oe_snippets .o_we_customize_panel',\n            trigger: '[data-name=\"variants_opt\"] we-toggler',\n        },\n        {\n            content: \"click on 'Products List' of the 'Variants' selector\",\n            trigger: 'we-button[data-name=\"variants_products_list_opt\"]',\n        },\n        ...wTourUtils.clickOnSave(),\n        {\n            content: \"check page loaded after 'Products List' enabled\",\n            trigger: 'iframe .js_product_change',\n            run: () => {}, // It's a check.\n        },\n        {\n            context: \"check variant price\",\n            trigger: 'iframe .form-check:contains(\"Aluminium\") .badge:contains(\"+\") .oe_currency_value:contains(\"55.44\")',\n            run: () => {}, // It's a check.\n        },\n        {\n            content: \"check price is 825\",\n            trigger: 'iframe .product_price .oe_price .oe_currency_value:containsExact(825.00)',\n            run: () => {}, // It's a check.\n        },\n        {\n            content: \"switch to another variant\",\n            trigger: 'iframe .js_product label:contains(\"Aluminium\")',\n        },\n        {\n            content: \"verify that price has changed when changing variant\",\n            trigger: 'iframe .product_price .oe_price .oe_currency_value:containsExact(880.44)',\n            run: () => {}, // It's a check.\n        },\n        {\n            content: \"click on 'Add to Cart' button\",\n            trigger: 'iframe a:contains(ADD TO CART)',\n        },\n        tourUtils.goToCart({backend: true}),\n        {\n            content: \"check price on /cart\",\n            trigger: 'iframe #cart_products .oe_currency_value:containsExact(880.44)',\n            run: () => {}, // It's a check.\n        },\n    ],\n);\n", "/** @odoo-module **/\n\nimport rpc from \"web.rpc\";\nimport { registry } from \"@web/core/registry\";\nimport tourUtils from \"website_sale.tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('shop_mail', {\n    test: true,\n    url: '/',\n    steps: () => [\n    {\n        content: \"Change the domain of the websites and go to shop\",\n        trigger: 'body',\n        run: function () {\n            // We change the domain of the website to test that the email that\n            // will be sent uses the correct domain for its links.\n            var def1 = rpc.query({\n                'model': 'website',\n                'method': 'write',\n                'args': [[1], {\n                    'domain': \"my-test-domain.com\",\n                }],\n            });\n            // We need to change the domain of all the websites otherwise the\n            // website selector will return the website 2 since the domain we\n            // set on website 1 doesn't actually match our test server.\n            var def2 = rpc.query({\n                'model': 'website',\n                'method': 'write',\n                'args': [[2], {\n                    'domain': \"https://domain-not-used.fr\",\n                }],\n            });\n            Promise.all([def1, def2]).then(function (data) {\n                window.location.href = '/shop?search=Acoustic Bloc Screens';\n            });\n        },\n    },\n    {\n        content: \"select Acoustic Bloc Screens\",\n        trigger: '.oe_product_cart a:containsExact(\"Acoustic Bloc Screens\")',\n    },\n    {\n        content: \"click add to cart\",\n        trigger: '#product_details #add_to_cart',\n    },\n        tourUtils.goToCart(),\n    {\n        content: \"check product is in cart, get cart id, go to backend\",\n        trigger: 'td.td-product_name:contains(\"Acoustic Bloc Screens\")',\n        run: function () {\n            var orderId = $('.my_cart_quantity').data('order-id');\n            window.location.href = \"/web#action=sale.action_orders&view_type=form&id=\" + orderId;\n        },\n    },\n    {\n        content: \"click confirm\",\n        trigger: '.btn[name=\"action_confirm\"]',\n    },\n    {\n        content: \"click send by email\",\n        trigger: '.btn[name=\"action_quotation_send\"]',\n        extra_trigger: '.o_statusbar_status .o_arrow_button_current:contains(\"Sales Order\")',\n    },\n    {\n        content: \"Open recipients dropdown\",\n        trigger: '.o_field_many2many_tags_email[name=partner_ids] input',\n        run: 'click',\n    },\n    {\n        content: \"Select azure interior\",\n        trigger: '.ui-menu-item a:contains(Interior24)',\n        in_modal: false,\n    },\n    {\n        content: \"click Send email\",\n        trigger: '.btn[name=\"action_send_mail\"]',\n        extra_trigger: '.o_badge_text:contains(\"Azure\")',\n    },\n    {\n        content: \"wait mail to be sent, and go see it\",\n        trigger: '.o-mail-Message-body:contains(\"Your\"):contains(\"order\")',\n    },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport tourUtils from \"website_sale.tour_utils\";\n\n// This tour relies on a data created from the python test.\nregistry.category(\"web_tour.tours\").add('tour_shop_no_variant_attribute', {\n    test: true,\n    url: '/shop?search=Test Product 3',\n    steps: () => [\n    {\n        content: \"select Test Product 3\",\n        trigger: '.oe_product_cart a:containsExact(\"Test Product 3\")',\n    },\n    {\n        content: \"check price\",\n        trigger: '.oe_currency_value:contains(\"1.00\")',\n        run: function () {},\n    },\n    {\n        content: \"add to cart\",\n        trigger: 'a:contains(ADD TO CART)',\n    },\n        tourUtils.goToCart(),\n    {\n        content: \"check no_variant value is present\",\n        trigger: '.td-product_name:contains(No Variant Attribute: No Variant Value)',\n        extra_trigger: '#cart_products',\n        run: function () {},\n    },\n    {\n        content: \"check price is correct\",\n        trigger: '.td-price:contains(11.0)',\n        run: function () {},\n    },\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\n    \"website_sale.website_sale_shop_pricelist_tour\",\n    {\n        test: true,\n        url: '/shop',\n        steps: () => [\n            {\n                content: \"Check pricelist\",\n                trigger: \".o_pricelist_dropdown .dropdown-toggle:not(:contains('User Pricelist'))\",\n                run: function() {} // Check\n            },\n            {\n                content: \"Go to login page\",\n                trigger: \".nav-link:contains('Sign in')\"\n            },\n            {\n                content: \"Submit login\",\n                trigger: '.oe_login_form',\n                run: function () {\n                    $('.oe_login_form input[name=\"login\"]').val(\"toto\");\n                    $('.oe_login_form input[name=\"password\"]').val(\"long_enough_password\");\n                    $('.oe_login_form input[name=\"redirect\"]').val(\"/shop\");\n                    $('.oe_login_form').submit();\n                }\n            },\n            {\n                content: \"Check pricelist\",\n                trigger: \".o_pricelist_dropdown .dropdown-toggle:contains('User Pricelist')\",\n                run: function() {} // Check\n            },\n        ]\n    }\n);\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nvar imageSelector = '#o-carousel-product .carousel-item.active img';\nvar imageName = \"A Colorful Image\";\nvar nameGreen = \"Forest Green\";\n\n// This tour relies on a data created from the python test.\nregistry.category(\"web_tour.tours\").add('shop_zoom', {\n    test: true,\n    url: '/shop?debug=1&search=' + imageName,\n    steps: () => [\n    {\n        content: \"select \" + imageName,\n        trigger: '.oe_product_cart a:containsExact(\"' + imageName + '\")',\n    },\n    {\n        content: \"click on the image\",\n        trigger: imageSelector,\n        run: 'clicknoleave',\n    },\n    {\n        content: \"check that the image viewer opened\",\n        trigger: '.o_wsale_image_viewer',\n        run: () => {},\n    },\n    {\n        content: \"close the image viewer\",\n        trigger: '.o_wsale_image_viewer_header span.fa-times',\n    },\n    {\n        content: \"change variant\",\n        trigger: 'input[data-attribute_name=\"Beautiful Color\"][data-value_name=\"' + nameGreen + '\"]',\n        run: 'click',\n    },\n    {\n        content: \"wait for variant to be loaded\",\n        trigger: '.oe_currency_value:contains(\"21.00\")'\n    },\n    {\n        content: \"click on the image\",\n        trigger: imageSelector,\n        run: 'clicknoleave',\n    },\n    {\n        content: \"check there is a zoom on that big image\",\n        trigger: '.o_wsale_image_viewer',\n        run: () => {},\n    },\n]});\n", "/** @odoo-module */\n\nimport wTourUtils from 'website.tour_utils';\nimport wSaleTourUtils from 'website_sale.tour_utils';\n\nconst optionBlock = 'dynamic_snippet_products';\nconst productsSnippet = {id: 's_dynamic_snippet_products', name: 'Products'};\nconst templates = [\n    \"dynamic_filter_template_product_product_add_to_cart\",\n    \"dynamic_filter_template_product_product_view_detail\",\n    \"dynamic_filter_template_product_product_mini_image\",\n    \"dynamic_filter_template_product_product_mini_price\",\n    \"dynamic_filter_template_product_product_mini_name\",\n    \"dynamic_filter_template_product_product_centered\",\n    \"dynamic_filter_template_product_product_borderless_1\",\n    \"dynamic_filter_template_product_product_borderless_2\",\n    \"dynamic_filter_template_product_product_banner\",\n    \"dynamic_filter_template_product_product_horizontal_card\",\n    \"dynamic_filter_template_product_product_horizontal_card_2\",\n    \"dynamic_filter_template_product_product_card_group\",\n];\n\nfunction changeTemplate(templateKey) {\n    const templateClass = templateKey.replace(/dynamic_filter_template_/, \"s_\");\n    return [\n        wTourUtils.changeOption(optionBlock, 'we-select[data-name=\"template_opt\"] we-toggler', 'template'),\n        wTourUtils.changeOption(optionBlock, `we-button[data-select-data-attribute=\"website_sale.${templateKey}\"]`),\n        {\n            content: 'Check the template is applied',\n            trigger: `iframe .s_dynamic_snippet_products.${templateClass} .carousel`,\n            run: () => null, // It's a check\n        },\n    ];\n}\n\nlet templatesSteps = [];\nfor (const templateKey of templates) {\n    templatesSteps = templatesSteps.concat(changeTemplate(templateKey));\n}\nwTourUtils.registerWebsitePreviewTour('website_sale.snippet_products', {\n    test: true,\n    url: '/',\n    edition: true,\n},\n[\n    wTourUtils.dragNDrop(productsSnippet),\n    wTourUtils.clickOnSnippet(productsSnippet),\n    ...templatesSteps,\n    ...changeTemplate('dynamic_filter_template_product_product_add_to_cart'),\n    ...wTourUtils.clickOnSave(),\n    {\n        trigger: \"iframe .s_dynamic_snippet_products .o_carousel_product_card_body .js_add_cart\",\n        run: 'click',\n    },\n    wSaleTourUtils.goToCart({backend: true}),\n]);\n\nwTourUtils.registerWebsitePreviewTour('website_sale.products_snippet_recently_viewed', {\n    test: true,\n    url: '/',\n    edition: true,\n},\n[\n    wTourUtils.dragNDrop(productsSnippet),\n    wTourUtils.clickOnSnippet(productsSnippet),\n    ...changeTemplate('dynamic_filter_template_product_product_add_to_cart'),\n    wTourUtils.changeOption(optionBlock, 'we-select[data-name=\"filter_opt\"] we-toggler', 'filter'),\n    wTourUtils.changeOption(optionBlock, 'we-select[data-name=\"filter_opt\"] we-button:contains(\"Recently Viewed\")', 'filter'),\n    ...wTourUtils.clickOnSave(),\n    {\n        content: 'make delete icon appear',\n        trigger: 'iframe .s_dynamic_snippet_products .o_carousel_product_card',\n        run: function () {\n            const $iframe = $('.o_iframe').contents();\n            const $productCard = $iframe.find('.o_carousel_product_card:has(a img[alt=\"Storage Box\"])');\n            console.log($productCard);\n            $productCard.find('.js_remove').attr('style', 'display: block;');\n        }\n    },\n    {\n        trigger: 'iframe .s_dynamic_snippet_products .o_carousel_product_card .js_remove',\n        run: 'click',\n    },\n]);\n", "/** @odoo-module **/\n\n/**\n * Add custom steps to go to map and gantt view in Project app\n */\nimport { registry } from \"@web/core/registry\";\nimport \"@project/../tests/tours/project_tour\";\nimport { patch } from \"@web/core/utils/patch\";\n\nfunction openProjectUpdateAndReturnToTasks(view, viewClass) {\n    return [{\n            trigger: '.o_project_updates_breadcrumb',\n            content: 'Open Project Update from view : ' + view,\n            extra_trigger: \".\" + viewClass,\n        }, {\n            trigger: \".o-kanban-button-new\",\n            content: \"Create a new update from project task view : \" + view,\n            extra_trigger: '.o_project_update_kanban_view',\n        }, {\n            trigger: \"button.o_form_button_cancel\",\n            content: \"Discard project update from project task view : \" + view,\n        }, {\n            trigger: \".o_switch_view.o_list\",\n            content: \"Go to list of project update from view \" + view,\n        }, {\n            trigger: '.o_back_button',\n            content: 'Go back to the task view : ' + view,\n            // extra_trigger: '.o_list_table', // FIXME: [XBO] uncomment it when sample data will be displayed after discarding creation of project update record.\n        },\n    ];\n}\n\npatch(registry.category(\"web_tour.tours\").get(\"project_test_tour\"), \"patch_project_enterprise_tour\", {\n    steps() {\n        const originalSteps = this._super();\n        const taskCreationStepIndex = originalSteps.findIndex((step) => step.id === \"quick_create_tasks\");\n\n        originalSteps.splice(taskCreationStepIndex + 1, 0, {\n            trigger: '.o_switch_view.o_gantt',\n            content: 'Open Gantt View',\n        }, {\n            trigger: '.o_gantt_button_add',\n            content: 'Add a task in gantt',\n        });\n\n        originalSteps.splice(originalSteps.length, 0, {\n            trigger: \".o_gantt_progress_bar\",\n            content: \"See user progress bar\",\n            run: function () {\n                const $progressbar = $(\".o_gantt_progress_bar:eq(0)\");\n                if ($progressbar.length) {\n                    if ($progressbar.find(\"span:eq(0)\")[0].style.width === '') {\n                        console.error(\"Progress bar should be displayed\");\n                    }\n                    if (!$progressbar[0].classList.contains(\"o_gantt_group_danger\")) {\n                        console.error(\"Progress bar should be displayed in danger\");\n                    }\n                } else {\n                    console.error(\"Not able to select progressbar\");\n                }\n            }\n        }, ...openProjectUpdateAndReturnToTasks(\"Gantt\", \"o_gantt_view\"), {\n            trigger: '.o_switch_view.o_map',\n            content: 'Open Map View',\n        }, ...openProjectUpdateAndReturnToTasks(\"Map\", \"o_map_view\"));\n\n        return originalSteps;\n    }\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('hr_employee_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [\n    stepUtils.showAppsMenuItem(),\n    {\n        content: \"Open Employees app\",\n        trigger: \".o_app[data-menu-xmlid='hr.menu_hr_root']\",\n        run: 'click',\n    },\n    {\n        content: \"Open an Employee Profile\",\n        trigger: \".o_kanban_record_title:contains('Johnny H.')\",\n        run: 'click',\n    },\n    {\n        content: \"Open user account menu\",\n        trigger: \".o_user_menu .dropdown-toggle\",\n        run: 'click',\n    }, {\n        content: \"Open My Profile\",\n        trigger: \"[data-menu=settings]\",\n        run: 'click',\n    },\n]});\n", "/** @odoo-module **/\n\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { registry } from \"@web/core/registry\";\nimport { patch } from \"@web/core/utils/patch\";\n\n/**\n * As 'hr' changes the flow a bit and displays the user preferences form in a full view instead of\n * a modal, we adapt the steps of the original tour accordingly.\n */\npatch(registry.category(\"web_tour.tours\").get(\"mail/static/tests/tours/user_modify_own_profile_tour.js\"), \"patch_user_modify_own_profile_tour\", {\n    steps() {\n        return [\n            {\n                content: 'Open user account menu',\n                trigger: '.o_user_menu button',\n            }, \n            {\n                content: \"Open preferences / profile screen\",\n                trigger: '[data-menu=settings]',\n            }, \n            {\n                content: \"Update the email address\",\n                trigger: 'div[name=\"email\"] input',\n                run: 'text updatedemail@example.com',\n            }, \n            ...stepUtils.saveForm(),\n        ];\n    }\n});\n\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('timesheet_record_time', {\n    test: true,\n    url: \"/web\",\n    steps: () => [\n    {\n        trigger: \".o_app[data-menu-xmlid='hr_timesheet.timesheet_menu_root']\",\n        content: \"Open Timesheet app.\",\n        run: \"click\"\n    },\n    {\n        trigger: '.btn_start_timer',\n        content: \"Launch the timer to start a new activity.\",\n        run: \"click\"\n    },\n    {\n        trigger: 'div[name=name] input',\n        content: \"Describe your activity.\",\n        run: \"text Description\"\n    },\n    {\n        trigger: '.timesheet-timer div[name=\"project_id\"] input',\n        content: \"Select the project on which you are working.\",\n        run: \"text Test Project\",\n    },\n    {\n        trigger: \".ui-autocomplete > li > a:contains(Test Project)\",\n        auto: true,\n    },\n    {\n        trigger: '.btn_stop_timer',\n        content: \"Stop the timer when you are done.\",\n        run: \"click\"\n    }\n]});\n", "/** @odoo-module **/\n    \n    import { registry } from \"@web/core/registry\";\n    import { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n    registry.category(\"web_tour.tours\").add('hr_expense_test_tour', {\n        test: true,\n        url: \"/web\",\n        steps: () => [stepUtils.showAppsMenuItem(),\n        {\n            content: \"Go to Expense\",\n            trigger: '.o_app[data-menu-xmlid=\"hr_expense.menu_hr_expense_root\"]',\n        },\n        {\n            content: \"Go to My Expenses\",\n            trigger: 'a[data-menu-xmlid=\"hr_expense.menu_hr_expense_my_expenses\"]',\n        },\n        {\n            content: \"Go to My Expenses to Report\",\n            trigger: 'a[data-menu-xmlid=\"hr_expense.menu_hr_expense_my_expenses_to_submit\"]',\n        },\n        {\n            content: \"Check Upload Button\",\n            trigger: '.o_button_upload_expense',\n            run() {\n                const button = document.querySelector('.o_button_upload_expense');\n                if(!button) {\n                    console.error('Missing Upload button in My Expenses to Report > List View');\n                }\n            }\n        },\n        {\n            content: \"Go to kanban view\",\n            trigger: \"button.o_switch_view.o_kanban\",\n        },\n        {\n            content: \"Check Upload Button\",\n            trigger: \"button.o_switch_view.o_kanban.active\",\n            run() {\n                const button = document.querySelector('.o_button_upload_expense');\n                if(!button) {\n                    console.error('Missing Upload button in My Expenses to Report > Kanban View');\n                }\n            }\n        },\n        {\n            content: \"Go to Reporting\",\n            trigger: 'a[data-menu-xmlid=\"hr_expense.menu_hr_expense_reports\"]',\n        },\n        {\n            content: \"Go to Expenses Analysis\",\n            trigger: 'a[data-menu-xmlid=\"hr_expense.menu_hr_expense_all_expenses\"]',\n        },\n        {\n            content: \"Check Upload Button\",\n            trigger: 'li.breadcrumb-item:contains(\"Expenses Analysis\")',\n            run() {\n                const button = document.querySelector('.o_button_upload_expense');\n                if(!button) {\n                    console.error('Missing Upload button in Expenses Analysis > List View');\n                }\n            }\n        },\n        {\n            content: \"Go to kanban view\",\n            trigger: \"button.o_switch_view.o_kanban\",\n        },\n        {\n            content: \"Check Upload Button\",\n            trigger: \"button.o_switch_view.o_kanban.active\",\n            run() {\n                const button = document.querySelector('.o_button_upload_expense');\n                if(!button) {\n                    console.error('Missing Upload button in Expenses Analysis > Kanban View');\n                }\n            }\n        },\n    ]});\n", "/** @odoo-module */\n\nexport function assertEqual(actual, expected) {\n    if (actual !== expected) {\n        throw new Error(`Assert failed: expected: ${expected} ; got: ${actual}`);\n    }\n}\n\nasync function nextTick() {\n    await new Promise((resolve) => setTimeout(resolve));\n    await new Promise((resolve) => requestAnimationFrame(resolve));\n}\n\nexport function stepNextTick() {\n    // FIXME: this probably should be handled by the tour-as-macro infrastructure\n    // The case is to have a dom node with a constant selector. It will trigger the next step\n    // even though the element will be changed after, resulting in non-deterministic bugs.\n    // This is especially the case in the case of inputs, where we'd want to assert their value changed\n    return {\n        trigger: \"body\",\n        run() {\n            return nextTick();\n        },\n    };\n}\n\nexport function stepNotInStudio(trigger) {\n    return {\n        extra_trigger: \"body:not(:has(.o_studio))\",\n        trigger: trigger || \"body\",\n    };\n}\n", "/** @odoo-module */\n\nimport { browser } from \"@web/core/browser/browser\";\nimport { registry } from \"@web/core/registry\";\nimport { randomString } from \"@web_studio/utils\";\nimport {\n    assertEqual,\n    stepNextTick,\n    stepNotInStudio,\n} from \"@web_studio/../tests/tours/tour_helpers\";\n\nconst localStorage = browser.localStorage;\nlet createdAppString = null;\nlet createdMenuString = null;\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_main_and_rename\", {\n    url: \"/web?debug=1\",\n    test: true,\n    steps: () => [\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            extra_trigger: \".o_home_menu_background\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n        },\n        {\n            // the next steps are here to create a new app\n            trigger: \".o_web_studio_app_creator_next\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_name > input\",\n            run: \"text \" + (createdAppString = randomString(6)),\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next.is_ready\",\n        },\n        {\n            trigger: \".o_web_studio_menu_creator > input\",\n            run: \"text \" + (createdMenuString = randomString(6)),\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next.is_ready\",\n        },\n        {\n            // disable chatter in model configurator, we'll test adding it on later\n            trigger: 'input[name=\"use_mail\"]',\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n        },\n        {\n            // toggle the home menu outside of studio and come back in studio\n            extra_trigger: \".o_menu_toggle:not(.o_menu_toggle_back)\",\n            trigger: \".o_web_studio_leave > a.btn\",\n            timeout: 60000 /* previous step reloads registry, etc. - could take a long time */,\n        },\n        {\n            extra_trigger: `.o_web_client:not(.o_in_studio)` /* wait to be out of studio */,\n            trigger: \".o_menu_toggle:not(.o_menu_toggle_back)\",\n            timeout: 60000 /* previous step reloads registry, etc. - could take a long time */,\n        },\n        {\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            extra_trigger: \".o_home_menu_background\",\n        },\n        {\n            // open the app creator and leave it\n            trigger: \".o_web_studio_new_app\",\n        },\n        {\n            extra_trigger: \".o_web_studio_app_creator\",\n            trigger: \".o_web_studio_leave > a.btn\",\n        },\n        {\n            // go back to the previous app\n            trigger: \".o_home_menu\",\n            run: () => {\n                window.dispatchEvent(\n                    new KeyboardEvent(\"keydown\", {\n                        bubbles: true,\n                        key: \"Escape\",\n                    })\n                );\n            },\n        },\n        {\n            // this should open the previous app outside of studio\n            extra_trigger: `.o_web_client:not(.o_in_studio) .o_menu_brand:contains(${createdAppString})`,\n            // go back to the home menu\n            trigger: \".o_menu_toggle:not(.o_menu_toggle_back)\",\n        },\n        {\n            trigger: \"input.o_search_hidden\",\n            // Open Command Palette\n            run: \"text \" + createdMenuString[0],\n        },\n        {\n            trigger: \".o_command_palette_search input\",\n            run: \"text \" + \"/\" + createdMenuString,\n        },\n        {\n            // search results should have been updated\n            extra_trigger: `.o_command.focused:contains(${createdAppString} / ${createdMenuString})`,\n            trigger: \".o_command_palette\",\n            // Close the Command Palette\n            run: () => {\n                window.dispatchEvent(\n                    new KeyboardEvent(\"keydown\", {\n                        key: \"Escape\",\n                    })\n                );\n            },\n        },\n        {\n            // enter Studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n        },\n        {\n            // edit an app\n            extra_trigger: \".o_studio_home_menu\",\n            trigger: `.o_app[data-menu-xmlid*=\"studio\"]:contains(${createdAppString})`,\n            run: function () {\n                // We can't emulate a hover to display the edit icon\n                const editIcon = this.$anchor[0].querySelector(\".o_web_studio_edit_icon\");\n                editIcon.style.visibility = \"visible\";\n                editIcon.click();\n            },\n        },\n        {\n            // design the icon\n            // TODO: we initially tested this (change an app icon) at the end but a\n            // long-standing bug (KeyError: ir.ui.menu.display_name, caused by a registry\n            // issue with multiple workers) on runbot prevent us from doing it. It thus have\n            // been moved at the beginning of this test to avoid the registry to be reloaded\n            // before the write on ir.ui.menu.\n            trigger: \".o_web_studio_selector:eq(0)\",\n        },\n        {\n            trigger: \".o_web_studio_palette > .o_web_studio_selector:first\",\n        },\n        {\n            trigger: \".modal-footer .btn.btn-primary\",\n        },\n        {\n            // click on the created app\n            trigger: `.o_app[data-menu-xmlid*=\"studio\"]:contains(${createdAppString})`,\n        },\n        {\n            // create a new menu\n            trigger: \".o_main_navbar .o_web_edit_menu\",\n        },\n        {\n            trigger: \"footer.modal-footer .js_add_menu\",\n        },\n        {\n            trigger: 'input[name=\"menuName\"]',\n            run: \"text \" + (createdMenuString = randomString(6)),\n        },\n        {\n            trigger: 'div.o_web_studio_menu_creator_model_choice input[value=\"existing\"]',\n        },\n        {\n            trigger: \"div.o_web_studio_menu_creator_model .o_field_many2one_selection input\",\n            run: \"text a\",\n        },\n        {\n            trigger:\n                \".o_field_many2one_selection .o-autocomplete--dropdown-menu > li > a:not(:has(.fa-spin))\",\n        },\n        {\n            extra_trigger: \".o_field_many2one_selection :not(.o-autocomplete dropdown-menu)\",\n            trigger: '.o_web_studio_add_menu_modal button:contains(Confirm):not(\".disabled\")',\n        },\n        {\n            extra_trigger: \":not(.o_inactive_modal) .o-web-studio-appmenu-editor\",\n            trigger: '.o-web-studio-appmenu-editor button:contains(Confirm):not(\".disabled\")',\n        },\n        {\n            // check that the Studio menu is still there\n            extra_trigger: \".o_web_studio_menu\",\n            // switch to form view\n            trigger: '.o_web_studio_views_icons > a[title=\"Form\"]',\n        },\n        {\n            // wait for the form editor to be rendered because the sidebar is the same\n            extra_trigger: \".o_web_studio_form_view_editor\",\n            // unfold 'Existing Fieldqs' section\n            trigger: \".o_web_studio_existing_fields_header\",\n        },\n        {\n            // add an new field\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_field_type_container:eq(1) .o_web_studio_field_char\",\n            run: \"drag_and_drop_native .o_web_studio_form_view_editor .o_inner_group\",\n        },\n        {\n            // click on the field\n            trigger: \".o_web_studio_form_view_editor .o_wrap_label:first label\",\n            // when it's there\n            extra_trigger: '.o_web_studio_sidebar input[name=\"technical_name\"]',\n        },\n        {\n            // rename the label\n            trigger: '.o_web_studio_sidebar input[name=\"string\"]',\n            run: \"text My Coucou Field\",\n        },\n        stepNextTick(),\n        {\n            // verify that the field name has changed and change it\n            trigger: '.o_web_studio_sidebar input[name=\"technical_name\"]',\n            run(helper) {\n                assertEqual(this.$anchor[0].value, \"my_coucou_field\");\n                helper.text(\"coucou\");\n            },\n            // the rename operation (/web_studio/rename_field + /web_studio/edit_view)\n            // takes a while and sometimes reaches the default 10s timeout\n            timeout: 20000,\n        },\n        {\n            // click on \"Add\" tab\n            trigger: \".o_web_studio_sidebar .o_web_studio_new\",\n            // the rename operation (/web_studio/rename_field + /web_studio/edit_view)\n            // takes a while and sometimes reaches the default 10s timeout\n            timeout: 20000,\n        },\n        {\n            // add a new field\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_field_type_container:eq(1) .o_web_studio_field_char\",\n            run: \"drag_and_drop_native .o_web_studio_form_view_editor .o_inner_group\",\n        },\n        {\n            // rename the field with the same name\n            trigger: '.o_web_studio_sidebar input[name=\"technical_name\"]',\n            run: \"text coucou\",\n        },\n        {\n            // an alert dialog should be opened\n            trigger: \".modal-footer > button:first\",\n        },\n        {\n            // rename the label\n            trigger: '.o_web_studio_sidebar input[name=\"string\"]',\n            run: \"text COUCOU\",\n        },\n        stepNextTick(),\n        {\n            // verify that the field name has changed (post-fixed by _1)\n            trigger: '.o_web_studio_sidebar input[name=\"technical_name\"]',\n            run(helper) {\n                assertEqual(this.$anchor[0].value, \"coucou_1\");\n            },\n            // the rename operation (/web_studio/rename_field + /web_studio/edit_view)\n            // takes a while and sometimes reaches the default 10s timeout\n            timeout: 20000,\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_new\",\n        },\n        {\n            // add a monetary field --> create a currency field\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_field_type_container:eq(1) .o_web_studio_field_monetary\",\n            run: \"drag_and_drop_native .o_web_studio_form_view_editor .o_inner_group\",\n        },\n        {\n            // verify that the monetary field is in the view\n            extra_trigger:\n                '.o_web_studio_form_view_editor .o_wrap_label:eq(1) label:contains(\"New Monetary\")',\n            // switch the two first fields\n            trigger: \".o_web_studio_form_view_editor .o_inner_group:first .o-draggable:eq(1)\",\n            run: \"drag_and_drop_native .o_inner_group:first .o_web_studio_hook:first\",\n        },\n        {\n            // click on \"Add\" tab\n            extra_trigger:\n                '.o_web_studio_form_view_editor .o_wrap_label:eq(0) label:contains(\"New Monetary\")',\n            trigger: \".o_web_studio_sidebar .o_web_studio_new\",\n        },\n        {\n            // verify that the fields have been switched\n            extra_trigger:\n                '.o_web_studio_form_view_editor .o_wrap_label:eq(0) label:contains(\"New Monetary\")',\n            // add a m2m field\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_field_type_container:eq(1) .o_web_studio_field_many2many\",\n            run: \"drag_and_drop_native .o_inner_group:first .o_web_studio_hook:first\",\n        },\n        {\n            // type something in the modal\n            trigger: '[name=\"relation_id\"] input.o-autocomplete--input',\n            in_modal: true,\n            // we are sure \"Activity\" exists since studio depends on mail.\n            //Also, it is determinisic and field names should not conflict too much.\n            run: \"text mail.activity\",\n        },\n        {\n            // select Activity as model\n            trigger:\n                '[name=\"relation_id\"] .o-autocomplete--dropdown-menu li a:not(:has(.fa-spin)):contains(Activity)',\n            in_modal: true,\n            run(helpers) {\n                const el = Array.from(this.$anchor).find((el) => el.textContent === \"Activity\");\n                return helpers.click($(el));\n            },\n        },\n        {\n            in_modal: true,\n            trigger: \"button:contains(Confirm):not(.disabled)\",\n        },\n        {\n            // select the m2m to set its properties\n            trigger: \".o_wrap_input:has(.o_field_many2many)\",\n            timeout: 15000, // creating M2M relations can take some time...\n        },\n        {\n            // change the `widget` attribute\n            trigger: '.o_web_studio_sidebar [name=\"widget\"] .o_select_menu_toggler_slot',\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar [name='widget'] .o_select_menu_item_label:contains('(many2many_tags)')\",\n        },\n        {\n            // use colors on the m2m tags\n            trigger: '.o_web_studio_sidebar [name=\"color_field\"]',\n        },\n        {\n            // add a statusbar\n            trigger: \".o_web_studio_statusbar_hook\",\n        },\n        {\n            trigger: \".modal-footer .btn.btn-primary\",\n        },\n        {\n            trigger: \".o_statusbar_status\",\n        },\n        {\n            // verify that a default value has been set for the statusbar\n            trigger:\n                '.o_web_studio_sidebar [name=\"default_value\"] .o_select_menu_toggler_slot:contains(First Status)',\n            run() {},\n        },\n        {\n            trigger: \".o_web_studio_views_icons a[title=Form]\",\n        },\n        {\n            // verify Chatter can be added after changing view to form\n            extra_trigger: \".o_web_studio_add_chatter\",\n            // edit action\n            trigger: \".o_web_studio_menu .o_menu_sections li a:contains(Views)\",\n        },\n        {\n            // edit form view\n            trigger:\n                '.o_web_studio_view_category .o_web_studio_view_type[data-type=\"form\"] .o_web_studio_thumbnail',\n        },\n        {\n            // verify Chatter can be added after changing view to form\n            extra_trigger: \".o_web_studio_add_chatter\",\n            // switch in list view\n            trigger: '.o_web_studio_menu .o_web_studio_views_icons a[title=\"List\"]',\n        },\n        {\n            // wait for the list editor to be rendered because the sidebar is the same\n            extra_trigger: \".o_web_studio_list_view_editor\",\n            // unfold 'Existing Fieldqs' section\n            trigger: \".o_web_studio_existing_fields_header\",\n        },\n        {\n            // add an existing field (display_name)\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_field_char:contains(COUCOU)\",\n            run: \"drag_and_drop_native .o_web_studio_list_view_editor th.o_web_studio_hook:first\",\n        },\n        {\n            // verify that the field is correctly named\n            extra_trigger: '.o_web_studio_list_view_editor th:contains(\"COUCOU\")',\n            // leave Studio\n            trigger: \".o_web_studio_leave > a.btn\",\n        },\n        {\n            // come back to the home menu to check if the menu data have changed\n            extra_trigger: \".o_web_client:not(.o_in_studio)\",\n            trigger: \".o_menu_toggle:not(.o_menu_toggle_back)\",\n        },\n        {\n            trigger: \"input.o_search_hidden\",\n            // Open Command Palette\n            run: \"text \" + createdMenuString[0],\n        },\n        {\n            trigger: \".o_command_palette_search input\",\n            run: \"text \" + \"/\" + createdMenuString,\n        },\n        {\n            // search results should have been updated\n            extra_trigger: `.o_command.focused:contains(${createdAppString} / ${createdMenuString})`,\n            trigger: \".o_command_palette\",\n            // Close the Command Palette\n            run: () => {\n                window.dispatchEvent(\n                    new KeyboardEvent(\"keydown\", {\n                        bubbles: true,\n                        key: \"Escape\",\n                    })\n                );\n            },\n        },\n        {\n            trigger: \".o_home_menu\",\n            // go back again to the app (using keyboard)\n            run: () => {\n                window.dispatchEvent(\n                    new KeyboardEvent(\"keydown\", {\n                        bubbles: true,\n                        key: \"Escape\",\n                    })\n                );\n            },\n        },\n        {\n            // wait to be back in the list view\n            extra_trigger: \".o_list_view\",\n            // re-open studio\n            trigger: \".o_web_studio_navbar_item\",\n        },\n        {\n            // modify the list view\n            trigger: \".o_web_studio_sidebar .o_web_studio_view\",\n        },\n        {\n            //select field you want to sort and based on that sorting will be applied on List view\n            trigger:\n                '.o_web_studio_sidebar .o_web_studio_sidebar_select[name=\"sort_by\"] .o_select_menu_toggler',\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_sidebar_select[name='sort_by'] .dropdown-item\",\n        },\n        {\n            //change order of sorting, Select order and change it\n            trigger:\n                '.o_web_studio_sidebar .o_web_studio_sidebar_select[name=\"sort_order\"] .o_select_menu_toggler',\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_sidebar_select[name='sort_order'] .dropdown-item:nth-child(2)\",\n        },\n        {\n            // edit action\n            trigger: '.o_web_studio_menu .o_menu_sections li a:contains(\"Views\")',\n        },\n        {\n            // add a kanban\n            trigger:\n                '.o_web_studio_view_category .o_web_studio_view_type.o_web_studio_inactive[data-type=\"kanban\"] .o_web_studio_thumbnail',\n        },\n        {\n            // add a dropdown\n            trigger: \".o_dropdown_kanban.o_web_studio_add_dropdown\",\n        },\n        {\n            trigger: \".modal-footer .btn.btn-primary\",\n        },\n        {\n            // select the dropdown for edition\n            trigger: \".o_dropdown_kanban:not(.o_web_studio_add_dropdown)\",\n        },\n        {\n            // enable \"Set Cover\" feature\n            trigger: \".o_web_studio_sidebar input[name=cover_value]\",\n        },\n        {\n            trigger: \".modal-footer .btn.btn-primary\",\n        },\n        {\n            // edit action\n            trigger: '.o_web_studio_menu .o_menu_sections li a:contains(\"Views\")',\n        },\n        {\n            // check that the kanban view is now active\n            extra_trigger:\n                '.o_web_studio_view_category .o_web_studio_view_type:not(.o_web_studio_inactive)[data-type=\"kanban\"]',\n            // add an activity view\n            trigger:\n                '.o_web_studio_view_category .o_web_studio_view_type.o_web_studio_inactive[data-type=\"activity\"] .o_web_studio_thumbnail',\n        },\n        {\n            extra_trigger: \".o_activity_view\",\n            // edit action\n            trigger: '.o_web_studio_menu .o_menu_sections li a:contains(\"Views\")',\n            timeout: 20000, // activating a view takes a while and sometimes reaches the default 10s timeout\n        },\n        {\n            // add a graph view\n            trigger:\n                '.o_web_studio_view_category .o_web_studio_view_type.o_web_studio_inactive[data-type=\"graph\"] .o_web_studio_thumbnail',\n        },\n        {\n            extra_trigger: \".o_graph_renderer\",\n            trigger: '.o_web_studio_menu .o_menu_sections li a:contains(\"Views\")',\n        },\n        {\n            extra_trigger: \".o_web_studio_views\",\n            // edit the search view\n            trigger:\n                '.o_web_studio_view_category .o_web_studio_view_type[data-type=\"search\"] .o_web_studio_thumbnail',\n        },\n        {\n            extra_trigger: \".o_web_studio_search_view_editor\",\n            trigger: \".o_menu_toggle:not(.o_menu_toggle_back)\",\n        },\n        {\n            trigger: \".o_web_studio_home_studio_menu .dropdown-toggle\",\n        },\n        {\n            // export all modifications\n            trigger: \".o_web_studio_export\",\n        },\n        {\n            // click on the created app\n            trigger: '.o_app[data-menu-xmlid*=\"studio\"]:last',\n        },\n        {\n            // switch to form view\n            trigger: '.o_web_studio_views_icons > a[title=\"Form\"]',\n        },\n        {\n            extra_trigger: \".o_web_studio_form_view_editor\",\n            // click on the view tab\n            trigger: \".o_web_studio_view\",\n        },\n        {\n            // click on the restore default view button\n            trigger: \".o_web_studio_restore\",\n        },\n        {\n            // click on the ok button\n            trigger: \".modal-footer .btn.btn-primary\",\n        },\n        {\n            // checks that the field doesn't exist anymore\n            extra_trigger: 'label.o_form_label:not(:contains(\"COUCOU\"))',\n            trigger: \".o_web_studio_leave > a.btn\",\n        },\n        stepNotInStudio(\".o_form_view\"),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_hide_fields_tour\", {\n    url: \"/web?debug=1#action=studio&mode=home_menu\",\n    test: true,\n    steps: () => [\n        {\n            trigger: \".o_web_studio_new_app\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n        },\n        {\n            trigger: `\n        .o_web_studio_app_creator_name\n        > input`,\n            run: `text ${randomString(6)}`,\n        },\n        {\n            // make another interaction to show \"next\" button\n            trigger: `\n        .o_web_studio_selectors\n        .o_web_studio_selector:eq(2)`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n        },\n        {\n            trigger: `\n        .o_web_studio_menu_creator\n        > input`,\n            run: `text ${randomString(6)}`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n        },\n        {\n            // check that the Studio menu is still there\n            extra_trigger: \".o_web_studio_menu\",\n            trigger: \".o_web_studio_leave > a.btn\",\n            timeout: 60000 /* previous step reloads registry, etc. - could take a long time */,\n        },\n        {\n            trigger: \".oe_title input\",\n            run: \"text Test\",\n        },\n        {\n            trigger: \".o_form_button_save\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item\",\n        },\n        {\n            extra_trigger: \".o_web_studio_menu\",\n            trigger: `\n        .o_web_studio_views_icons\n        > a[title=\"List\"]`,\n        },\n        {\n            // wait for the list editor to be rendered because the sidebar is the same\n            extra_trigger: \".o_web_studio_list_view_editor\",\n            trigger: \".o_web_studio_existing_fields_header\",\n        },\n        {\n            trigger: `\n        .o_web_studio_sidebar\n        .o_web_studio_existing_fields\n        .o_web_studio_component:has(.o_web_studio_component_description:contains(display_name))`,\n            run: \"drag_and_drop_native .o_web_studio_list_view_editor .o_web_studio_hook\",\n        },\n        {\n            trigger: `\n        .o_list_table\n        th[data-name=\"display_name\"]`,\n        },\n        {\n            trigger: `\n        .o_web_studio_sidebar\n        [name=\"optional\"] .o_select_menu_toggler`,\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar [name='optional'] .o_select_menu_item:contains(Hide by default)\",\n        },\n        {\n            extra_trigger: '.o_list_table:not(:has(th[data-name=\"display_name\"]))',\n            trigger: `\n        .o_web_studio_sidebar\n        .o_web_studio_view`,\n        },\n        {\n            trigger: `\n        .o_web_studio_sidebar_checkbox\n        input#show_invisible`,\n        },\n        {\n            extra_trigger: `\n        .o_list_table\n        th[data-name=\"display_name\"].o_web_studio_show_invisible`,\n            trigger: \".o_web_studio_leave > a.btn\",\n        },\n        stepNotInStudio(\".o_list_view\"),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_model_option_value_tour\", {\n    url: \"/web?debug=tests#action=studio&mode=home_menu\",\n    test: true,\n    steps: () => [\n        {\n            trigger: \".o_web_studio_new_app\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n        },\n        {\n            trigger: `\n        .o_web_studio_app_creator_name\n        > input`,\n            run: `text ${randomString(6)}`,\n        },\n        {\n            trigger: `\n        .o_web_studio_selectors\n        .o_web_studio_selector:eq(2)`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n        },\n        {\n            trigger: `\n        .o_web_studio_menu_creator\n        > input`,\n            run: `text ${randomString(6)}`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n        },\n        {\n            // check monetary value in model configurator\n            trigger: 'input[name=\"use_value\"]',\n        },\n        {\n            // check lines value in model configurator\n            trigger: 'input[name=\"lines\"]',\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n        },\n        {\n            trigger: '.o_web_studio_menu .o_web_studio_views_icons > a[title=\"Graph\"]',\n            timeout: 60000 /* previous step reloads registry, etc. - could take a long time */,\n        },\n        {\n            // wait for the graph editor to be rendered and also check for sample data\n            extra_trigger: \".o_view_sample_data .o_graph_renderer\",\n            trigger: '.o_web_studio_menu .o_web_studio_views_icons a[title=\"Pivot\"]',\n        },\n        {\n            // wait for the pivot editor to be rendered and also check for sample data\n            extra_trigger: \".o_pivot_view .o_view_sample_data .o_view_nocontent_empty_folder\",\n            trigger: \".o_web_studio_leave > a.btn\",\n        },\n        stepNotInStudio(\".o_pivot_view\"),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_new_report_tour\", {\n    url: \"/web\",\n    test: true,\n    steps: () => [\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            extra_trigger: \".o_home_menu_background\",\n        },\n        {\n            // click on the created app\n            trigger: '.o_app[data-menu-xmlid*=\"studio\"]:first',\n            extra_trigger: \"body.o_in_studio\",\n        },\n        {\n            // edit reports\n            trigger: \".o_web_studio_menu li a:contains(Reports)\",\n        },\n        {\n            // create a new report\n            trigger: \".o_control_panel .o-kanban-button-new\",\n        },\n        {\n            // select external layout\n            trigger: '.o_web_studio_report_layout_dialog div[data-layout=\"web.external_layout\"]',\n        },\n        {\n            // edit report name\n            trigger: '.o_web_studio_sidebar input[id=\"name\"]',\n            run: \"text My Awesome Report\",\n        },\n        {\n            // add a new group on the node\n            trigger: '.o_web_studio_sidebar .o_field_many2many_tags[name=\"groups_id\"] input',\n            run: function () {\n                this.$anchor.click();\n            },\n        },\n        {\n            trigger: \".o-autocomplete--dropdown-menu li:contains(Access Rights)\",\n        },\n        {\n            // wait for the group to appear\n            trigger:\n                '.o_web_studio_sidebar .o_field_many2many_tags[name=\"groups_id\"] .o_tag_badge_text:contains(Access Rights)',\n            run() {},\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe .odoo-editor-editable div.page\",\n            run($anchor) {\n                const element = this.$anchor[0];\n                element.ownerDocument.getSelection().setPosition(element);\n                assertEqual(element.innerHTML, \"<br>\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe .odoo-editor-editable div.page\",\n            run() {\n                const element = this.$anchor[0];\n                assertEqual(element.classList.contains(\"oe-command-temporary-hint\"), true);\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe .odoo-editor-editable div.page\",\n            run: \"text some new text\",\n        },\n        {\n            trigger: \".o_web_studio_menu .o-web-studio-save-report.btn-primary\",\n        },\n        {\n            // The report has been saved\n            trigger: \".o_web_studio_menu .o-web-studio-save-report:not(.btn-primary)\",\n            run() {},\n        },\n        {\n            trigger: \".o_web_studio_breadcrumb .o_back_button:contains(Reports)\",\n        },\n        {\n            // a invisible element cannot be used as a trigger so this small hack is\n            // mandatory for the next step\n            run: function () {\n                $(\".o_kanban_record:contains(My Awesome Report) .dropdown-toggle\").css(\n                    \"visibility\",\n                    \"visible\"\n                );\n            },\n            trigger: \".o_kanban_view\",\n        },\n        {\n            // open the dropdown\n            trigger: \".o_kanban_record:contains(My Awesome Report) .dropdown-toggle\",\n        },\n        {\n            // duplicate the report\n            trigger:\n                \".o_kanban_record:contains(My Awesome Report) .dropdown-menu a:contains(Duplicate)\",\n        },\n        {\n            // open the duplicate report\n            trigger: \".o_kanban_record:contains(My Awesome Report copy(1))\",\n        },\n        {\n            // switch to 'Report' tab\n            trigger: \".o_web_studio_sidebar input[id='name']\",\n            run() {\n                assertEqual(this.$anchor[0].value, \"My Awesome Report copy(1)\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe div.page\",\n            run() {\n                assertEqual(this.$anchor[0].textContent, \"some new text\");\n            },\n        },\n        {\n            trigger:\n                '.o_web_studio_sidebar .o_field_many2many_tags[name=\"groups_id\"] .o_tag_badge_text:contains(Access Rights)',\n            run() {},\n        },\n        {\n            trigger: \".o_web_studio_leave > a.btn\",\n        },\n        stepNotInStudio(),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_new_report_basic_layout_tour\", {\n    url: \"/web\",\n    test: true,\n    steps: () => [\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            extra_trigger: \".o_home_menu_background\",\n        },\n        {\n            // click on the created app\n            trigger: '.o_app[data-menu-xmlid*=\"studio\"]:first',\n            extra_trigger: \"body.o_in_studio\",\n        },\n        {\n            // edit reports\n            trigger: \".o_web_studio_menu li a:contains(Reports)\",\n        },\n        {\n            // create a new report\n            trigger: \".o_control_panel .o-kanban-button-new\",\n        },\n        {\n            // select basic layout\n            trigger: '.o_web_studio_report_layout_dialog div[data-layout=\"web.basic_layout\"]',\n        },\n        {\n            // edit report name\n            trigger: '.o_web_studio_sidebar input[id=\"name\"]',\n            run: \"text My Awesome basic layout Report\",\n        },\n        {\n            // add a new group on the node\n            trigger: '.o_web_studio_sidebar .o_field_many2many_tags[name=\"groups_id\"] input',\n            run: function () {\n                this.$anchor.click();\n            },\n        },\n        {\n            trigger: \".o-autocomplete--dropdown-menu li:contains(Access Rights)\",\n        },\n        {\n            // wait for the group to appear\n            trigger:\n                '.o_web_studio_sidebar .o_field_many2many_tags[name=\"groups_id\"] .o_tag_badge_text:contains(Access Rights)',\n            run() {},\n        },\n        {\n            trigger: \".o_web_studio_menu .o-web-studio-save-report.btn-primary\",\n        },\n        {\n            // The report has been saved\n            trigger: \".o_web_studio_menu .o-web-studio-save-report:not(.btn-primary)\",\n            run() {},\n        },\n        {\n            // leave the report\n            trigger: \".o_web_studio_breadcrumb .o_back_button:contains(Reports)\",\n        },\n        {\n            // a invisible element cannot be used as a trigger so this small hack is\n            // mandatory for the next step\n            run: function () {\n                $(\".o_kanban_record:contains(My Awesome basic layout Report) .dropdown-toggle\").css(\n                    \"visibility\",\n                    \"visible\"\n                );\n            },\n            trigger: \".o_kanban_view\",\n        },\n        {\n            // open the dropdown\n            trigger: \".o_kanban_record:contains(My Awesome basic layout Report) .dropdown-toggle\",\n        },\n        {\n            // duplicate the report\n            trigger:\n                \".o_kanban_record:contains(My Awesome basic layout Report) .dropdown-menu a:contains(Duplicate)\",\n        },\n        {\n            // open the duplicate report\n            trigger: \".o_kanban_record:contains(My Awesome basic layout Report copy(1))\",\n        },\n        {\n            trigger: '.o_web_studio_sidebar input[id=\"name\"]',\n            run() {\n                assertEqual(this.$anchor[0].value, \"My Awesome basic layout Report copy(1)\");\n            },\n        },\n        {\n            trigger: \".o_web_studio_leave > a.btn\",\n        },\n        stepNotInStudio(),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_approval_tour\", {\n    url: \"/web?debug=1\",\n    test: true,\n    steps: () => [\n        {\n            // go to Apps menu\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n        },\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            extra_trigger: \".o_cp_switch_buttons\",\n        },\n        {\n            // switch to form view editor\n            trigger: '.o_web_studio_views_icons > a[title=\"Form\"]',\n        },\n        {\n            // click on first button it finds that has a node id\n            trigger: \".o_web_studio_form_view_editor button.o-web-studio-editor--element-clickable\",\n        },\n        {\n            // enable approvals for the button\n            trigger: '.o_web_studio_sidebar label[for=\"studio_approval\"]',\n        },\n        {\n            // add approval rule\n            trigger: '.o_web_studio_sidebar_approval [name=\"create_approval_rule\"]',\n            extra_trigger: \".o_web_studio_snackbar .fa-check\",\n        },\n        {\n            // set approval message\n            trigger: '.o_web_studio_sidebar_approval input[name*=\"approval_message\"]',\n            run: \"text nope\",\n        },\n        {\n            // set domain on first rule\n            trigger: \".o_web_studio_sidebar_approval .o_approval_domain\",\n            extra_trigger: \".o_studio_sidebar_approval_rule:eq(1)\",\n        },\n        {\n            // set stupid domain that is always truthy\n            trigger: \".o_domain_debug_container textarea\",\n            run: function () {\n                this.$anchor.focusIn();\n                this.$anchor.val('[[\"id\", \"!=\", False]]');\n                this.$anchor.change();\n            },\n        },\n        {\n            // save domain and close modal\n            trigger: \" .modal-footer .btn-primary\",\n        },\n        {\n            // add second approval rule when the first is set\n            trigger: '.o_web_studio_sidebar_approval [name=\"create_approval_rule\"]',\n            extra_trigger: \".o_web_studio_snackbar .fa-check\",\n        },\n        {\n            // enable 'force different users' for one rule (doesn't matter which)\n            trigger: '.o_web_studio_sidebar label[for*=\"exclusive_user\"]',\n            extra_trigger: \".o_web_studio_snackbar .fa-check\",\n        },\n        {\n            // leave studio\n            trigger: \".o_web_studio_leave > a.btn\",\n            extra_trigger: \".o_web_studio_snackbar .fa-check\",\n        },\n        {\n            // go back to kanban\n            trigger: \".o_breadcrumb .o_back_button\",\n            extra_trigger: \".o_web_client:not(.o_in_studio)\",\n        },\n        {\n            // open first record (should be the one that was used, so the button should be there)\n            trigger: \".o_kanban_view .o_kanban_record .o_dropdown_kanban .dropdown-toggle\",\n        },\n        {\n            trigger: \".o_kanban_view .o_kanban_record .o-dropdown--menu .dropdown-item\",\n        },\n        {\n            // try to do the action\n            trigger: \"button[studio_approval]\",\n        },\n        {\n            // there should be a warning\n            trigger: \".o_notification.border-warning\",\n        },\n        {\n            trigger: \".breadcrumb .o_back_button\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_custom_field_tour\", {\n    url: \"/web\",\n    test: true,\n    steps: () => [\n        {\n            // go to Apps menu\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n        },\n        {\n            // click on the list view\n            trigger: \".o_switch_view.o_list\",\n        },\n        {\n            // click on optional column dropdown\n            trigger: \".o_optional_columns_dropdown_toggle\",\n        },\n        {\n            // click on add custom field\n            trigger: \".dropdown-item-studio\",\n        },\n        {\n            // go to home menu\n            trigger: \".o_menu_toggle\",\n            extra_trigger: \".o_web_client.o_in_studio\",\n        },\n        {\n            //leave studio\n            trigger: \".o_web_studio_leave > a.btn\",\n        },\n        {\n            // studio left.\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n            extra_trigger: \".o_web_client:not(.o_in_studio)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_local_storage_tour\", {\n    url: \"/web\",\n    test: true,\n    steps: () => [\n        {\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n            run: function () {\n                localStorage.setItem(\"openStudioOnReload\", \"main\");\n                window.location.reload();\n            },\n        },\n        {\n            // should be directly in studio mode\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n            extra_trigger: \".o_web_client.o_in_studio\",\n        },\n        {\n            trigger: \".o_menu_toggle\",\n        },\n        {\n            trigger: \".o_web_studio_leave > a.btn\",\n        },\n        {\n            // studio left.\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n            extra_trigger: \".o_web_client:not(.o_in_studio)\",\n            run: function () {\n                window.location.reload();\n            },\n        },\n        {\n            // studio left after refresh.\n            trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n            extra_trigger: \".o_web_client:not(.o_in_studio)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_custom_background_tour\", {\n    url: \"/web\",\n    test: true,\n    steps: () => [\n        {\n            content: \"class for custom background must be enabled (outside studio)\",\n            trigger: \".o_home_menu_background_custom.o_home_menu_background:not(.o_in_studio)\",\n            run: () => null,\n        },\n        {\n            content: \"opening studio\",\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n        },\n        {\n            content: \"class for custom background must be enabled (in studio)\",\n            trigger: \".o_home_menu_background_custom.o_home_menu_background.o_in_studio\",\n            run: () => null,\n        },\n        {\n            content: \"click on Customizations button\",\n            trigger: \".o_web_studio_home_studio_menu button\",\n        },\n        {\n            content: \"reset the background\",\n            trigger: \".o_web_studio_reset_default_background\",\n        },\n        {\n            content: \"validate the reset of the background\",\n            trigger: \".modal-dialog .btn-primary\",\n        },\n        {\n            content: \"class for custom background must be disabled (inside studio)\",\n            trigger: \".o_home_menu_background.o_in_studio:not(.o_home_menu_background_custom)\",\n            run: () => null,\n        },\n        {\n            content: \"leaving studio\",\n            trigger: \".o_web_studio_leave a\",\n        },\n        {\n            content: \"class for custom background must be disabled (outside studio)\",\n            trigger: \".o_home_menu_background:not(.o_in_studio.o_home_menu_background_custom)\",\n            run: () => null,\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_create_app_with_pipeline_and_user_assignment\", {\n    test: true,\n    steps: () => [\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            extra_trigger: \".o_home_menu_background\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n        },\n        {\n            // the next steps are here to create a new app\n            trigger: \".o_web_studio_app_creator_next\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_name > input\",\n            run: \"text \" + (createdAppString = randomString(6)),\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next.is_ready\",\n        },\n        {\n            trigger: \".o_web_studio_menu_creator > input\",\n            run: \"text \" + (createdMenuString = randomString(6)),\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next.is_ready\",\n        },\n        {\n            trigger: \"input#use_stages\",\n        },\n        {\n            trigger: \"input#use_responsible\",\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n        },\n        {\n            trigger: \".o_web_studio_editor .o_menu_sections a:contains(Views)\",\n        },\n        {\n            trigger: \".o_web_studio_view_type[data-type='kanban'] .o_web_studio_thumbnail\",\n        },\n        {\n            extra_trigger: \".o_web_studio_kanban_view_editor\",\n            trigger: \"img.oe_kanban_avatar\",\n            run() {\n                const avatarImg = document.querySelector(\"img.oe_kanban_avatar\");\n                if (!avatarImg.getAttribute(\"title\") === \"Unassigned\") {\n                    throw new Error(\n                        \"The title of the new avatar should be set, even if there are no record\"\n                    );\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_alter_field_existing_in_multiple_views_tour\", {\n    test: true,\n    steps: () => [\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item button\",\n            extra_trigger: \".o_home_menu_background\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n        },\n        {\n            // the next steps are here to create a new app\n            trigger: \".o_web_studio_app_creator_next\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_name > input\",\n            run: \"text \" + (createdAppString = randomString(6)),\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next.is_ready\",\n        },\n        {\n            trigger: \".o_web_studio_menu_creator > input\",\n            run: `text ${createdAppString}`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next.is_ready\",\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n        },\n        {\n            extra_trigger: \".o_web_studio_sidebar\",\n            // unfold 'Existing Fieldqs' section\n            trigger: \".o_web_studio_existing_fields_header\",\n            timeout: 60000,\n        },\n        {\n            // add an existing field (the one we created)\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_field_type_container:eq(2) .o_web_studio_field_many2many:contains(Followers (Partners))\",\n            run: \"drag_and_drop_native .o_inner_group:first .o_web_studio_hook:first\",\n        },\n        {\n            trigger: \".o_web_studio_new \",\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_field_type_container:eq(1) .o_web_studio_field_many2many\",\n            run: \"drag_and_drop_native div.o_web_studio_hook:last\",\n        },\n        {\n            extra_trigger: \".modal-body\",\n            in_modal: true,\n            trigger: '[name=\"relation_id\"] input',\n            run: `text ${createdAppString}`,\n        },\n        {\n            // select the first model\n            trigger: \".o-autocomplete--dropdown-menu > li > a:not(:has(.fa-spin))\",\n            in_modal: true,\n        },\n        {\n            trigger: \"button:contains(Confirm)\",\n        },\n        {\n            // edit list view\n            trigger: \".o_web_studio_editX2Many\",\n        },\n        {\n            // wait for list view to be loaded\n            extra_trigger: \".o_web_studio_list_view_editor\",\n            // go to view\n            trigger: \".o_web_studio_view \",\n        },\n        {\n            // show invisible elements\n            trigger: 'label[for=\"show_invisible\"]',\n        },\n        {\n            trigger: \".o_web_studio_new \",\n        },\n        {\n            // unfold 'Existing Fieldqs' section\n            trigger: \".o_web_studio_existing_fields_header\",\n        },\n        {\n            // add an existing field (the one we created)\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_field_type_container:eq(1) .o_web_studio_field_many2many:contains(Followers (Partners))\",\n            run: \"drag_and_drop_native .o_web_studio_list_view_editor th.o_web_studio_hook:first\",\n        },\n        {\n            // select field\n            trigger: \"th[data-name='message_partner_ids']\",\n            run: \"click\",\n        },\n        {\n            // make it invisible\n            trigger: \"#invisible\",\n            run: \"click\",\n        },\n        {\n            extra_trigger: \".o_web_studio_snackbar .fa.fa-check\",\n            // check if the invisible option is checked\n            trigger: \"#invisible:checked\",\n            run() {},\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_monetary_create\", {\n    url: \"/web?debug=1\",\n    test: true,\n    steps: () => [\n        // This tour drag&drop a monetary field and verify that a currency is created\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            extra_trigger: \".o_home_menu_background\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n            run: () => {},\n        },\n        {\n            trigger: \".o_app[data-menu-xmlid='web_studio.studio_app_menu']\",\n        },\n        // drag&drop a monetary and verify that the currency is in the view\n        {\n            // add a new monetary field\n            trigger: \".o_web_studio_sidebar .o_web_studio_field_monetary\",\n            run: \"drag_and_drop_native .o_web_studio_form_view_editor .o_inner_group\",\n        },\n        {\n            // verify that the currency is set\n            trigger: \".o_web_studio_sidebar .o_web_studio_property_currency_field .text-start\",\n            run() {\n                assertEqual(this.$anchor[0].textContent, \"Currency (x_studio_currency_id)\");\n            },\n        },\n        {\n            // currency field is in the view\n            trigger: \".o_web_studio_view_renderer div[data-field-name='x_studio_currency_id']\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_monetary_change_currency_name\", {\n    url: \"/web?debug=1\",\n    test: true,\n    steps: () => [\n        // Changing currency name also change the currency name in the monetary currency selection\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            extra_trigger: \".o_home_menu_background\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n            run: () => {},\n        },\n        {\n            trigger: \".o_app[data-menu-xmlid='web_studio.studio_app_menu']\",\n        },\n        {\n            // currency field is in the view and click on it\n            trigger: \".o_web_studio_view_renderer [data-field-name='x_studio_currency_test']\",\n        },\n        {\n            // change the currency name\n            trigger: \"input[name='string']\",\n            run(helper) {\n                helper.text(\"NewCurrency\");\n            },\n        },\n        {\n            // click on monetary\n            trigger: \"div[data-field-name^='x_studio_monetary_test']\",\n        },\n        {\n            // verify that the currency name changed in the monetary field\n            trigger: \".o_web_studio_sidebar .o_web_studio_property_currency_field .text-start\",\n            run() {\n                assertEqual(this.$anchor[0].textContent, \"NewCurrency (x_studio_currency_test)\");\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_monetary_change_currency_field\", {\n    url: \"/web\",\n    test: true,\n    steps: () => [\n        // Change currency and verify that the view take the changes into account (the dollar appears)\n        {\n            // open the custom app form view\n            trigger: \"a[data-menu-xmlid='web_studio.studio_app_menu']\",\n        },\n        {\n            // fill the required char input\n            trigger: \".o_field_char input\",\n            run: \"text title\",\n        },\n        {\n            // fill the new currency (many2one) input #1\n            trigger: \"div [name='x_studio_currency_test2'] input\",\n            run: \"text USD\",\n        },\n        {\n            // add a new currency field step #2\n            trigger: '.ui-menu-item a:contains(\"USD\")',\n        },\n        {\n            // save the view form\n            trigger: \"button.o_form_button_save\",\n        },\n        {\n            // open studio with the record\n            trigger: \".o_main_navbar .o_web_studio_navbar_item button\",\n            extra_trigger: \".o_form_saved\",\n        },\n        {\n            // check that there is no currency symbol in renderer\n            trigger: \"div[name='x_studio_monetary_test'] span\",\n            run() {\n                assertEqual(this.$anchor[0].textContent, \"0.00\");\n            },\n        },\n        {\n            // click on the monetary field\n            trigger: \"div[data-field-name='x_studio_monetary_test']\",\n        },\n        {\n            // change the currency_field in the monetary\n            trigger: \".o_web_studio_sidebar .o_web_studio_property_currency_field button\",\n        },\n        {\n            // click on the second currency, which is \"X Studio Currency Test2\"\n            trigger: \".o_web_studio_property_currency_field .o_select_menu_item:nth-child(2)\",\n        },\n        {\n            //wait until the currency has been set (also test the reactivity)\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_property_currency_field span.text-start:contains('X Studio Currency Test2')\",\n            run() {},\n        },\n        {\n            // by changing the currency, we should have a $ symbol in the renderer\n            trigger: \"div[name^='x_studio_monetary'] span\",\n            run() {\n                assertEqual(this.$anchor[0].textContent, \"$\u00a00.00\");\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_monetary_change_currency_not_in_view\", {\n    url: \"/web\",\n    test: true,\n    steps: () => [\n        // Change a currency that is not present in the view insert it in the view\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            extra_trigger: \".o_home_menu_background\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n            run: () => {},\n        },\n        {\n            trigger: \".o_app[data-menu-xmlid='web_studio.studio_app_menu']\",\n        },\n        {\n            // click on the monetary field\n            trigger: \"div[data-field-name='x_studio_monetary_test']\",\n        },\n        {\n            // change the currency_field in the monetary\n            trigger: \".o_web_studio_sidebar .o_web_studio_property_currency_field button\",\n        },\n        {\n            // click on the second currency, which is \"X Studio Currency Test2\"\n            trigger: \".o_web_studio_property_currency_field .o_select_menu_item:nth-child(2)\",\n        },\n        {\n            // wait until the currency has been set\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_property_currency_field span.text-start:contains('X Studio Currency Test2')\",\n            run() {},\n        },\n        {\n            // go to view tab\n            trigger: \".o_web_studio_view\",\n        },\n        {\n            // currency field is in the view and click on it\n            trigger: \".o_web_studio_view_renderer div[data-field-name='x_studio_currency_test2']\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_monetary_add_existing_monetary\", {\n    url: \"/web?debug=1\",\n    test: true,\n    steps: () => [\n        // Add an existing monetary trough the \"existing fields\" and verify that the currency\n        // is added to the view\n        {\n            // open studio\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            extra_trigger: \".o_home_menu_background\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n            run: () => {},\n        },\n        {\n            trigger: \".o_app[data-menu-xmlid='web_studio.studio_app_menu']\",\n        },\n        {\n            // click on \"existing fields\"\n            trigger: \".o_web_studio_existing_fields_header\",\n        },\n        {\n            // add the existing monetary field\n            trigger: \".o_web_studio_existing_fields_section .o_web_studio_field_monetary\",\n            run: \"drag_and_drop_native .o_form_renderer .o_web_studio_hook\",\n        },\n        {\n            // monetary exist and click on monetary\n            trigger: \"div[data-field-name='x_studio_monetary_test']\",\n        },\n        {\n            // verify that the currency name changed in the monetary field\n            trigger: \".o_web_studio_sidebar .o_web_studio_property_currency_field .text-start\",\n            run() {\n                assertEqual(\n                    this.$anchor[0].textContent,\n                    \"X Studio Currency Test (x_studio_currency_test)\"\n                );\n            },\n        },\n        {\n            // currency field is in the view\n            trigger: \"div[data-field-name='x_studio_currency_test']\",\n            run() {},\n        },\n    ],\n});\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"web_studio_monetary_create_monetary_with_existing_currency\", {\n        url: \"/web?debug=1\",\n        test: true,\n        steps: () => [\n            // Add a new monetary field, since a currency already exists, it should take it instead\n            // of creating a new one\n            {\n                // open studio\n                trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n                extra_trigger: \".o_home_menu_background\",\n            },\n            {\n                trigger: \".o_web_studio_new_app\",\n                run: () => {},\n            },\n            {\n                trigger: \".o_app[data-menu-xmlid='web_studio.studio_app_menu']\",\n            },\n            {\n                // go to Add tab\n                trigger: \".o_web_studio_new\",\n            },\n            {\n                // add a new monetary field\n                trigger: \".o_web_studio_sidebar .o_web_studio_field_monetary\",\n                run: \"drag_and_drop_native .o_web_studio_form_view_editor .o_inner_group\",\n            },\n            {\n                // there is only one occurence of the currency field in the view\n                trigger: \".o_form_renderer div[data-field-name^='x_studio_monetary']\",\n                run() {\n                    const o2mNumber = document.querySelectorAll(\"div.o_field_many2one\");\n                    assertEqual(o2mNumber.length, 1);\n                },\n            },\n        ],\n    });\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_add_field_into_empty_group_by\", {\n    url: \"/web?debug=1\",\n    test: true,\n    steps: () => [\n        {\n            trigger: \".o_main_navbar .o_web_studio_navbar_item\",\n            extra_trigger: \".o_home_menu_background\",\n        },\n        {\n            trigger: \".o_web_studio_new_app\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next\",\n        },\n        {\n            trigger: \".o_web_studio_app_creator_name > input\",\n            run: `text ${randomString(6)}`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next.is_ready\",\n        },\n        {\n            trigger: \".o_web_studio_menu_creator > input\",\n            run: `text ${randomString(6)}`,\n        },\n        {\n            trigger: \".o_web_studio_app_creator_next.is_ready\",\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n        },\n        {\n            trigger: \".o_web_studio_views_icons a:last\",\n        },\n        {\n            trigger: `\n        .o_web_studio_sidebar\n        .o_web_studio_existing_fields\n        .o_web_studio_component:has(.o_web_studio_component_description:contains(create_date))`,\n            run: \"drag_and_drop_native .o-web-studio-search--groupbys .o_web_studio_hook\",\n        },\n    ],\n});\n", "/** @odoo-module */\nimport { registry } from \"@web/core/registry\";\nimport { download } from \"@web/core/network/download\";\nimport { ReportEditorModel } from \"@web_studio/client_action/report_editor/report_editor_model\";\nimport { patch, unpatch } from \"@web/core/utils/patch\";\nimport { assertEqual, stepNotInStudio } from \"@web_studio/../tests/tours/tour_helpers\";\n\nconst getBoundingClientRect = Element.prototype.getBoundingClientRect;\n\nfunction insertText(element, text, offset = 0) {\n    const doc = element.ownerDocument;\n    const sel = doc.getSelection();\n    sel.removeAllRanges();\n    const range = doc.createRange();\n    range.setStart(element, offset);\n    range.setEnd(element, offset);\n    sel.addRange(range);\n    for (const char of text) {\n        element.dispatchEvent(\n            new KeyboardEvent(\"keydown\", {\n                key: char,\n            })\n        );\n        const textNode = doc.createTextNode(char);\n        element.append(textNode);\n        sel.removeAllRanges();\n        range.setStart(textNode, 1);\n        range.setEnd(textNode, 1);\n        sel.addRange(range);\n        element.dispatchEvent(\n            new InputEvent(\"input\", {\n                inputType: \"insertText\",\n                data: char,\n                bubbles: true,\n            })\n        );\n        element.dispatchEvent(\n            new KeyboardEvent(\"keyup\", {\n                key: char,\n            })\n        );\n    }\n}\n\nfunction openEditorPowerBox(element, offset = 0) {\n    return insertText(element, \"/\", offset);\n}\n\n/* global ace */\n\n// This function allows to use and test the feature that automatically\n// saves when we leave the reportEditor.\n// Implem detail: it is done at willUnmount, so we need to wait for the promise\n// to be sure we leave the tour when the save is done.\nfunction patchReportEditorModelForSilentSave() {\n    const saveProms = [];\n    patch(ReportEditorModel.prototype, \"studioTestSilentSave\", {\n        saveReport() {\n            const prom = this._super(...arguments);\n            saveProms.push(prom);\n            return prom;\n        },\n    });\n\n    function _unpatch() {\n        unpatch(ReportEditorModel.prototype, \"studioTestSilentSave\");\n    }\n\n    return {\n        wait: async (unpatch = true) => {\n            await Promise.all(saveProms);\n            if (unpatch) {\n                _unpatch();\n            }\n        },\n        saveProms,\n        unpatch: _unpatch,\n    };\n}\n\nlet silentPatch;\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_basic_report_edition\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \".o_web_studio_sidebar input[id='name']\",\n            run: \"text modified in test\",\n        },\n        {\n            trigger: \".o_web_studio_menu .breadcrumb-item.active\",\n            run() {\n                assertEqual(this.$anchor[0].textContent, \"modified in test\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe p:eq(0)\",\n            run: \"text edited with odoo editor\",\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe p:eq(2)\",\n            run: \"text edited with odoo editor 2\",\n        },\n        {\n            // Don't explicitly save, this is a feature\n            trigger: \".o_web_studio_leave a\",\n            run(helpers) {\n                silentPatch = patchReportEditorModelForSilentSave();\n                helpers.click(this.$anchor);\n            },\n        },\n        stepNotInStudio(),\n        {\n            trigger: \"body\",\n            run() {\n                return silentPatch.wait();\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_basic_report_edition_xml\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \".o_web_studio_sidebar button[name='report_edit_sources']\",\n        },\n        {\n            trigger: \".o_web_studio_xml_resource_selector .o_web_studio_xml_resource_select_menu\",\n            run() {\n                assertEqual(\n                    this.$anchor[0].textContent,\n                    \"web_studio.test_report_document (web_studio.test_report_document)\"\n                );\n            },\n        },\n        {\n            trigger: \".o_web_studio_code_editor.ace_editor\",\n            run() {\n                ace.edit(this.$anchor[0])\n                    .getSession()\n                    .insert(\n                        { row: 2, column: 0 },\n                        '<span class=\"test-added-0\">in document view</span>\\n'\n                    );\n            },\n        },\n        {\n            trigger: \".o_web_studio_xml_resource_selector .o_select_menu_toggler\",\n        },\n        {\n            trigger: \".o_web_studio_xml_resource_selector .o-dropdown--menu\",\n            run(helpers) {\n                const mainView = Array.from(\n                    this.$anchor[0].querySelectorAll(\".o_select_menu_item\")\n                ).find(\n                    (el) =>\n                        el.textContent ===\n                        \"web_studio.test_report (web_studio.studio_test_report_view)\"\n                );\n                helpers.click(mainView);\n            },\n        },\n        {\n            trigger: \".o_web_studio_code_editor.ace_editor\",\n            run() {\n                ace.edit(this.$anchor[0])\n                    .getSession()\n                    .insert(\n                        { row: 2, column: 0 },\n                        '<span class=\"test-added-1\">in main view</span>\\n'\n                    );\n            },\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n        },\n        {\n            extra_trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n            trigger: \".o-web-studio-report-container iframe body\",\n            run() {\n                assertEqual(\n                    this.$anchor[0].querySelector(\".test-added-0\").textContent,\n                    \"in document view\"\n                );\n                assertEqual(\n                    this.$anchor[0].querySelector(\".test-added-1\").textContent,\n                    \"in main view\"\n                );\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_basic_report_edition_rollback\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe p:eq(0)\",\n            run: \"text edited with odoo editor\",\n        },\n        {\n            // Brutally add a t-else: this will crash in python on save\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe body\",\n            run() {\n                const editable = this.$anchor[0].querySelector(\".odoo-editor-editable\");\n                const wysiwyg = $(editable).data(\"wysiwyg\");\n                const telse = document.createElement(\"t\");\n                telse.setAttribute(\"t-else\", \"\");\n                wysiwyg.odooEditor.execCommand(\"insert\", telse);\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe p:eq(2)\",\n            run: \"text edited with odoo editor 2\",\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n        },\n        {\n            trigger: \".o_notification .o_notification_title\",\n            run() {\n                assertEqual(this.$anchor[0].textContent, \"Report edition failed\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe p:eq(0)\",\n            run() {\n                assertEqual(this.$anchor[0].textContent, \"\");\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_basic_report_edition_xml_rollback\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \".o_web_studio_sidebar button[name='report_edit_sources']\",\n        },\n        {\n            trigger: \".o_web_studio_code_editor.ace_editor\",\n            run() {\n                ace.edit(this.$anchor[0])\n                    .getSession()\n                    .insert(\n                        { row: 2, column: 0 },\n                        '<span t-else=\"\" class=\"test-added\">in main view</span>'\n                    );\n            },\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n        },\n        {\n            extra_trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n            trigger: \".o_notification .o_notification_title\",\n            run() {\n                assertEqual(this.$anchor[0].textContent, \"Report edition failed\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-container iframe body\",\n            run() {\n                const element = this.$anchor[0].querySelector(\".test-added\");\n                if (element) {\n                    throw new Error(\"The iframe should have been re-rendered after an error\");\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_report_reset_archs\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \".o_web_studio_sidebar button[name='report_reset_archs']\",\n        },\n        {\n            trigger: \".modal-footer\",\n            run(helpers) {\n                const button = Array.from(this.$anchor[0].querySelectorAll(\"button\")).find(\n                    (el) => el.textContent === \"Reset report\" && el.classList.contains(\"btn-danger\")\n                );\n                helpers.click(button);\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe body p:eq(1)\",\n            run() {\n                assertEqual(this.$anchor[0].textContent, \"from file\");\n            },\n        },\n    ],\n});\n\nlet downloadProm;\nlet steps = [];\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_print_preview\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \".o_web_studio_sidebar button[name='report_print_preview']\",\n            run(helpers) {\n                downloadProm = new Promise(resolve => {\n                    patch(download, \"studio_test_download\", {\n                        _download(options) {\n                            steps.push(\"download report\")\n                            const context = JSON.parse(options.data.context);\n                            assertEqual(context[\"report_pdf_no_attachment\"], true);\n                            assertEqual(context[\"discard_logo_check\"], true);\n                            assertEqual(context[\"active_ids\"].length, 1);\n                            unpatch(download, \"studio_test_download\")\n                            resolve();\n                        }\n                    })\n                })\n                return helpers.click(this.$anchor);\n            }\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg\",\n            async run() {\n                await downloadProm;\n                assertEqual(steps.length, 1)\n                assertEqual(steps[0], \"download report\")\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_table_rendering\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe .valid_table\",\n            run() {\n                assertEqual(\n                    this.$anchor[0].outerHTML,\n                    `<table class=\"valid_table\">\n                    <tbody><tr><td>I am valid</td></tr>\n                </tbody></table>`\n                );\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe .invalid_table\",\n            run() {\n                assertEqual(\n                    this.$anchor[0].outerHTML,\n                    `<div class=\"invalid_table\" oe-origin-tag=\"table\" oe-origin-style=\"\">\n                    <t t-foreach=\"doc.child_ids\" t-as=\"child\" oe-context=\"{&quot;docs&quot;: {&quot;model&quot;: &quot;res.partner&quot;, &quot;name&quot;: &quot;Contact&quot;, &quot;in_foreach&quot;: false}, &quot;company&quot;: {&quot;model&quot;: &quot;res.company&quot;, &quot;name&quot;: &quot;Companies&quot;, &quot;in_foreach&quot;: false}, &quot;doc&quot;: {&quot;model&quot;: &quot;res.partner&quot;, &quot;name&quot;: &quot;Contact&quot;, &quot;in_foreach&quot;: true}, &quot;child&quot;: {&quot;model&quot;: &quot;res.partner&quot;, &quot;name&quot;: &quot;Contact&quot;, &quot;in_foreach&quot;: true}}\">\n                        <div oe-origin-tag=\"tr\" oe-origin-style=\"\"><div oe-origin-tag=\"td\" oe-origin-style=\"\" style=\"width: calc(100% - 10px);\">I am not valid</div></div>\n                    </t>\n                </div>`\n                );\n            },\n        },\n        {\n            trigger:\n                \".o-web-studio-report-editor-wysiwyg iframe .invalid_table [oe-origin-tag='td']\",\n            run: \"text edited with odooEditor\",\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe p:eq(1)\",\n            run: \"text p edited with odooEditor\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar input[id='name']\",\n            run: \"text modified\",\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n            run() {},\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_field_placeholder\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            // 1 sec delay to make sure we call the download route\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe p:eq(2)\",\n            async run(helpers) {\n                const el = this.$anchor[0];\n                openEditorPowerBox(el);\n            },\n        },\n        {\n            trigger:\n                \".oe-powerbox-wrapper .oe-powerbox-commandDescription:contains(Insert a field)\",\n        },\n        {\n            extra_trigger: \".o-web-studio-field-dynamic-placeholder\",\n            trigger: \".o-web-studio-report-editor-wysiwyg div:has(> .o-web-studio-report-container)\",\n            async run() {\n                const placeholderBox = getBoundingClientRect.call(document.querySelector(\".o-web-studio-field-dynamic-placeholder\"));\n                assertEqual(this.$anchor[0].scrollTop, 0);\n                this.$anchor[0].scrollTop = 9999;\n                await new Promise(requestAnimationFrame);\n                const newPlaceholderbox = getBoundingClientRect.call(document.querySelector(\".o-web-studio-field-dynamic-placeholder\"));\n                // The field placeholder should have followed its anchor, and it happens that the anchor's container\n                // has been scrolled, so the anchor has moved upwards (and is actually outside of the viewPort, to the top)\n                assertEqual(placeholderBox.top > newPlaceholderbox.top, true);\n            }\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover_search input\",\n            run: \"text Job Position\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover_item_name:contains(Job Position)\",\n        },\n        {\n            trigger:\n                \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_default_value_input input\",\n            run: \"text some default value\",\n        },\n        {\n            trigger: \".o-web-studio-field-dynamic-placeholder .o_model_field_selector_popover\",\n            run() {\n                this.$anchor[0].dispatchEvent(\n                    new KeyboardEvent(\"keydown\", { key: \"Enter\", bubbles: true })\n                );\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe p:eq(0)\",\n            run() {\n                insertText(this.$anchor[0], \"edited with odooEditor\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-save-report.btn-primary\",\n        },\n        {\n            trigger: \".o-web-studio-save-report:not(.btn-primary)\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_edition_without_lang\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe p:eq(1)\",\n            run() {\n                assertEqual(this.$anchor[0].textContent, \"original term\");\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-editor-wysiwyg iframe p:eq(1)\",\n            async run() {\n                insertText(this.$anchor[0], \" edited\");\n            },\n        },\n        {\n            trigger: \".o_web_studio_sidebar button[name='report_edit_sources']\",\n        },\n        {\n            trigger: \".o_web_studio_code_editor_info .o_field_translate\",\n        },\n        {\n            trigger: \".o_translation_dialog .row:eq(1)\",\n            run() {\n                assertEqual(this.$anchor[0].children[0].textContent.trim(), \"French / Fran\u00e7ais\");\n                assertEqual(this.$anchor[0].children[1].textContent.trim(), \"original term edited\");\n            },\n        },\n        {\n            trigger: \".o_translation_dialog .row:eq(1) textarea\",\n            run: \"text translated edited term\",\n        },\n        {\n            trigger: \".modal-footer button.btn-primary\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_report_xml_other_record\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \".o_web_studio_sidebar button[name='report_edit_sources']\",\n        },\n        {\n            extra_trigger: \".o_web_studio_xml_editor\",\n            trigger: \".o-web-studio-report-container iframe body p:contains(partner_1)\",\n            run() {\n                assertEqual(\n                    document.querySelector(\".o-web-studio-report-search-record input\").value,\n                    \"partner_1\"\n                );\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-pager .o_pager_next\",\n        },\n        {\n            trigger: \".o-web-studio-report-container iframe body p:contains(partner_2)\",\n            run() {\n                assertEqual(\n                    document.querySelector(\".o-web-studio-report-search-record input\").value,\n                    \"partner_2\"\n                );\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_partial_eval\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \".o-web-studio-report-container iframe .lol\",\n            run() {\n                const closestContextElement = this.$anchor[0].closest(\"[oe-context]\");\n                const oeContext = closestContextElement.getAttribute(\"oe-context\");\n                const expected = {\n                    docs: { model: \"res.partner\", name: \"Contact\", in_foreach: false },\n                    company: { model: \"res.company\", name: \"Companies\", in_foreach: false },\n                    doc: { model: \"res.partner\", name: \"Contact\", in_foreach: true },\n                    my_children: { model: \"res.partner\", name: \"Contact\", in_foreach: false },\n                    child: { model: \"res.partner\", name: \"Contact\", in_foreach: true },\n                };\n                assertEqual(JSON.stringify(JSON.parse(oeContext)), JSON.stringify(expected));\n            },\n        },\n        {\n            trigger: \".o-web-studio-report-container iframe .couic\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio.test_render_multicompany\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \".o-web-studio-report-container iframe .test_layout\",\n            run() {},\n        },\n        {\n            trigger: \".o-web-studio-report-container iframe img\",\n            run() {\n                const currentUrl = new URL(window.location)\n                const cids = new URLSearchParams(currentUrl.hash.slice(1)).get(\"cids\").split(\",\");\n                assertEqual(this.$anchor[0].getAttribute(\"src\"), `/logo.png?company=${cids[0]}`)\n            }\n        },\n    ],\n});\n", "/** @odoo-module */\nimport { registry } from \"@web/core/registry\";\nimport { stepNotInStudio, assertEqual } from \"@web_studio/../tests/tours/tour_helpers\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"web_studio_test_form_view_not_altered_by_studio_xml_edition\", {\n        test: true,\n        url: \"/web?debug=1\",\n        sequence: 260,\n        steps: () => [\n            {\n                trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            },\n            {\n                trigger: \".o_form_view .o_form_editable\",\n            },\n            {\n                trigger: \".o_web_studio_navbar_item button\",\n            },\n            {\n                trigger: \".o_web_studio_sidebar .o_web_studio_view\",\n            },\n            {\n                trigger: \".o_web_studio_open_xml_editor\",\n            },\n            {\n                extra_trigger: \".o_web_studio_code_editor_info\",\n                trigger: \".o_web_studio_leave\",\n            },\n            stepNotInStudio(\".o_form_view .o_form_editable\"),\n        ],\n    });\n\n/* global ace */\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_edit_with_xml_editor\", {\n    test: true,\n    url: \"/web?debug=1\",\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n        },\n        {\n            extra_trigger: \".someDiv\",\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_view\",\n        },\n        {\n            trigger: \".o_web_studio_open_xml_editor\",\n        },\n        {\n            extra_trigger: \".o_web_studio_xml_editor\",\n            trigger: \".o_web_studio_xml_resource_selector .o_select_menu_toggler\",\n        },\n        {\n            trigger:\n                \".o_web_studio_xml_resource_selector .o-dropdown--menu .o_select_menu_item:contains(Odoo Studio)\",\n        },\n        {\n            trigger: \".ace_content\",\n            run() {\n                ace.edit(document.querySelector(\".ace_editor\")).setValue(\"<data/>\");\n            },\n        },\n        {\n            trigger: \".o_web_studio_xml_editor .o_web_studio_xml_resource_selector .btn-primary\",\n        },\n        {\n            trigger: \".o_web_studio_snackbar:not(:has(.fa-spin))\",\n        },\n        {\n            trigger: \".o_form_view\",\n            run() {\n                if (document.querySelector(\".someDiv\")) {\n                    throw new Error(\"The edition of the view's arch via the xml editor failed\");\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_enter_x2many_edition_and_add_field\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor .o_field_widget[name='user_ids']\",\n        },\n        {\n            extra_trigger: \".o-web-studio-edit-x2manys-buttons\",\n            trigger: \".o_web_studio_editX2Many[data-type='form']\",\n        },\n        {\n            extra_trigger: \".o_view_controller.o_form_view.test-user-form\",\n            trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_header\",\n        },\n        {\n            extra_trigger: \".o_web_studio_existing_fields_section:not(.d-none)\",\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\",\n            run() {\n                $(\n                    \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\"\n                )[0].scrollIntoView();\n            },\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\",\n            run: \"drag_and_drop_native (.o_web_studio_form_view_editor .o_web_studio_hook:eq(1))\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor .o_field_widget[name='log_ids']\",\n            run() {\n                const countFields = document.querySelectorAll(\n                    \".o_web_studio_form_view_editor .o_field_widget\"\n                ).length;\n                if (!countFields === 2) {\n                    throw new Error(\"There should be 2 fields in the form view\");\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_enter_x2many_auto_inlined_subview\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            trigger:\n                \".o_web_studio_form_view_editor .o_field_widget[name='user_ids'] .o_field_x2many_list\",\n        },\n        {\n            extra_trigger: \".o-web-studio-edit-x2manys-buttons\",\n            trigger: \".o_web_studio_editX2Many[data-type='list']\",\n        },\n        {\n            extra_trigger: \".o_view_controller.o_list_view.test-user-list\",\n            trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_header\",\n        },\n        {\n            extra_trigger: \".o_web_studio_existing_fields_section:not(.d-none)\",\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\",\n            run() {\n                $(\n                    \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\"\n                )[0].scrollIntoView();\n            },\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\",\n            run: \"drag_and_drop_native (.o_web_studio_list_view_editor .o_web_studio_hook:eq(1))\",\n        },\n        {\n            trigger: \".o_web_studio_list_view_editor th[data-name='log_ids']\",\n            run() {\n                const countFields = document.querySelectorAll(\n                    \".o_web_studio_form_view_editor th[data-name]\"\n                ).length;\n                if (!countFields === 2) {\n                    throw new Error(\"There should be 2 fields in the form view\");\n                }\n            },\n        },\n    ],\n});\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"web_studio_enter_x2many_auto_inlined_subview_with_multiple_field_matching\", {\n        test: true,\n        sequence: 260,\n        steps: () => [\n            {\n                trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            },\n            {\n                trigger: \".o_form_view .o_form_editable\",\n            },\n            {\n                trigger: \".o_web_studio_navbar_item button\",\n            },\n            {\n                trigger:\n                    \".o_web_studio_form_view_editor .o_field_widget[name='user_ids']:eq(1) .o_field_x2many_list\",\n            },\n            {\n                extra_trigger: \".o-web-studio-edit-x2manys-buttons\",\n                trigger: \".o_web_studio_editX2Many[data-type='list']\",\n            },\n            {\n                extra_trigger: \".o_view_controller.o_list_view.test-user-list\",\n                trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_header\",\n            },\n            {\n                extra_trigger: \".o_web_studio_existing_fields_section:not(.d-none)\",\n                trigger:\n                    \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\",\n                run() {\n                    $(\n                        \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\"\n                    )[0].scrollIntoView();\n                },\n            },\n            {\n                trigger:\n                    \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(User log entries)\",\n                run: \"drag_and_drop_native (.o_web_studio_list_view_editor .o_web_studio_hook:eq(1))\",\n            },\n            {\n                trigger: \".o_web_studio_list_view_editor th[data-name='log_ids']\",\n                run() {\n                    const countFields = document.querySelectorAll(\n                        \".o_web_studio_form_view_editor th[data-name]\"\n                    ).length;\n                    if (!countFields === 2) {\n                        throw new Error(\"There should be 2 fields in the form view\");\n                    }\n                },\n            },\n        ],\n    });\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_field_with_group\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n        },\n        {\n            trigger: \".o_list_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            trigger: \".o_web_studio_list_view_editor th[data-name='function']\",\n            run() {},\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_header\",\n        },\n        {\n            extra_trigger: \".o_web_studio_existing_fields_section:not(.d-none)\",\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\",\n            run() {\n                $(\n                    \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\"\n                )[0].scrollIntoView();\n            },\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\",\n            run: \"drag_and_drop_native (.o_web_studio_list_view_editor th.o_web_studio_hook:eq(2))\",\n        },\n        {\n            extra_trigger:\n                \".o_web_studio_list_view_editor th.o_web_studio_hook:not(.o_web_studio_nearest_hook)\",\n            trigger: \".o_web_studio_list_view_editor th[data-name='website']\",\n            run() {\n                const countFields = document.querySelectorAll(\n                    \".o_web_studio_list_view_editor th[data-name]\"\n                ).length;\n                if (!countFields === 3) {\n                    throw new Error(\"There should be 3 fields in the form view\");\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_elements_with_groups_form\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor\",\n            run() {},\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_header\",\n        },\n        {\n            extra_trigger: \".o_web_studio_existing_fields_section:not(.d-none)\",\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\",\n            run() {\n                $(\n                    \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\"\n                )[0].scrollIntoView();\n            },\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\",\n            run: \"drag_and_drop_native (.o_web_studio_form_view_editor .o_inner_group .o_web_studio_hook:eq(1))\",\n        },\n        {\n            extra_trigger:\n                \".o_web_studio_form_view_editor .o_web_studio_hook:not(.o_web_studio_nearest_hook)\",\n            trigger: \".o_web_studio_form_view_editor .o_field_widget[name='website']\",\n            allowInvisible: true,\n            run() {\n                const countFields = document.querySelectorAll(\n                    \".o_web_studio_form_view_editor .o_field_widget[name]\"\n                ).length;\n                if (!countFields === 2) {\n                    throw new Error(\"There should be 2 fields in the form view\");\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"test_element_group_in_sidebar\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            extra_trigger: \".o_web_studio_form_view_editor .o_field_widget[name='display_name']\",\n            trigger: \".o_web_studio_form_view_editor .o_field_widget[name='display_name']\",\n        },\n        {\n            trigger: \".o_field_many2many_tags[name='groups_id'] .badge\",\n            run() {\n                const tag = document.querySelector(\n                    \".o_field_many2many_tags[name='groups_id'] .badge\"\n                );\n                if (!tag || !tag.textContent.includes(\"Test Group\")) {\n                    throw new Error(\"The groups should be displayed in the sidebar\");\n                }\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_custom_selection_field_edit_values\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n        },\n        {\n            extra_trigger: \".o_form_view\",\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_new_fields .o_web_studio_field_selection\",\n            run: \"drag_and_drop_native (.o_web_studio_hook:eq(0))\",\n        },\n        {\n            trigger: \".o_web_studio_add_selection .o-web-studio-interactive-list-item-input\",\n            run: \"text some value\",\n        },\n        {\n            trigger: \".modal-footer .btn-primary\",\n        },\n        {\n            extra_trigger: \"body:not(:has(.modal))\",\n            trigger: \".o_web_studio_leave\",\n        },\n        {\n            extra_trigger: \".o_form_view\",\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor .o_wrap_input:has(.o_field_selection)\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_edit_selection_values\",\n        },\n        {\n            in_modal: true,\n            trigger: \".o_web_studio_add_selection .o-web-studio-interactive-list-item-input\",\n            run: \"text another value cancel\",\n        },\n        {\n            trigger: \".o_web_studio_add_selection .o-web-studio-interactive-list-edit-item\",\n        },\n        {\n            trigger: \".o_web_studio_selection_editor li:nth-child(2)\",\n            async run() {\n                assertEqual(this.$anchor[0].textContent, \"another value cancel\")\n            }\n        },\n        {\n            trigger: \".modal-footer .btn-secondary\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_edit_selection_values\",\n        },\n        {\n            trigger: \".o_web_studio_selection_editor li\",\n            run() {\n                assertEqual(Array.from(this.$anchor).map(el => el.textContent).join(\" \"), \"some value\")\n            }\n        },\n        {\n            in_modal: true,\n            trigger: \".o_web_studio_add_selection .o-web-studio-interactive-list-item-input\",\n            run: \"text another value\",\n        },\n        {\n            trigger: \".modal-footer .btn-primary\",\n        },\n        {\n            extra_trigger: \"body:not(:has(.modal))\",\n            trigger: \".o_web_studio_leave\",\n        },\n        stepNotInStudio(),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_create_one2many_lines_then_edit_name\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n        },\n        {\n            extra_trigger: \".o_form_view\",\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_new_fields .o_web_studio_field_lines\",\n            run: \"drag_and_drop_native (.o_web_studio_hook:eq(0))\",\n        },\n        {\n            trigger: \".o_form_label\",\n            extra_trigger: \".o_field_x2many_list\",\n            timeout: 20000,\n        },\n        {\n            extra_trigger: \".o_web_studio_sidebar .o_web_studio_properties.active\",\n            trigger: \"input[name='string']\",\n            run: \"text new name\",\n        },\n        {\n            trigger: \".o_web_studio_leave\",\n            timeout: 20000,\n        },\n        stepNotInStudio(\".o_form_view\"),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_address_view_id_no_edit\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n        },\n        {\n            extra_trigger: \".o_form_view\",\n            trigger: \".o_address_format\",\n            run: function () {\n                if (\n                    this.$anchor.find(\"[name=lang]\").length ||\n                    !this.$anchor.find(\"[name=street]\").length\n                ) {\n                    throw new Error(\n                        \"The address view id set on the company country should be displayed\"\n                    );\n                }\n            },\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            extra_trigger: \".o_web_studio_view_renderer\",\n            trigger: \".o_address_format\",\n            run: function () {\n                if (\n                    this.$anchor.find(\"[name=street]\").length ||\n                    !this.$anchor.find(\"[name=lang]\").length\n                ) {\n                    throw new Error(\n                        \"The address view id set on the company country shouldn't be editable\"\n                    );\n                }\n            },\n        },\n        {\n            trigger: \".o_web_studio_leave\",\n        },\n        stepNotInStudio(\".o_form_view\"),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_create_new_model_from_existing_view\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n        },\n        {\n            extra_trigger: \".o_kanban_view\",\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            trigger: \".o_web_create_new_model\",\n        },\n        {\n            extra_trigger: \".modal-dialog\",\n            trigger: \"input[name='model_name']\",\n            run: \"text new model\",\n        },\n        {\n            trigger: \".confirm_button\",\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n        },\n        {\n            trigger: \".o_form_view\",\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_create_model_with_clickable_stages\", {\n    test: true,\n    sequence: 260,\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n        },\n        {\n            extra_trigger: \".o_form_view\",\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            trigger: \".o_web_create_new_model\",\n        },\n        {\n            extra_trigger: \".modal-dialog\",\n            trigger: \"input[name='model_name']\",\n            run: \"text new model\",\n        },\n        {\n            trigger: \".confirm_button\",\n        },\n        {\n            trigger: \"#use_stages\",\n        },\n        {\n            trigger: \".o_web_studio_model_configurator_next\",\n        },\n        {\n            trigger: \".o_web_studio_leave\",\n        },\n        {\n            extra_trigger: \".o_form_view\",\n            trigger: \"input#x_name_0\",\n            run: \"text new record\",\n        },\n        {\n            trigger: \".o_arrow_button:contains(In Progress)\",\n        },\n        {\n            trigger: \".o_arrow_button_current:contains(In Progress)\",\n        },\n        {\n            trigger: \".o_form_button_save\",\n        },\n        {\n            trigger: \".o_back_button\",\n        },\n        {\n            trigger:\n                \".o_kanban_group:contains(In Progress) .o_kanban_record_details:contains(new record)\",\n        },\n    ],\n});\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"web_studio_test_enter_x2many_edition_with_multiple_subviews\", {\n        test: true,\n        sequence: 260,\n        steps: () => [\n            {\n                trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            },\n            {\n                extra_trigger: \".o_form_view span:contains('Address Type')\",\n                trigger: \".o_web_studio_navbar_item button\",\n            },\n            {\n                trigger:\n                    \".o_web_studio_form_view_editor .o_field_widget[name='child_ids'] .o_field_x2many_list\",\n                extra_trigger: \".o_list_renderer span:contains('Address Type')\",\n            },\n            {\n                extra_trigger: \".o-web-studio-edit-x2manys-buttons\",\n                trigger: \".o_web_studio_editX2Many[data-type='list']\",\n            },\n            {\n                trigger: \".o_content > .o_list_renderer span:contains('Address Type')\",\n            },\n        ],\n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"web_studio_test_enter_x2many_edition_with_multiple_subviews_correct_xpath\", {\n        test: true,\n        sequence: 260,\n        steps: () => [\n            {\n                trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n            },\n            {\n                extra_trigger: \".o_form_view\",\n                trigger: \".o_web_studio_navbar_item button\",\n            },\n            {\n                trigger:\n                    \".o_web_studio_form_view_editor .o_field_widget[name='child_ids'] .o_field_x2many_list\",\n            },\n            {\n                extra_trigger: \".o-web-studio-edit-x2manys-buttons\",\n                trigger: \".o_web_studio_editX2Many[data-type='list']\",\n            },\n            {\n                extra_trigger: \".o_view_controller.o_list_view.test-subview-list\",\n                trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_header\",\n            },\n            {\n                extra_trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_section\",\n                trigger: `.o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component[data-drop='${JSON.stringify(\n                    { fieldName: \"active\" }\n                )}']`,\n                run: \"drag_and_drop_native (.o_web_studio_hook:eq(0))\",\n            },\n            {\n                content: \"Check that the active field has been added\",\n                trigger: \".o_web_studio_view_renderer .o_list_view thead th[data-name='active']\",\n            },\n        ],\n    });\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_studio_view_is_last\", {\n    test: true,\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n        },\n        {\n            extra_trigger: \".o_form_view\",\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_header\",\n        },\n        {\n            extra_trigger: \".o_web_studio_existing_fields_section:not(.d-none)\",\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\",\n            run() {\n                $(\n                    \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\"\n                )[0].scrollIntoView();\n            },\n        },\n        {\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Website Link)\",\n            run: \"drag_and_drop_native (.o_web_studio_form_view_editor .o_inner_group .o_web_studio_hook:last)\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor .o_field_widget[name='website']\",\n            allowInvisible: true,\n            run() {},\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_edit_form_subview_attributes\", {\n    test: true,\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n        },\n        {\n            extra_trigger: \".o_form_view\",\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            trigger:\n                \".o_web_studio_form_view_editor .o_field_widget[name='child_ids'] .o_field_x2many_list\",\n        },\n        {\n            extra_trigger: \".o-web-studio-edit-x2manys-buttons\",\n            trigger: \".o_web_studio_editX2Many[data-type='form']\",\n        },\n        {\n            extra_trigger: \".o_view_controller.o_form_view.test-subview-form\",\n            trigger: \".o_web_studio_sidebar.o_notebook .nav-link:contains(View)\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar input[name='create']:checked\",\n        },\n        {\n            trigger: \".o_web_studio_sidebar input[name='create']:not(:checked)\",\n            run() {},\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_x2many_two_levels_edition\", {\n    test: true,\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor .o_field_widget[name='user_ids']\",\n        },\n        {\n            extra_trigger: \".o-web-studio-edit-x2manys-buttons\",\n            trigger: \".o_web_studio_editX2Many[data-type='form']\",\n        },\n        {\n            extra_trigger: \".o_view_controller.o_form_view.test-subview-form-1\",\n            trigger: \".o_web_studio_form_view_editor .o_field_widget[name='log_ids']\",\n        },\n        {\n            trigger: \".o_web_studio_editX2Many[data-type='form']\",\n        },\n        {\n            trigger: \".o_view_controller.o_form_view.test-subview-form-2\",\n            run() {},\n        },\n        {\n            trigger: \".o_web_studio_sidebar .o_web_studio_existing_fields_header\",\n        },\n        {\n            extra_trigger: \".o_web_studio_existing_fields\",\n            trigger:\n                \".o_web_studio_sidebar .o_web_studio_existing_fields_section .o_web_studio_component:contains(Created on)\",\n            run: \"drag_and_drop_native .o_web_studio_hook\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor [data-field-name='create_date']\",\n            run() {},\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_field_group_studio_no_fetch\", {\n    test: true,\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n        },\n        {\n            trigger: \".o_form_view .o_form_editable\",\n        },\n        {\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            trigger: \".o_web_studio_form_view_editor\",\n            run() {\n                assertEqual(this.$anchor[0].querySelectorAll(\".o_field_widget\").length, 1);\n                assertEqual(\n                    this.$anchor[0].querySelectorAll(\".o_field_widget\")[0].dataset.studioXpath,\n                    \"/form[1]/field[2]\"\n                );\n            },\n        },\n        {\n            trigger: \".o_web_studio_views_icons a[title='List']\",\n        },\n        {\n            trigger: \".o_web_studio_list_view_editor\",\n            run() {\n                assertEqual(\n                    this.$anchor[0].querySelectorAll(\"th:not(.o_web_studio_hook)\").length,\n                    1\n                );\n                assertEqual(\n                    this.$anchor[0].querySelectorAll(\"th:not(.o_web_studio_hook)\")[0].dataset\n                        .studioXpath,\n                    \"/tree[1]/field[2]\"\n                );\n            },\n        },\n        {\n            trigger: \".o_web_studio_views_icons a[title='Kanban']\",\n        },\n        {\n            trigger: \".o_web_studio_kanban_view_editor\",\n            run() {\n                assertEqual(\n                    this.$anchor[0].querySelectorAll(\n                        \".o_kanban_record:not(.o_kanban_demo):not(.o_kanban_ghost) [data-field-name]\"\n                    ).length,\n                    1\n                );\n                assertEqual(\n                    this.$anchor[0]\n                        .querySelectorAll(\n                            \".o_kanban_record:not(.o_kanban_demo):not(.o_kanban_ghost) [data-field-name]\"\n                        )[0]\n                        .getAttribute(\"studioxpath\"),\n                    \"/kanban[1]/t[1]/field[2]\"\n                );\n            },\n        },\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"web_studio_test_move_similar_field\", {\n    test: true,\n    steps: () => [\n        {\n            trigger: \"a[data-menu-xmlid='web_studio.studio_test_partner_menu']\",\n        },\n        {\n            extra_trigger: \".o_form_view\",\n            trigger: \".o_web_studio_navbar_item button\",\n        },\n        {\n            extra_trigger: \".o_web_studio_form_view_editor\",\n            trigger: \".o_notebook_headers a:contains('two')\",\n        },\n        {\n            trigger: \".tab-pane.active [data-field-name=display_name]\",\n            run: \"drag_and_drop_native (.o_web_studio_form_view_editor .o_web_studio_hook:eq(1))\",\n        },\n        {\n            trigger: \".o_web_studio_leave\",\n            run() {\n            },\n        },\n    ]\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { appendArticleLink, endKnowledgeTour } from '../knowledge_tour_utils.js';\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n\nregistry.category(\"web_tour.tours\").add('knowledge_article_command_tour', {\n    url: '/web',\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    // open the Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, ...appendArticleLink('[name=\"body\"]', \"EditorCommandsArticle\"),\n{ // wait for the block to appear in the editor\n    trigger: '.o_knowledge_behavior_type_article:contains(\"EditorCommandsArticle\")',\n    run: 'click',\n}, { // check that the view switched to the corresponding article while keeping the breadcrumbs history\n    trigger: '.o_knowledge_header:has(.o_breadcrumb_article_name_container:contains(\"EditorCommandsArticle\")):has(.breadcrumb-item > a:contains(\"EditorCommandsArticle\"))'\n}, ...endKnowledgeTour()\n]});\n\nconst composeBody = '.modal-dialog:contains(Compose Email) [name=\"body\"]';\nregistry.category(\"web_tour.tours\").add('knowledge_article_command_dialog_tour', {\n    url: '/web',\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    // open the Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, { // open the chatter\n    trigger: '.btn-chatter',\n}, { // open the message editor\n    trigger: '.o-mail-Chatter-sendMessage:not([disabled=\"\"])',\n}, { // open the full composer\n    trigger: \"button[aria-label='Full composer']\",\n}, ...appendArticleLink(`${composeBody}`, 'EditorCommandsArticle'), { // wait for the block to appear in the editor\n    trigger: `${composeBody} .o_knowledge_behavior_type_article:contains(\"EditorCommandsArticle\")`,\n    run: () => {},\n}, ...appendArticleLink(`${composeBody}`, 'LinkedArticle', 1), { // wait for the block to appear in the editor, after the previous one\n    trigger: `${composeBody} .odoo-editor-editable > p > a:nth-child(2).o_knowledge_behavior_type_article:contains(\"LinkedArticle\")[contenteditable=\"false\"]`,\n    run: () => {},\n}, { // verify that the first block is still there and contenteditable=false\n    trigger: `${composeBody} .odoo-editor-editable > p > a:nth-child(1).o_knowledge_behavior_type_article:contains(\"EditorCommandsArticle\")[contenteditable=\"false\"]`,\n    run: () => {},\n}, { // send the message\n    trigger: '.o_mail_send',\n}, {\n    trigger: '.o_widget_knowledge_chatter_panel .o-mail-Thread .o-mail-Message-body > p > a:nth-child(1).o_knowledge_behavior_type_article:contains(\"EditorCommandsArticle\")',\n    run: () => {},\n}, {\n    trigger: '.o_widget_knowledge_chatter_panel .o-mail-Thread .o-mail-Message-body > p > a:nth-child(2).o_knowledge_behavior_type_article:contains(\"LinkedArticle\")',\n    run: () => {},\n}, ...endKnowledgeTour()\n]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { endKnowledgeTour, openCommandBar } from '../knowledge_tour_utils.js';\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nfunction clickDate(el) {\n    const rect = el.getBoundingClientRect();\n    const eventParams = {\n        bubbles: true,\n        clientX: rect.left + 1,\n        clientY: rect.top + 1,\n    };\n    el.dispatchEvent(new MouseEvent('mousedown', eventParams));\n    el.dispatchEvent(new MouseEvent('mouseup', eventParams));\n}\n\nfunction dragDate(el, target) {\n    // Cannot use drag_and_drop because it uses the center of the elements\n    const elRect = el.getBoundingClientRect();\n    el.dispatchEvent(new MouseEvent('mousedown', {\n        bubbles: true,\n        clientX: elRect.left + 1,\n        clientY: elRect.top + 1,\n    }));\n    const targetRect = target.getBoundingClientRect();\n    target.dispatchEvent(new MouseEvent('mousemove', {\n        bubbles: true,\n        clientX: targetRect.left + 1,\n        clientY: targetRect.top + 1,\n    }));\n    target.dispatchEvent(new MouseEvent('mouseup', {\n        bubbles: true,\n        clientX: targetRect.left + 1,\n        clientY: targetRect.top + 1,\n    }));\n}\n\nregistry.category(\"web_tour.tours\").add('knowledge_calendar_command_tour', {\n    url: '/web',\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(), { // open the Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, { \n    //-----------------------------------------------\n    // Insert a new item calendar view in the article\n    //-----------------------------------------------\n    \n    // Open the command bar\n    trigger: '.odoo-editor-editable > p',\n    run: function () {\n        openCommandBar(this.$anchor[0]);\n    },\n}, { // Click on the /calendar command\n    trigger: '.oe-powerbox-commandName:contains(\"Calendar\")',\n    run: 'click',\n}, { // As the article does not have properties definitions, it should create default ones\n    trigger: '.modal-footer .btn-primary',\n}, { // Scroll to the embedded view to load it\n    trigger: '.o_knowledge_behavior_type_embedded_view',\n    run: () => {},\n}, { \n    //---------------------------------------------------\n    // Create an article item by clicking in the calendar\n    //---------------------------------------------------\n\n    // Click on a date\n    trigger: 'tr[data-time=\"08:00:00\"] td.fc-widget-content:not(.fc-time)',\n    extra_trigger: '.o_knowledge_behavior_type_embedded_view .o_knowledge_article_view_calendar_embedded_view',\n    run: function () {\n        clickDate(this.$anchor[0]);\n    },\n}, {\n    // Check we created an item with the right datetime used as property\n    trigger: '.o_knowledge_properties_field .o_property_field:contains(\"Start Date\")',\n    extra_trigger: '.o_breadcrumb_article_name_container span:empty',\n    run: function () {\n        const input = this.$anchor.find(\"input\")[0];\n        if (!input.value.includes(\"08:00:00\")) {\n            throw new Error('Item was not created with the correct property value');\n        }\n    },\n}, { // Set the name of the item\n    trigger: '.o_knowledge_editor .odoo-editor-editable h1',\n    run: 'text Item Article',\n}, { // Go back to parent article\n    trigger: '.o_knowledge_tree .o_article_name:contains(\"EditorCommandsArticle\")',\n    run: 'click',\n}, { // Check that the item is shown in the calendar\n    trigger: '.fc-time-grid-event .o_event_title:contains(\"Item Article\")',\n    run: () => {},\n}, {\n    //--------------------------------------------------------------\n    // Insert another item calendar view (to test advanced settings)\n    // and create new start and stop properties to use by the view\n    //--------------------------------------------------------------\n\n    // Remove previous item calendar view\n    trigger: '.odoo-editor-editable',\n    run: function () {\n        this.$anchor.data('wysiwyg').odooEditor.resetContent();\n    },\n}, {\n    // Click on the \"Create Item Calednar\" helper\n    trigger: '.o_knowledge_helper .o_knowledge_add_item_calendar',\n    extra_trigger: '.odoo-editor-editable:not(:has(.o_knowledge_behavior_type_embedded_view))',\n    run: 'click',\n}, { // Open the start date dropdown\n    trigger: '.o_knowledge_item_calendar_dialog_date_start .o_select_menu_toggler',\n    run: 'click',\n}, { // Create a new start property\n    trigger: '.o_knowledge_item_calendar_dialog_date_start .o_select_menu input',\n    run: 'text Start Property'\n}, {\n    trigger: '.o_knowledge_item_calendar_dialog_date_start .o_select_menu .o_select_menu_item.o_create_datetime',\n    run: 'click',\n}, { // Open the stop dropwdown\n    trigger: '.o_knowledge_item_calendar_dialog_date_stop .o_select_menu_toggler',\n    run: 'click',\n}, { // Create a new stop property\n    trigger: '.o_knowledge_item_calendar_dialog_date_stop .o_select_menu input',\n    run: 'text Stop Property'\n}, {\n    trigger: '.o_knowledge_item_calendar_dialog_date_stop .o_select_menu .o_select_menu_item.o_create_choice',\n    run: 'click',\n}, { // Insert the calendar\n    trigger: '.modal-footer .btn-primary',\n    run: 'click',\n}, {\n    //---------------------------------------------------\n    // Create an article item by clicking in the calendar\n    //---------------------------------------------------\n\n    // Click on a date\n    trigger: 'tr[data-time=\"08:00:00\"] td.fc-widget-content:not(.fc-time)',\n    extra_trigger: '.o_knowledge_behavior_type_embedded_view .o_knowledge_article_view_calendar_embedded_view',\n    run: function () {\n        clickDate(this.$anchor[0]);\n    },\n}, {\n    // Check we created an item with the right datetime used as property\n    trigger: '.o_knowledge_properties_field .o_property_field:contains(\"Start Property\")',\n    extra_trigger: '.o_breadcrumb_article_name_container span:empty',\n    run: function () {\n        const input = this.$anchor.find(\"input\")[0];\n        if (!input.value.includes(\"08:00:00\")) {\n            throw new Error('Item was not created with the correct property value');\n        }\n    },\n}, { \n    //-----------------------------------------------------------------------\n    // Create new properties from the article view that will be used later in\n    // this tour\n    //-----------------------------------------------------------------------\n\n    // Create a new date property\n    trigger: '.o_knowledge_properties_field .o_field_property_add button',\n    run: 'click',\n}, {\n    trigger: '.o_field_property_definition_header',\n    run: 'text Date Property',\n}, {\n    trigger: '.o_field_property_definition_type button.dropdown-toggle',\n    run: 'click',\n}, {\n    trigger: '.o_field_property_definition_type .dropdown-menu .dropdown-item:contains(\"Date\"):not(:contains(\"Time\"))',\n    run: 'click',\n}, {\n    trigger: '.o_knowledge_editor .odoo-editor-editable',\n    run: 'click',\n}, { // Create a new checkbox property\n    trigger: '.o_knowledge_properties_field .o_field_property_add button',\n    run: 'click',\n}, {\n    trigger: '.o_field_property_definition_header',\n    run: 'text Boolean Property',\n}, {\n    trigger: '.o_field_property_definition_type button.dropdown-toggle',\n    run: 'click',\n}, {\n    trigger: '.o_field_property_definition_type .dropdown-menu .dropdown-item:contains(\"Checkbox\")',\n    run: 'click',\n}, {\n    trigger: '.o_knowledge_editor .odoo-editor-editable',\n    run: 'click',\n}, { // Create a text property\n    trigger: '.o_knowledge_properties_field .o_field_property_add button',\n    run: 'click',\n}, {\n    trigger: '.o_field_property_definition_header',\n    run: 'text Text Property',\n}, {\n    trigger: '.o_field_property_definition_type button.dropdown-toggle',\n    run: 'click',\n}, {\n    trigger: '.o_field_property_definition_type .dropdown-menu .dropdown-item:contains(\"Text\")',\n    run: 'click',\n}, {\n    trigger: '.o_knowledge_editor .odoo-editor-editable',\n    run: 'click',\n}, { // Set the text property\n    trigger: '.o_knowledge_properties_field .o_property_field:contains(\"Text Property\") input',\n    run: 'text Custom text',\n}, { // Set the name of the item \n    trigger: '.o_knowledge_editor .odoo-editor-editable h1',\n    run: 'text Item Article',\n}, { // Go back to parent article\n    trigger: '.o_knowledge_tree .o_article_name:contains(\"EditorCommandsArticle\")',\n    run: 'click',\n}, { // Check that the item is shown in the calendar\n    trigger: '.fc-time-grid-event .o_event_title:contains(\"Item Article\")',\n    run: () => {},\n}, {\n    //-------------------------------------------------------------------------\n    // Test the props editor dialog by changing the values, check that the view\n    // is updated accordingly, and set the start and stop dates back to check\n    // that the item article is shown again\n    //-------------------------------------------------------------------------\n\n    // Open the view props editor\n    trigger: '.o_knowledge_behavior_type_embedded_view .o_knowledge_toolbar button:contains(\"Edit\")',\n    run: 'click',\n}, { // Change the start property\n    trigger: '.o_knowledge_item_calendar_dialog_date_start .o_select_menu_toggler',\n    run: 'click',\n}, {\n    trigger: '.o_knowledge_item_calendar_dialog_date_start .o_select_menu .o_select_menu_item:contains(\"Date Property\")',\n    run: 'click',\n}, { // Check that stop date has been removed as the start type changed,\n    trigger: '.o_knowledge_item_calendar_dialog_date_stop .o_select_menu_toggler_slot span.text-muted',\n    run: () => {},\n}, { // Open the stop property dropdown\n    trigger: '.o_knowledge_item_calendar_dialog_date_stop .o_select_menu_toggler',\n    run: 'click',\n}, { // Check that one cannot use the selected start date\n    trigger: '.o_knowledge_item_calendar_dialog_date_stop .o_select_menu:not(:contains(\"Date Property\"))',\n    run: () => {},\n}, { // Don't select a stop property\n    trigger: '.o_knowledge_item_calendar_props_dialog',\n    run: 'click',\n}, { // Open the color property dropdown\n    trigger: '.o_color .o_select_menu_toggler',\n    run: 'click',\n}, { // Select the previously created property\n    trigger: '.o_color .o_select_menu .o_select_menu_item:contains(\"Boolean Property\")',\n    run: 'click',\n}, { // Open the scale dropdown\n    trigger: '.o_scale .o_select_menu_toggler',\n    run: 'click',\n}, { // Select the month scale\n    trigger: '.o_scale .o_select_menu .o_select_menu_item:contains(\"Month\")',\n    run: 'click',\n}, { // Save changes\n    trigger: '.modal-footer .btn-primary',\n    run: 'click',\n}, { // Check calendar has been updated (new scale and no item shown)\n    trigger: '.o_knowledge_article_view_calendar_embedded_view .o_calendar_buttons .o_view_scale_selector:contains(\"Month\")',\n    extra_trigger: '.fc-view:not(:has(.fc-event-container))',\n    run: () => {},\n}, { // Change start and stop dates again\n    trigger: '.o_knowledge_behavior_type_embedded_view .o_knowledge_toolbar button:contains(\"Edit\")',\n    run: 'click',\n}, { // Change the start property\n    trigger: '.o_knowledge_item_calendar_dialog_date_start .o_select_menu_toggler',\n    run: 'click',\n}, {\n    trigger: '.o_knowledge_item_calendar_dialog_date_start .o_select_menu .o_select_menu_item:contains(\"Start Property\")',\n    run: 'click',\n}, { // Check that stop date has been removed as the start type changed,\n    trigger: '.o_knowledge_item_calendar_dialog_date_stop .o_select_menu_toggler_slot span.text-muted',\n    run: () => {},\n}, { // Open the stop property dropdown\n    trigger: '.o_knowledge_item_calendar_dialog_date_stop .o_select_menu_toggler',\n    run: 'click',\n}, { // Select the stop date\n    trigger: '.o_knowledge_item_calendar_dialog_date_stop .o_select_menu .o_select_menu_item:contains(\"Stop Property\")',\n    run: 'click',\n}, { // Save changes\n    trigger: '.modal-footer .btn-primary',\n    run: 'click',\n}, { // Open the view\n    trigger: '.o_knowledge_behavior_type_embedded_view .o_knowledge_toolbar button:contains(\"Open\")',\n    run: 'click',\n}, { // Check that the item is shown\n    trigger: '.fc-view .o_event_title:contains(\"Item Article\")',\n    extra_trigger: '.o_knowledge_article_view_calendar_embedded_view.o_action',\n    run: () => {},\n}, { // Leave the app and come back to make sure that changes have been saved\n    trigger: '.o_main_navbar .o_menu_toggle',\n}, {\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n    run: 'click',\n}, { \n    //----------------------------\n    // Move the item and resize it\n    //----------------------------\n\n    // Change the scale from the calendar view\n    trigger: '.o_knowledge_article_view_calendar_embedded_view .o_calendar_buttons .o_view_scale_selector button:contains(\"Month\")',\n    extra_trigger: '.o_knowledge_behavior_type_embedded_view',\n    run: 'click',\n}, {\n    trigger: '.o_knowledge_article_view_calendar_embedded_view .o_calendar_buttons .o_scale_button_week',\n    run: 'click',\n}, { // Move the item in the calendar\n    trigger: '.fc-time-grid-event .o_event_title:contains(\"Item Article\")',\n    run: function () {\n        const target = document.querySelector('tr[data-time=\"09:00:00\"] td.fc-widget-content:not(.fc-time)');\n        dragDate(this.$anchor[0], target);\n    },\n}, { // Make resizer visible\n    trigger: '.fc-time-grid-event',\n    run: function () {\n        const resizer = this.$anchor.find('.fc-end-resizer')[0];\n        resizer.style.display = \"block\";\n        resizer.style.width = \"100%\";\n        resizer.style.height = \"3px\";\n        resizer.style.bottom = \"0\";\n        },\n}, {\n    trigger: '.fc-time-grid-event:contains(\"Item Article\") .fc-end-resizer',\n    run: function () {\n        const target = document.querySelector('tr[data-time=\"11:00:00\"] td.fc-widget-content:not(.fc-time)');\n        dragDate(this.$anchor[0], target);\n    },\n}, { \n    //----------------------------------------------------------------------\n    // Check that the date properties have been updated correclty after that\n    // the item has been moved in the item calendar view, and that the text\n    // property has not been changed\n    //----------------------------------------------------------------------\n\n    // Open the item\n    trigger: '.fc-time-grid-event',\n    run: 'dblclick',\n}, { // Check that the properties have been updated\n    trigger: '.o_knowledge_properties_field .o_property_field:contains(\"Start Property\")',\n    extra_trigger: '.o_breadcrumb_article_name_container:contains(\"Item Article\")',\n    run: function () {\n        const input = this.$anchor.find(\"input\")[0];\n        if (!input.value.includes(\"09:00:00\")) {\n            throw new Error('Item start date property has not been updated');\n        }\n    },\n}, {\n    trigger: '.o_knowledge_properties_field .o_property_field:contains(\"Stop Property\")',\n    run: function () {\n        const input = this.$anchor.find(\"input\")[0];\n        // When resizing an event, the event spans the hovered row, so we need to add 15 minutes\n        if (!input.value.includes(\"11:15:00\")) {\n            throw new Error('Item stop date property has not been updated');\n        }\n    },\n}, { // Check text property did not change\n    trigger: '.o_knowledge_properties_field .o_property_field:contains(\"Text Property\")',\n    run: function () {\n        const input = this.$anchor.find(\"input\")[0];\n        if (!input.value.includes(\"Custom text\")) {\n            throw new Error('Item text property has changed');\n        }\n    },\n}, {\n    //---------------------------------------------------------------------\n    // Remove start property to test the behavior of the item calendar view\n    // when the required props are missing\n    //---------------------------------------------------------------------\n\n    // Click on edit property button\n    trigger: '.o_knowledge_properties_field .o_property_field:contains(\"Start Property\") .o_field_property_open_popover',\n    run: 'click',\n}, { // Delete start date property\n    trigger: '.o_field_property_definition .o_field_property_definition_delete',\n    run: 'click',\n}, { // Confirm deletion\n    trigger: '.modal-dialog .btn-primary',\n    run: 'click',\n}, { // Go back to parent article\n    trigger: '.o_knowledge_tree .o_article_name:contains(\"EditorCommandsArticle\")',\n    run: 'click',\n}, { // Make sure view is not crashed and shows nocontent helper\n    trigger: '.o_knowledge_article_view_calendar_embedded_view .o_knowledge_item_calendar_nocontent',\n    run: () => {},\n}, ...endKnowledgeTour()\n]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { endKnowledgeTour, openCommandBar } from '../knowledge_tour_utils.js';\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n\nregistry.category(\"web_tour.tours\").add('knowledge_file_command_tour', {\n    url: '/web',\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    // open the Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, { // open the command bar\n    trigger: '.odoo-editor-editable > p',\n    run: function () {\n        openCommandBar(this.$anchor[0]);\n    },\n}, { // click on the /file command\n    trigger: '.oe-powerbox-commandName:contains(\"File\")',\n    run: 'click',\n}, { // wait for the media dialog to open\n    trigger: '.o_select_media_dialog',\n}, { // click on the first item of the modal\n    trigger: '.o_existing_attachment_cell:first-child',\n    run: 'click'\n}, { // wait for the block to appear in the editor\n    trigger: '.o_knowledge_behavior_type_file',\n}, ...endKnowledgeTour()\n]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { endKnowledgeTour, openCommandBar } from '../knowledge_tour_utils.js';\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n\nregistry.category(\"web_tour.tours\").add('knowledge_index_command_tour', {\n    url: '/web',\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    // open the Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, { // open the command bar\n    trigger: '.odoo-editor-editable > p',\n    run: function () {\n        openCommandBar(this.$anchor[0]);\n    },\n}, { // click on the /index command\n    trigger: '.oe-powerbox-commandName:contains(\"Index\")',\n    run: 'click',\n}, { // wait for the block to appear in the editor\n    trigger: '.o_knowledge_behavior_type_articles_structure',\n}, { // click on the refresh button\n    trigger: '.o_knowledge_behavior_type_articles_structure button[title=\"Update\"]',\n    run: 'click',\n}, { // click on the switch mode button\n    trigger: '.o_knowledge_behavior_type_articles_structure button[title=\"Switch Mode\"]',\n    run: 'click',\n}, ...endKnowledgeTour()\n]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { endKnowledgeTour, openCommandBar } from '../knowledge_tour_utils.js';\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('knowledge_kanban_cards_command_tour', {\n    url: '/web',\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(), { // open the Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, { // open the command bar\n    trigger: '.odoo-editor-editable > p',\n    run: function () {\n        openCommandBar(this.$anchor[0]);\n    },\n}, { // click on the /kanban command\n    trigger: '.oe-powerbox-commandName:contains(\"Item Cards\")',\n    run: 'click',\n},\n...commonKanbanSteps(),\n{ // create an article item\n    trigger: '.o_knowledge_behavior_type_embedded_view .o-kanban-button-new',\n    run: 'click',\n}, { // verify that the view switched to the article item\n    trigger: '.o_knowledge_header:has(input[id=\"name\"]:placeholder-shown):has(.breadcrumb-item > a:contains(\"EditorCommandsArticle\"))',\n    run: () => {},\n}, ...endKnowledgeTour()\n]});\n\nregistry.category(\"web_tour.tours\").add('knowledge_kanban_command_tour', {\n    url: '/web',\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(), { // open the Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, { // open the command bar\n    trigger: '.odoo-editor-editable > p',\n    run: function () {\n        openCommandBar(this.$anchor[0]);\n    },\n}, { // click on the /kanban command\n    trigger: '.oe-powerbox-commandName:contains(\"Item Kanban\")',\n    run: 'click',\n},\n...commonKanbanSteps(),\n{ // Check that the stages are well created\n    trigger: '.o_knowledge_behavior_type_embedded_view .o_kanban_renderer .o_kanban_group .o_kanban_header_title:contains(\"Ongoing\")',\n    run: () => {},\n}, { // create an article item from Main New button\n    trigger: '.o_knowledge_behavior_type_embedded_view .o-kanban-button-new',\n    run: 'click',\n}, { // Type a Title for new article in the quick create form\n    trigger: '.o_knowledge_behavior_type_embedded_view .o_kanban_renderer .o_kanban_quick_create .o_input',\n    run: 'text New Quick Create Item',\n}, { // Click on Add to create the article\n    trigger: '.o_knowledge_behavior_type_embedded_view .o_kanban_renderer .o_kanban_quick_create .o_kanban_add',\n    run: 'click'\n}, { // Verify that the article has been properly created\n    trigger: '.o_knowledge_behavior_type_embedded_view .o_kanban_renderer .o_kanban_record_title span:contains(\"New Quick Create Item\")',\n    run: () => {},\n}, { // Create a new article using quick create in OnGoing Column\n    trigger: '.o_knowledge_behavior_type_embedded_view .o_kanban_renderer .o_kanban_group .o_kanban_header_title:contains(\"Ongoing\") .o_kanban_quick_add',\n    run: 'click'\n}, { // Type a Title for new article in the quick create form\n    trigger: '.o_knowledge_behavior_type_embedded_view .o_kanban_renderer .o_kanban_group:has(.o_kanban_header_title:contains(\"Ongoing\")) .o_kanban_quick_create .o_input',\n    run: 'text Quick Create Ongoing Item',\n}, { // Click on Edit to open the article in edition in his own form view\n    trigger: '.o_knowledge_behavior_type_embedded_view .o_kanban_renderer .o_kanban_quick_create .o_kanban_edit',\n    run: 'click'\n}, { // verify that the view switched to the article item\n    trigger: '.o_knowledge_header .o_breadcrumb_article_name_container:contains(\"Quick Create Ongoing Item\")',\n    run: () => {},\n}, ...endKnowledgeTour()\n]});\n\nfunction commonKanbanSteps () {\n    return [\n        { // choose a name for the embedded view\n            trigger: '.modal-footer button.btn-primary',\n            run: 'click',\n        }, { // scroll to the embedded view to load it\n            trigger: '.o_knowledge_behavior_type_embedded_view',\n            run: function () {\n                this.$anchor[0].scrollIntoView();\n            },\n        }, { // wait for the kanban view to be mounted\n            trigger: '.o_knowledge_behavior_type_embedded_view .o_kanban_renderer',\n            run: () => {\n                const helpField = document.querySelector('.o_knowledge_content[data-prop-name=\"action_help\"]');\n                if (!helpField) {\n                    throw new Error('Help field was not rendered in the DOM');\n                }\n                // allow further modifications of the help field for testing\n                helpField.classList.remove('d-none');\n            },\n        }, { // modify the help message in the dom\n            trigger: '.o_knowledge_content[data-prop-name=\"action_help\"] > p',\n            run: function () {\n                this.$anchor[0].textContent = \"Test help message\";\n            }\n        }, { // create an article to switch to\n            trigger: '.o_section_header:contains(Workspace) .o_section_create',\n            run: 'click'\n        }, { // check that the article is correctly created\n            trigger: '.odoo-editor-editable > h1',\n            run: () => {},\n        }, { // switch back to the first article\n            trigger: '.o_knowledge_tree .o_article_name:contains(\"EditorCommandsArticle\")',\n            run: 'click',\n        }, { // scroll to load\n            trigger: '.o_knowledge_behavior_type_embedded_view',\n            run: function () {\n                this.$anchor[0].scrollIntoView();\n            }\n        }, { // wait for the kanban view to be mounted\n            trigger: '.o_knowledge_behavior_type_embedded_view .o_kanban_renderer',\n            run: () => {}\n        }, { // open the view\n            trigger: '.o_knowledge_toolbar button:contains(Open)',\n            run: 'click'\n        }, { // verify that the help message is displayed\n            trigger: '.o_action_manager > .o_view_controller.o_kanban_view .o_nocontent_help:contains(\"Test help message\")',\n            run: () => {}\n        }, { // go back to the first view\n            trigger: '.breadcrumb a:contains(\"EditorCommandsArticle\")',\n            run: 'click',\n        }, { // scroll to the embedded view to load it\n            trigger: '.o_knowledge_behavior_type_embedded_view',\n            run: function () {\n                this.$anchor[0].scrollIntoView();\n            },\n        }, { // wait for the kanban view to be mounted\n            trigger: '.odoo-editor-editable',\n            extra_trigger: '.o_knowledge_behavior_type_embedded_view .o_kanban_renderer',\n            run: function () {\n                const helpField = document.querySelector('.o_knowledge_content[data-prop-name=\"action_help\"]');\n                if (!helpField) {\n                    throw new Error('Help field was not rendered in the DOM');\n                }\n                // focus the body otherwise change will not be saved\n                this.$anchor[0].focus();\n                // remove the help field from the dom for testing\n                helpField.remove();\n            },\n        }, { // switch back to the first article\n            trigger: '.o_knowledge_tree .o_article_name:contains(\"Untitled\")',\n            run: 'click',\n        }, { // check that the article is loaded\n            trigger: '.odoo-editor-editable > h1',\n            run: () => {},\n        }, { // reswitch to the other article\n            trigger: '.o_knowledge_tree .o_article_name:contains(\"EditorCommandsArticle\")',\n            run: 'click',\n        }, { // scroll to the embedded view to load it\n            trigger: '.o_knowledge_behavior_type_embedded_view',\n            run: function () {\n                this.$anchor[0].scrollIntoView();\n            },\n        }, { // wait for the kanban view to be mounted\n            trigger: '.o_knowledge_behavior_type_embedded_view .o_kanban_renderer',\n            run: () => {},\n        }, { // open the view\n            trigger: '.o_knowledge_toolbar button:contains(Open)',\n            run: 'click'\n        }, { // verify that the default help message is displayed\n            trigger: '.o_action_manager > .o_view_controller.o_kanban_view .o_nocontent_help:contains(\"No data to display\")',\n            run: () => {}\n        }, { // go back to the first view\n            trigger: '.breadcrumb a:contains(\"EditorCommandsArticle\")',\n            run: 'click',\n        }\n    ];\n};\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { endKnowledgeTour, openCommandBar } from '../knowledge_tour_utils.js';\nimport { decodeDataBehaviorProps } from \"@knowledge/js/knowledge_utils\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst testName = \"*()!'<>~\";\nlet behaviorProps;\n\nregistry.category(\"web_tour.tours\").add('knowledge_list_command_tour', {\n    url: '/web',\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(), { // open the Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, { // open the command bar\n    trigger: '.odoo-editor-editable > p',\n    run: function () {\n        openCommandBar(this.$anchor[0]);\n    },\n}, { // click on the /list command\n    trigger: '.oe-powerbox-commandName:contains(\"Item List\")',\n    run: 'click',\n}, { // input a test name for the view\n    trigger: '.modal-dialog #label',\n    run: `text ${testName}`,\n}, { // choose a name for the embedded view\n    trigger: '.modal-footer button.btn-primary',\n    run: 'click'\n}, { // scroll to the embedded view to load it\n    trigger: '.o_knowledge_behavior_type_embedded_view',\n    run: function () {\n        this.$anchor[0].scrollIntoView();\n    },\n}, { // wait for the list view to be mounted\n    trigger: '.o_knowledge_behavior_type_embedded_view .o_list_renderer',\n    run: () => {},\n}, { // verify that the view has the correct name and store data-behavior-props\n    trigger: '.o_knowledge_embedded_view .o_control_panel .o_breadcrumb .active:contains(\"*()!\\'<>~\")',\n    run: () => {\n        const embeddedViewElement = document.querySelector('.o_knowledge_behavior_type_embedded_view');\n        behaviorProps = decodeDataBehaviorProps(embeddedViewElement.dataset.behaviorProps);\n    }\n}, { // click on rename button\n    trigger: '.o_knowledge_toolbar button:contains(Rename)',\n    run: 'click',\n}, { // click to validate the modal\n    trigger: '.modal-footer button.btn-primary',\n    run: 'click'\n}, { // check that the name is the correct one and compare previous data-behavior-props and the new one (should be equivalent)\n    trigger: '.o_knowledge_embedded_view .o_control_panel .o_breadcrumb .active:contains(\"*()!\\'<>~\")',\n    run: () => {\n        const embeddedViewElement = document.querySelector('.o_knowledge_behavior_type_embedded_view');\n        const newBehaviorProps = decodeDataBehaviorProps(embeddedViewElement.dataset.behaviorProps);\n        if (JSON.stringify(newBehaviorProps) !== JSON.stringify(behaviorProps)) {\n            // check that knowledge.article render_embedded_view urllib.parse.quote did\n            // produce an equivalent data-behavior-props as knowledge_utils encodeDataBehaviorProps encodeURIComponent\n            throw new Error('data-behavior-props should be semantically the same as before');\n        }\n    }\n}, { // click on rename button\n    trigger: '.o_knowledge_toolbar button:contains(Rename)',\n    run: 'click',\n}, { // rename the view\n    trigger: '.modal-body input',\n    run: 'text New Title',\n}, { // click to validate the modal\n    trigger: '.modal-footer button.btn-primary',\n    run: 'click',\n}, { // check that name has been updated\n    trigger: '.o_knowledge_embedded_view .o_control_panel .o_breadcrumb .active:contains(\"New Title\")',\n    run: () => {},\n}, {\n    // reload the article to make sure that the article is saved for readonly tour\n    trigger: 'a[data-menu-xmlid=\"knowledge.knowledge_menu_home\"]',\n}, { // wait for embed to be visible\n    trigger: '.o_knowledge_behavior_type_embedded_view',\n}, ...endKnowledgeTour()\n]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { endKnowledgeTour, openCommandBar } from '../knowledge_tour_utils.js';\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n\nregistry.category(\"web_tour.tours\").add('knowledge_outline_command_tour', {\n    url: '/web',\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    // open the Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, { // open the command bar\n    trigger: '.odoo-editor-editable > p',\n    run: function () {\n        openCommandBar(this.$anchor[0]);\n    },\n}, { // click on the /outline command\n    trigger: '.oe-powerbox-commandName:contains(\"Index\")',\n    run: 'click',\n}, { // wait for the block to appear in the editor\n    trigger: '.o_knowledge_behavior_type_articles_structure',\n}, { // click on the refresh button\n    trigger: '.o_knowledge_behavior_type_articles_structure button[title=\"Update\"]',\n    run: 'click',\n}, ...endKnowledgeTour()\n]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { endKnowledgeTour, openCommandBar } from \"../knowledge_tour_utils.js\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n/**\n * Insert the Knowledge kanban view as an embedded view in article.\n *\n * @param {String} article article name\n * @returns {Array} steps\n */\nconst embedKnowledgeKanbanViewSteps = function (article) {\n    return [{ // open the Knowledge App\n        trigger: \".o_app[data-menu-xmlid='knowledge.knowledge_menu_root']\",\n    }, { // click on the search menu\n        trigger: \"[role='menuitem']:contains(Search)\",\n    }, { // toggle on the kanban view\n        trigger: \".o_switch_view.o_kanban\",\n    }, { // wait for the kanban view\n        trigger: \".o_kanban_renderer\",\n        run: () => {},\n    }, { // open action menu dropdown\n        trigger: \".o_control_panel .o_cp_action_menus button\",\n    }, { // click on the knowledge menu button\n        trigger: \".o_control_panel .o_cp_action_menus .dropdown-toggle:contains(Knowledge)\",\n        run: function () {\n            this.$anchor[0].dispatchEvent(new Event(\"mouseenter\"));\n        },\n    }, { // click on insert view in article\n        trigger: \".o_cp_action_menus span:contains('Insert view in article')\",\n    }, { // embed in article\n        trigger: `.modal-dialog td.o_field_cell:contains(${article})`,\n    }];\n};\n\n/**\n * Test favorite filters and use by default filters in embedded views in\n * Knowledge. Need an article with 2 named kanban embeds to work.\n *\n * @param {String} kanban1 name of the first kanban\n * @param {String} kanban2 name of the second kanban\n * @returns {Array} steps\n */\nconst validateFavoriteFiltersSteps = function (kanban1, kanban2) {\n    return [{\n        content: 'Open the search panel menu',\n        trigger: `.o_knowledge_embedded_view .o_control_panel:contains(${kanban1}) .o_searchview_dropdown_toggler`,\n    }, {\n        trigger: \".o_favorite_menu .o_add_favorite\",\n    }, {\n        trigger: \".o_favorite_menu:contains(Favorites) input[type='text']\",\n        run: \"text testFilter\",\n    }, {\n        // use by default\n        trigger: \".o_favorite_menu .o-checkbox:contains(Default filter) input\",\n    }, {\n        trigger: \".o_favorite_menu .o_save_favorite\",\n    },\n    stepUtils.toggleHomeMenu(),\n    {\n        // open the Knowledge App\n        trigger: \".o_app[data-menu-xmlid='knowledge.knowledge_menu_root']\",\n    }, {\n        // check that the search item has been added\n        trigger: \".o_facet_value\",\n        run: function () {\n            const items = document.querySelectorAll(\".o_facet_value\");\n            if (items.length !== 1) {\n                console.error(\"The search should be applied only on the first view\");\n            } else if (items[0].innerText !== 'testFilter') {\n                console.error(`Wrong favorite name: ${items[0].innerText}`);\n            }\n        },\n    }, {\n        // Open the favorite of the second kanban and check it has no favorite\n        // (favorite are defined per view)\n        trigger: `.o_breadcrumb:contains('${kanban2}')`,\n        run: function () {\n            const view = this.$anchor[0].closest(\n                '.o_kanban_view'\n            );\n            const searchMenuButton = view.querySelector(\".o_searchview_dropdown_toggler\");\n            searchMenuButton.click();\n        },\n    }, {\n        trigger: \".o_favorite_menu\",\n        run: function () {\n            const items = document.querySelectorAll(\".o_favorite_menu .dropdown-item\");\n            if (items.length !== 1 || items[0].innerText !== \"Save current search\") {\n                console.error(\"The favorite should not be available for the second view\");\n            }\n        },\n    }];\n};\n\nregistry.category(\"web_tour.tours\").add(\"knowledge_items_search_favorites_tour\", {\n    url: \"/web\",\n    test: true,\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            // open the Knowledge App\n            trigger: \".o_app[data-menu-xmlid='knowledge.knowledge_menu_root']\",\n        },\n        {\n            trigger: \".o_field_html\",\n            run: function () {\n                const header = document.querySelector(\".o_breadcrumb_article_name input\");\n                if (header.value !== \"Article 1\") {\n                    console.error(`Wrong article: ${header.value}`);\n                }\n            },\n        },\n        // Create the first Kanban\n        {\n            trigger: \".odoo-editor-editable > h1\",\n            run: function () {\n                openCommandBar(this.$anchor[0]);\n            },\n        },\n        {\n            trigger: \".oe-powerbox-commandName:contains('Item Kanban')\",\n        },\n        {\n            trigger: \".modal-body input.form-control\",\n            run: \"text Items 1\",\n        },\n        {\n            trigger: \"button:contains('Insert')\",\n        },\n        // wait for kanban 1 to be inserted\n        {\n            trigger: \".o_knowledge_embedded_view .o_control_panel:contains(Items 1)\",\n            run: () => {},\n        },\n        // Create the second Kanban\n        {\n            trigger: \".odoo-editor-editable > h1\",\n            run: function () {\n                openCommandBar(this.$anchor[0]);\n            },\n        },\n        {\n            trigger: \".oe-powerbox-commandName:contains('Item Kanban')\",\n        },\n        {\n            trigger: \".modal-body input.form-control\",\n            run: \"text Items 2\",\n        },\n        {\n            trigger: \"button:contains('Insert')\",\n        },\n        // wait for kanban 2 to be inserted\n        {\n            trigger: \".o_knowledge_embedded_view .o_control_panel:contains(Items 2)\",\n            run: () => {},\n        },\n        ...validateFavoriteFiltersSteps(\"Items 1\", \"Items 2\"),\n        ...endKnowledgeTour(),\n    ],\n});\n\nregistry.category(\"web_tour.tours\").add(\"knowledge_search_favorites_tour\", {\n    url: \"/web\",\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(),\n        // insert a first kanban view\n        ...embedKnowledgeKanbanViewSteps(\"Article 1\"),\n        { // wait for embedded view to load and click on rename button\n            trigger: '.o_knowledge_behavior_type_embedded_view:has(.o_knowledge_embedded_view .o_control_panel:contains(Articles)) .o_knowledge_toolbar button:contains(Rename)',\n            allowInvisible: true,\n        }, { // rename the view Kanban 1\n            trigger: '.modal-dialog input.form-control',\n            run: `text Kanban 1`,\n        }, { // click on rename\n            trigger: \"button:contains('Rename')\",\n        }, { // check the application of the rename\n            trigger: '.o_knowledge_embedded_view .o_control_panel:contains(Kanban 1)',\n            run: () => {},\n        },\n        stepUtils.toggleHomeMenu(),\n        // insert a second kanban view\n        ...embedKnowledgeKanbanViewSteps(\"Article 1\"),\n        { // wait for embedded view to load\n            trigger: '.o_knowledge_embedded_view .o_control_panel:contains(Articles)',\n            run: () => {},\n        },\n        ...validateFavoriteFiltersSteps(\"Kanban 1\", \"Articles\"),\n        ...endKnowledgeTour(),\n    ],\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { endKnowledgeTour, openCommandBar } from '../knowledge_tour_utils.js';\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n\nregistry.category(\"web_tour.tours\").add('knowledge_table_of_content_command_tour', {\n    url: '/web',\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    // open the Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, { // open the command bar\n    trigger: '.odoo-editor-editable > p',\n    run: function () {\n        openCommandBar(this.$anchor[0]);\n    },\n}, { // click on the /toc command\n    trigger: '.oe-powerbox-commandName:contains(\"Table Of Content\")',\n    run: 'click',\n}, { // wait for the block to appear in the editor\n    trigger: '.o_knowledge_behavior_type_toc',\n}, { // insert a few titles in the editor\n    trigger: '.odoo-editor-editable > p',\n    run: function () {\n        const $anchor = $(this.$anchor[0]);\n        $anchor.append([\n            $('<h1>Title 1</h1>'),\n            $('<h2>Title 1.1</h2>'),\n            $('<h3>Title 1.1.1</h3>'),\n            $('<h2>Title 1.2</h2>'),\n        ]);\n    },\n}, { // click on the h1 anchor link generated by the toc\n    trigger: '.o_knowledge_toc_link_depth_0',\n    run: 'click',\n}, { // open the tools panel\n    trigger: '#dropdown_tools_panel',\n    run: 'click',\n}, { // switch to locked (readonly) mode\n    trigger: '.o_knowledge_more_options_panel .btn-lock',\n    run: 'click',\n}, { // check that we are in readonly mode\n    trigger: '.o_field_html .o_readonly',\n    run: () => {},\n}, { // check that the content of the toc is not duplicated\n    trigger: '.o_knowledge_behavior_type_toc',\n    run: function () {\n        if (this.$anchor[0].querySelectorAll('.o_knowledge_toc_content').length !== 1) {\n            throw new Error('The table of content group of links should be present exactly once (not duplicated)');\n        }\n    },\n}, { // click on the h1 anchor link generated by the toc\n    trigger: '.o_knowledge_toc_link_depth_0',\n    run: 'click',\n}, { // open the tools panel\n    trigger: '#dropdown_tools_panel',\n    run: 'click',\n}, { // unlock the article\n    trigger: '.o_knowledge_more_options_panel.show .btn-lock',\n    run: 'click',\n}, { // check that we are in edit mode\n    trigger: '.o_field_html .odoo-editor-editable',\n    run: () => {},\n}, ...endKnowledgeTour()\n]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { endKnowledgeTour, openCommandBar } from '../knowledge_tour_utils.js';\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n\nregistry.category(\"web_tour.tours\").add('knowledge_template_command_tour', {\n    url: '/web',\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    // open the Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, { // go to the custom article\n    trigger: '.o_article .o_article_name:contains(\"EditorCommandsArticle\")',\n}, { // wait for article to be correctly loaded\n    trigger: '.o_breadcrumb_article_name_container:contains(\"EditorCommandsArticle\")',\n    run: () => {},\n}, { // open the command bar\n    trigger: '.odoo-editor-editable > p',\n    run: function () {\n        openCommandBar(this.$anchor[0]);\n    },\n}, { // click on the /clipboard command\n    trigger: '.oe-powerbox-commandName:contains(\"Clipboard\")',\n    run: 'click',\n}, { // wait for the block to appear in the editor\n    trigger: '.o_knowledge_behavior_type_template',\n}, { // enter text into the mail template\n    trigger: '.o_knowledge_content > p',\n    run: 'text Hello world'\n}, { // verify that the text was correctly inserted\n    trigger: '.o_knowledge_content > p:contains(Hello world)',\n}, { // open the chatter\n    trigger: '.btn-chatter',\n    run: 'click',\n}, {\n    trigger: '.o-mail-Thread',\n    run: () => {},\n}, { // open the follower list of the article\n    trigger: '.o-mail-Followers-button',\n    run: 'click',\n}, { // open the contact record of the follower\n    trigger: '.o-mail-Follower-details:contains(HelloWorldPartner)',\n    run: 'click',\n}, { // verify that the partner form view is fully loaded\n    trigger: '.o_breadcrumb .o_last_breadcrumb_item.active:contains(HelloWorldPartner)',\n    run: () => {},\n}, { // search an article to open it from the contact record\n    trigger: 'button[title=\"Search Knowledge Articles\"]',\n    run: 'click',\n}, { // open the article\n    trigger: '.o_command_default:contains(EditorCommandsArticle)',\n    run: 'click',\n}, { // wait for article to be correctly loaded\n    trigger: '.o_breadcrumb_article_name_container:contains(\"EditorCommandsArticle\")',\n    run: () => {},\n}, { // use the template as description for the contact record\n    trigger: '.o_knowledge_behavior_type_template button:contains(Use as)',\n    run: 'click',\n}, { // check that the content of the template was inserted as description\n    trigger: '.o_form_sheet .o_field_html .odoo-editor-editable p:first-child:contains(\"Hello world\")',\n    run: () => {},\n}, ...endKnowledgeTour()\n]});\n", "/** @odoo-module */\n\nimport { endKnowledgeTour } from './knowledge_tour_utils.js';\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nfunction moveCover(position) {\n    const cover = document.querySelector('.o_knowledge_cover img');\n    cover.dispatchEvent(new PointerEvent('pointerdown'));\n    document.dispatchEvent(new PointerEvent('pointermove', {clientY: position}));\n    document.dispatchEvent(new PointerEvent('pointerup'));\n}\n\n/**\n * Tests the cover picker feature when unsplash credentials are unset. In this\n * case, the \"Add Cover\" button should always open the cover selector.\n */\nregistry.category(\"web_tour.tours\").add('knowledge_cover_selector_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    // Open Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, {\n    // Click on the \"Create\" button\n    trigger: '.o_knowledge_header .btn-create',\n}, {\n    // Set the name of the article\n    trigger: '.o_breadcrumb_article_name > input',\n    extra_trigger: '.o_article_active:contains(\"Untitled\")',\n    run: 'text Birds',\n}, {\n    // Make the add cover button visible (only visible on hover)\n    trigger: '.o_article_active:contains(\"Birds\")',\n    run() {},\n}, {\n    // Click on add cover button\n    trigger: '.o_knowledge_add_cover',\n    allowInvisible: true,\n}, {\n    // Check that the cover selector has been opened and that it shows\n    // the form allowing to enter unsplash credentials, and click on the\n    // add url button\n    trigger: '.o_upload_media_url_button',\n    extra_trigger: '.modal-body .unsplash_error',\n    run: () => {},\n}, {\n    // Change the search query to find odoo_logo file\n    trigger: '.modal-body input.o_we_search',\n    extra_trigger: '.modal-body .o_nocontent_help',\n    run: 'text odoo_logo',\n}, {\n    // Choose the odoo_logo cover\n    trigger: '.o_existing_attachment_cell img[title*=\"odoo_logo\"]',\n    run: 'click',\n}, {\n    // Check cover has been added to the article and is initially centered and\n    // make the reposition cover button visible\n    trigger: '.o_knowledge_cover img[style=\"object-position: 50% 50%;\"]',\n    run() {},\n}, {\n    // Click on the reposition cover button\n    trigger: '.o_knowledge_reposition_cover',\n    allowInvisible: true,\n}, {\n    // Move the cover down and click on the \"Cancel\" button\n    trigger: '.o_reposition_hint',\n    run: () => {\n        moveCover(1000);\n        const undoButton = document.querySelector('.o_knowledge_undo_cover_move');\n        // Timeout to make sure the event is fired after that the cover has moved\n        setTimeout(() => undoButton.dispatchEvent(new PointerEvent('pointerdown', {bubbles: true})), 0);\n    },\n}, {\n    // Check that the undo button works as expected (cover should be centered)\n    trigger: '.o_knowledge_cover img[style=\"object-position: 50% 50%;\"]',\n    extra_trigger: '.o_knowledge_cover:not(:has(.o_reposition_hint))',\n    run() {},\n}, {\n    // Move cover again but use the \"save\" button this time\n    trigger: '.o_knowledge_reposition_cover',\n    allowInvisible: true,\n}, {\n    trigger: '.o_reposition_hint',\n    run: () => {\n        moveCover(1000);\n        const saveButton = document.querySelector('.o_knowledge_save_cover_move');\n        // Timeout to make sure the event is fired after that the cover has moved\n        setTimeout(() => saveButton.dispatchEvent(new PointerEvent('pointerdown', {bubbles: true})), 0);\n    }\n}, {\n    // Check that the cover is positioned at the top\n    trigger: '.o_knowledge_cover img[style=\"object-position: 50% 0.01%;\"]',\n    extra_trigger: '.o_knowledge_cover:not(:has(.o_reposition_hint))',\n}, {\n    // Create another article\n    trigger: '.o_knowledge_header .btn-create',\n}, {\n    // Change the name of the article\n    trigger: '.o_breadcrumb_article_name > input',\n    extra_trigger: '.o_article_active:contains(\"Untitled\")',\n    run: 'text odoo',\n}, {\n    // Go back to previous article\n    trigger: '.o_knowledge_sidebar .o_article_name:contains(\"Birds\")',\n    extra_trigger: '.o_article_active:contains(\"odoo\")',\n}, {\n    // Check that the cover is still positioned at the top and make the replace\n    // cover visible\n    trigger: '.o_knowledge_cover img[style=\"object-position: 50% 0.01%;\"]',\n    extra_trigger: '.o_article_active:contains(\"Birds\")',\n    run() {},\n}, {\n    // Click on replace cover button\n    trigger: '.o_knowledge_replace_cover',\n    allowInvisible: true,\n}, {\n    // Check that the cover selector has been opened, that no image is shown\n    // since the search query (birds) do not match the name of the existing\n    // cover, and close the cover selector\n    trigger: '.modal-footer .btn-secondary',\n    extra_trigger: '.modal-body .o_nocontent_help',\n}, {\n    // Make the remove cover button visible\n    trigger: '.o_knowledge_edit_cover_buttons',\n    run() {},\n}, {\n    // Click on remove cover button\n    trigger: '.o_knowledge_remove_cover',\n    allowInvisible: true,\n}, {\n    // Check cover has been removed from the article and open other article\n    trigger: '.o_knowledge_sidebar .o_article_name:contains(\"odoo\")',\n    extra_trigger: '.o_knowledge_body:not(:has(.o_widget_knowledge_cover))',\n}, {\n    // Make the add cover button visible\n    trigger: '.o_article_active:contains(\"odoo\")',\n    run() {},\n}, {\n    // Click on add cover button\n    trigger: '.o_knowledge_add_cover',\n    allowInvisible: true,\n}, {\n    // Check that odoo logo previously uploaded is shown in the selector as the\n    // search query, which is the article name, is \"odoo\" which is also in the\n    // cover attachment's name, and that clicking on it sets it as cover of the\n    // current article\n    trigger: '.modal-body .o_existing_attachment_cell img[title=\"odoo_logo.png\"]',\n}, {\n    // Check cover has been set, and open previous article again\n    trigger: '.o_knowledge_sidebar .o_article_name:contains(\"Birds\")',\n    extra_trigger: '.o_knowledge_cover',\n}, {\n    // Make the add cover button visible\n    trigger: '.o_knowledge_edit_cover_buttons',\n    run() {},\n}, {\n    // Click on add cover button\n    trigger: '.o_knowledge_add_cover',\n    allowInvisible: true,\n}, {\n    // Check odoo logo is not shown as the search query does not match its name\n    // and remove search query\n    trigger: '.modal-body input.o_we_search',\n    extra_trigger: '.modal-body .o_nocontent_help',\n    run: 'remove_text',\n}, {\n    // Check that odoo logo is now shown in the cover selector, and make the trash\n    // button visible\n    trigger: '.modal-body .o_existing_attachment_cell img[title=\"odoo_logo.png\"]',\n    run() {},\n}, {\n    // Click on delete cover button\n    trigger: '.modal-body .o_existing_attachment_cell:has(img[title=\"odoo_logo.png\"]) .o_existing_attachment_remove',\n    allowInvisible: true,\n}, {\n    // Confirm deletion of cover (should ask for confirmation)\n    trigger: '.modal-footer .btn-primary',\n    extra_trigger: '.modal-title:contains(\"Confirmation\")'\n}, {\n    // Check that no cover is shown anymore in the cover selector, and close it\n    trigger: '.modal-footer .btn-secondary',\n    extra_trigger: '.modal-body .o_we_existing_attachments:not(:has(.o_existing_attachment_cell))',\n}, {\n    // Open other article to check that its cover has been removed since it has\n    // been deleted\n    trigger: '.o_knowledge_sidebar .o_article_name:contains(\"odoo\")',\n}, {\n    trigger: '.o_knowledge_body:not(:has(.o_widget_knowledge_cover))',\n    extra_trigger: '.o_article_active:contains(\"odoo\")',\n    allowInvisible: true,\n}, ...endKnowledgeTour()\n]});\n", "/** @odoo-module */\n\nimport { endKnowledgeTour, makeVisible } from './knowledge_tour_utils.js';\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n/**\n * Tests the cover picker feature when unsplash credentials are set. In this\n * case, the \"Add Cover\" button should either add a random picture from a \n * selected unsplash collection if no name is set on the article, either\n * add a random image using the article name as query word.\n */\nregistry.category(\"web_tour.tours\").add('knowledge_random_cover_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    // Open Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, {\n    // Click on the \"Create\" action\n    trigger: '.o_knowledge_header .btn-create',\n}, {\n    // Make the add cover button visible (only visible on hover)\n    trigger: '.o_article_active:contains(\"Untitled\")',\n    run: () => makeVisible('.o_knowledge_add_cover'),\n}, {\n    // Click on add cover button\n    trigger: '.o_knowledge_add_cover',\n}, {\n    // Check that a cover has been added, and make the change cover button visible\n    trigger: '.o_knowledge_cover .o_knowledge_cover_image',\n    run: () => makeVisible('.o_knowledge_replace_cover'),\n}, {\n    // Click on change cover button\n    trigger: '.o_knowledge_replace_cover',\n}, {\n    // Check that the cover selector has been opened, that no unsplash images can be\n    // loaded as the article has no name and close the cover selector\n    trigger: '.modal-footer .btn-secondary',\n    extra_trigger: '.modal-body .o_load_done_msg',\n}, {\n    // Make the remove cover button visible\n    trigger: '.o_knowledge_edit_cover_buttons',\n    run: () => makeVisible('.o_knowledge_remove_cover'),\n}, {\n    // Remove the cover of the article\n    trigger: '.o_knowledge_remove_cover',\n}, {\n    // Set the name of the article\n    trigger: '.o_breadcrumb_article_name > input',\n    run: 'text Birds',\n}, {\n    // Make the add cover button visible\n    trigger: '.o_article_active:contains(\"Birds\")',\n    run: () => makeVisible('.o_knowledge_add_cover'),\n}, {\n    // Click on add cover button\n    trigger: '.o_knowledge_add_cover',\n}, {\n    // Check that a cover has been added and make the change cover button visible\n    trigger: '.o_knowledge_cover .o_knowledge_cover_image',\n    run: () => makeVisible('.o_knowledge_replace_cover'),\n}, {\n    // Click on change cover button\n    trigger: '.o_knowledge_replace_cover',\n}, {\n    // Check that the cover selector has been opened, that other unsplash\n    // images can be loaded and close the cover selector\n    trigger: '.modal-footer .btn-secondary',\n    extra_trigger: '.modal-body .o_load_more',\n}, ...endKnowledgeTour()\n]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport { endKnowledgeTour, openCommandBar } from './knowledge_tour_utils';\n\nregistry.category(\"web_tour.tours\").add('knowledge_embedded_view_filters_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n        // open Knowledge App\n        trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n    }, { // open the command bar\n        trigger: '.odoo-editor-editable > p',\n        run: function () {\n            openCommandBar(this.$anchor[0]);\n        },\n    }, { // add embedded list view of article items\n        trigger: '.oe-powerbox-commandName:contains(\"Item List\")'\n    }, {\n        trigger: '.btn-primary'\n    }, { // Check that we have 2 elements in the embedded view\n        trigger: 'tbody tr.o_data_row:nth-child(2)',\n        run: () => {}\n    }, { // add a simple filter\n        trigger: '.o_searchview_input_container input',\n        run: 'text 1'\n    }, {\n        trigger: 'li#1'\n    }, { // Check that the filter is effective\n        trigger: 'tbody:not(tr.o_data_row:nth-child(2))',\n        run: () => {}\n    }, { // Open the filtered article\n        trigger: 'tbody > tr > td[name=\"display_name\"]'\n    }, { // Wait for the article to be open\n        trigger: '.o_breadcrumb_article_name_container > span:contains(\"Child 1\")',\n        run: () => {}\n    }, { // Open parent via the sidebar\n        trigger: '.o_article_name:contains(\"EditorCommandsArticle\")'\n    }, { // Check that there is no filter in the searchBar\n        trigger: '.o_searchview_input_container:not( > div)',\n        run: () => {}\n    }, { // Check that we have 2 elements in the embedded view\n        trigger: 'tbody tr.o_data_row:nth-child(2)',\n        run: () => {}\n    }, { // Go back via the breadcrumb\n        trigger: '.o_back_button'\n    }, { // Check that there is the filter in the searchBar\n        trigger: '.o_searchview_input_container > div',\n        run: () => {}\n    }, { // Check that the filter is effective\n        trigger: 'tbody:not(tr.o_data_row:nth-child(2))',\n        run: () => {}\n    }, ...endKnowledgeTour()]\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\n/**\n * Returns the jQuery selector to find the nth element in the specified depth.\n * e.g: The 50th element of depth 1 would be \"Child Article 49\".\n * \n * @param {integer} n \n * @param {String} depth \n */\nconst getNthArticleSelector = (n, depth) => {\n    let articleBaseName;\n    if (depth === 0) {\n        articleBaseName = 'Root Article';\n    } else if (depth === 1) {\n        articleBaseName = 'Child Article';\n    } else {\n        articleBaseName = 'Grand-Child Article';\n    }\n\n    // articles are index based so we subtract 1\n    return `li.o_article:contains(\"${articleBaseName} ${n-1}\")`;\n};\n\n/**\n * Helper to fetch an article item in the tree view.\n * We need to use \"xpath\" as a simple \"querySelector\" does not support finding\n * elements by their contained text.\n * \n * @param {String} name \n * @returns \n */\nconst findArticleNodeNyName = (name) => {\n    return document.evaluate(\n        `//li[contains(@class, \"o_article\")][contains(., \"${name}\")]`,\n        document\n    ).iterateNext();\n};\n\n/**\n * Simple use case:\n * \n * No specific \"active article\".\n * Check that on the root sub-tree, we only show 50 articles.\n * Then load more and verify we now have 100.\n * Etc. until everything is displayed.\n */\nconst LOAD_MORE_SIMPLE_STEPS = [{\n    // check first article is displayed\n    trigger: getNthArticleSelector(1, 0),\n    run: () => {},\n}, {\n    // check 50th article is displayed\n    trigger: getNthArticleSelector(50, 0),\n    run: () => {},\n}, {\n    // check that the 51th article is NOT displayed, a bit tricky\n    trigger: 'ul.o_tree_workspace',\n    run: () => {\n        const article51 = findArticleNodeNyName(\"Root Article 50\");\n        if (!article51) {\n            document.querySelector('ul.o_tree_workspace').classList.add(\n                'knowledge_load_more_tour_step_root_51_success');\n        }\n    }\n}, {\n    // check our previous step succeeded\n    trigger: 'ul.o_tree_workspace.knowledge_load_more_tour_step_root_51_success',\n    run: () => {},\n}, {\n    // click to load more articles\n    trigger: 'ul.o_tree_workspace .o_knowledge_article_load_more',\n}, {\n    // check 51th article is displayed\n    trigger: getNthArticleSelector(51, 0),\n    run: () => {},\n}, {\n    // check 100th article is displayed\n    trigger: getNthArticleSelector(100, 0),\n    run: () => {},\n}, {\n    // check that the 101th article is NOT displayed, a bit tricky\n    trigger: 'ul.o_tree_workspace',\n    run: () => {\n        const article101 = findArticleNodeNyName(\"Root Article 100\");\n        if (!article101) {\n            document.querySelector('ul.o_tree_workspace').classList.add(\n                'knowledge_load_more_tour_step_root_101_success');\n        }\n    }\n}, {\n    // check our previous step succeeded\n    trigger: 'ul.o_tree_workspace.knowledge_load_more_tour_step_root_101_success',\n    run: () => {},\n}, {\n    // check that there is only a single \"load more\" button\n    trigger: 'ul.o_tree_workspace',\n    run: () => {\n        const loadMoreButtons = document.querySelectorAll(\n            'ul.o_tree_workspace .o_knowledge_article_load_more');\n        if (loadMoreButtons.length === 1) {\n            document.querySelector('ul.o_tree_workspace').classList.add(\n                'knowledge_load_more_tour_step_single_button_success');\n        }\n    }\n}, {\n    // check our previous step succeeded\n    trigger: 'ul.o_tree_workspace.knowledge_load_more_tour_step_single_button_success',\n    run: () => {},\n}, {\n    // click to load more articles\n    trigger: 'ul.o_tree_workspace .o_knowledge_article_load_more',\n}, {\n    // check 101th article is displayed\n    trigger: getNthArticleSelector(101, 0),\n    run: () => {},\n}, {\n    // check 150th article is displayed\n    trigger: getNthArticleSelector(150, 0),\n    run: () => {},\n}, {\n    // click to load more articles\n    trigger: 'ul.o_tree_workspace .o_knowledge_article_load_more',\n}, {\n    // check 153th article is displayed (last article of this sub-tree)\n    trigger: getNthArticleSelector(153, 0),\n    run: () => {},\n}, {\n    // check that we hide \"load more\" as we loaded everything in that sub-tree\n    trigger: 'ul.o_tree_workspace',\n    run: () => {\n        const loadMoreButtons = document.querySelectorAll(\n            'ul.o_tree_workspace .o_knowledge_article_load_more');\n        if (loadMoreButtons.length === 0) {\n            document.querySelector('ul.o_tree_workspace').classList.add(\n                'knowledge_load_more_tour_step_no_button_success');\n        }\n    }\n}, {\n    // check our previous step succeeded\n    trigger: 'ul.o_tree_workspace.knowledge_load_more_tour_step_no_button_success',\n    run: () => {},\n}];\n\n/**\n * Advanced use case:\n *\n * The active article is within a hierarchy where itself is not within the 50 first articles\n * of its sub-tree but its ancestors are ALSO not within the 50 first articles of their own sub-tree.\n * \n * Check that everything is correctly displayed, notably the fact that we \"force\" the display\n * of the active article and its ancestors.\n * \n * The use case is as follows:\n * - 153 root articles\n * - 254 children, all of which are children of \"Root Article 103\" (the 104th root article)\n * - 344 grand-children, all of which are children of \"Child Article 203\" (the 204th child article)\n * \n * When opening the tree, \"Root Article 103\", \"Child Article 203\" and \"Grand-Child Article 218\"\n * should all be forcefully displayed, even though outside of 50 first articles of their respective\n * sub-tree.\n */\nconst LOAD_MORE_ADVANCED_STEPS = [{\n    trigger: 'input.knowledge_search_bar',\n    run: 'text Grand-Child Article 218',\n}, {\n    trigger: 'ul.o_search_tree .o_article a',\n}, {\n    // check first article is displayed\n    trigger: getNthArticleSelector(1, 0),\n    run: () => {},\n}, {\n    // check first article ancestor is displayed (even though outside of 50 first)\n    // it should be placed after the 50th article and after the load more\n    trigger: `${getNthArticleSelector(50, 0)}+.o_knowledge_article_load_more+${getNthArticleSelector(104, 0)}`,\n    run: () => {},\n}, {\n    // check second article ancestor is displayed (even though outside of 50 first)\n    // it should be placed after the 50th child article and after the load more\n    trigger: `${getNthArticleSelector(50, 1)}+.o_knowledge_article_load_more+${getNthArticleSelector(204, 1)}`,\n    run: () => {},\n}, {\n    // check the active article is displayed (even though outside of 50 first)\n    // it should be placed after the 50th grand-child article and after the load more\n    trigger: `${getNthArticleSelector(50, 2)}+.o_knowledge_article_load_more+${getNthArticleSelector(219, 2)}`,\n    run: () => {},\n}, {\n    // click on load more for the root articles\n    trigger: `${getNthArticleSelector(50, 0)}+.o_knowledge_article_load_more`,\n}, {\n    // check first article ancestor is displayed (even though outside of 100 first)\n    // it should be placed after 100th root article and after the load more\n    trigger: `${getNthArticleSelector(100, 0)}+.o_knowledge_article_load_more+${getNthArticleSelector(104, 0)}`,\n    run: () => {},\n}, {\n    // click on load more for the root articles\n    trigger: `${getNthArticleSelector(100, 0)}+.o_knowledge_article_load_more`,\n}, {\n    // check first article ancestor is displayed at its correct spot\n    trigger: `${getNthArticleSelector(103, 0)}+${getNthArticleSelector(104, 0)}`,\n    run: () => {},\n}, {\n    // click on load more for the children articles\n    trigger: `${getNthArticleSelector(50, 1)}+.o_knowledge_article_load_more`,\n}, {\n    // check second article ancestor is displayed (even though outside of 100 first)\n    // it should be placed after the 100th child article and after the load more\n    trigger: `${getNthArticleSelector(100, 1)}+.o_knowledge_article_load_more+${getNthArticleSelector(204, 1)}`,\n    run: () => {},\n}, {\n    // click on load more for the children articles\n    trigger: `${getNthArticleSelector(100, 1)}+.o_knowledge_article_load_more`,\n}, {\n    // check second article ancestor is displayed (even though outside of 100 first)\n    // it should be placed after the 150th child article and after the load more\n    trigger: `${getNthArticleSelector(150, 1)}+.o_knowledge_article_load_more+${getNthArticleSelector(204, 1)}`,\n    run: () => {},\n}, {\n    // click on load more for the children articles\n    trigger: `${getNthArticleSelector(150, 1)}+.o_knowledge_article_load_more`,\n}, {\n    // check second article ancestor is displayed (even though outside of 100 first)\n    // it should be placed after the 200th child article and after the load more\n    trigger: `${getNthArticleSelector(200, 1)}+.o_knowledge_article_load_more+${getNthArticleSelector(204, 1)}`,\n    run: () => {},\n}, {\n    // click on load more for the children articles\n    trigger: `${getNthArticleSelector(200, 1)}+.o_knowledge_article_load_more`,\n}, {\n    // check second article ancestor is displayed (even though outside of 100 first)\n    // it should be placed at its correct spot after 203\n    trigger: `${getNthArticleSelector(203, 1)}+${getNthArticleSelector(204, 1)}`,\n    run: () => {},\n}, {\n    // click on load more for the grand-children articles\n    trigger: `${getNthArticleSelector(50, 2)}+.o_knowledge_article_load_more`,\n}, {\n    // check active article is displayed (even though outside of 100 first)\n    // it should be placed after the 100th grand-child article and after the load more\n    trigger: `${getNthArticleSelector(100, 2)}+.o_knowledge_article_load_more+${getNthArticleSelector(219, 2)}`,\n    run: () => {},\n}, {\n    // click on load more for the grand-children articles\n    trigger: `${getNthArticleSelector(100, 2)}+.o_knowledge_article_load_more`,\n}, {\n    // check active article is displayed (even though outside of 100 first)\n    // it should be placed after the 150th grand-child article and after the load more\n    trigger: `${getNthArticleSelector(150, 2)}+.o_knowledge_article_load_more+${getNthArticleSelector(219, 2)}`,\n    run: () => {},\n}, {\n    // click on load more for the grand-children articles\n    trigger: `${getNthArticleSelector(150, 2)}+.o_knowledge_article_load_more`,\n}, {\n    // check active article is displayed (even though outside of 100 first)\n    // it should be placed after the 200th grand-child article and after the load more\n    trigger: `${getNthArticleSelector(200, 2)}+.o_knowledge_article_load_more+${getNthArticleSelector(219, 2)}`,\n    run: () => {},\n}, {\n    // click on load more for the grand-children articles\n    trigger: `${getNthArticleSelector(200, 2)}+.o_knowledge_article_load_more`,\n}, {\n    // check active article is displayed (even though outside of 100 first)\n    // it should be placed at its correct spot after 218\n    trigger: `${getNthArticleSelector(218, 2)}+${getNthArticleSelector(219, 2)}`,\n    run: () => {},\n}];\n\nregistry.category(\"web_tour.tours\").add('knowledge_load_more_tour', {\n    test: true,\n    steps: () => [\n        ...LOAD_MORE_SIMPLE_STEPS,\n        ...LOAD_MORE_ADVANCED_STEPS,\n    ]\n});\n", "/** @odoo-module */\n\n/**\n * Global Knowledge flow tour.\n * Features tested:\n * - Create an article\n * - Change its title / content\n * - Share an article with a created partner\n * - Create 2 children articles and invert their order\n * - Favorite 2 different articles and invert their order in the favorite section\n */\n\nimport { dragAndDropArticle, endKnowledgeTour, makeVisible } from '@knowledge/../tests/tours/knowledge_tour_utils';\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('knowledge_main_flow_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    // open Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, {\n    // click on the main \"New\" action\n    trigger: '.o_knowledge_header .btn:contains(\"New\")',\n}, {\n    // check that the article is correctly created (private section)\n    trigger: 'section[data-section=\"private\"] .o_article .o_article_name:contains(\"Untitled\")',\n    run: () => {},\n}, {\n    // check the autofocus\n    trigger: '.note-editable.odoo-editor-editable:focus',\n    run: () => {},\n}, {\n    trigger: '.note-editable.odoo-editor-editable h1',\n    run: 'text My Private Article',  // modify the article content\n}, {\n    trigger: 'section[data-section=\"workspace\"]',\n    run: () => {\n        // force the create button to be visible (it's only visible on hover)\n        makeVisible('section[data-section=\"workspace\"] .o_section_create');\n    },\n}, {\n    // create an article in the \"Workspace\" section\n    trigger: 'section[data-section=\"workspace\"] .o_section_create',\n}, {\n    // check that the article is correctly created (workspace section), and that the previous\n    // article has been renamed using its title (first h1 in body).\n    trigger: 'section[data-section=\"workspace\"] .o_article .o_article_name:contains(\"Untitled\")',\n    extra_trigger: 'section[data-section=\"private\"] .o_article .o_article_name:contains(\"My Private Article\")',\n    run: () => {},\n}, {\n    // check the autofocus\n    trigger: '.note-editable.odoo-editor-editable:focus',\n    run: () => {},\n}, {\n    trigger: '.o_breadcrumb_article_name > input',\n    run: 'text My Workspace Article',  // modify the article name\n}, {\n    trigger: '.note-editable.odoo-editor-editable',\n    run: 'text Content of My Workspace Article',  // modify the article content\n}, {\n    trigger: '.o_article:contains(\"My Workspace Article\")',\n    run: () => {\n        // force the create button to be visible (it's only visible on hover)\n        $('.o_article:contains(\"My Workspace Article\") a.o_article_create').css('display', 'block');\n    },\n}, {\n    // create child article\n    trigger: '.o_article:contains(\"My Workspace Article\") a.o_article_create',\n}, {\n    // check that the article is correctly created (workspace section)\n    trigger: 'section[data-section=\"workspace\"] .o_article .o_article_name:contains(\"Untitled\")',\n    run: () => {},\n}, {\n    // check the autofocus\n    trigger: '.note-editable.odoo-editor-editable:focus',\n    run: () => {},\n}, {\n    trigger: '.o_breadcrumb_article_name > input',\n    run: 'text Child Article 1',  // modify the article name\n}, {\n    trigger: '.o_article:contains(\"My Workspace Article\")',\n}, {\n    // create child article (2)\n    trigger: '.o_article:contains(\"My Workspace Article\") a.o_article_create',\n}, {\n    trigger: 'section[data-section=\"workspace\"] .o_article .o_article_name:contains(\"Untitled\")',\n    run: () => {},\n}, {\n    // check the autofocus\n    trigger: '.note-editable.odoo-editor-editable:focus',\n    run: () => {},\n}, {\n    trigger: '.o_breadcrumb_article_name > input',\n    run: 'text Child Article 2',  // modify the article name\n}, {\n    // move child article 2 above child article 1\n    trigger: '.o_article_handle:contains(\"Child Article 2\")',\n    run: () => {\n        dragAndDropArticle(\n            $('.o_article_handle:contains(\"Child Article 2\")'),\n            $('.o_article_handle:contains(\"Child Article 1\")'),\n        );\n    },\n}, {\n    // verify that the move was done\n    trigger: '.o_article:has(.o_article_name:contains(\"My Workspace Article\")) ul > :eq(0):contains(\"Child Article 2\")',\n    run: () => {},\n}, {\n    // go back to main workspace article\n    trigger: 'section[data-section=\"workspace\"] .o_article .o_article_name:contains(\"My Workspace Article\")',\n}, {\n    trigger: '.o_knowledge_editor:contains(\"Content of My Workspace Article\")',\n    run: () => {},  // wait for article to be correctly loaded\n}, {\n    // check the autofocus\n    trigger: '.note-editable.odoo-editor-editable:focus',\n    run: () => {},\n}, {\n    // open the share dropdown\n    trigger: '.o_knowledge_header .btn:contains(\"Share\")',\n}, {\n    // click on 'Invite'\n    trigger: '.o_knowledge_share_panel .btn:contains(\"Invite\")',\n}, {\n    // Type the invited person's name\n    trigger: '.o_field_many2many_tags_email[name=partner_ids] input',\n    run: 'text micheline@knowledge.com',\n}, {\n    // Create the partner\n    trigger: '.ui-autocomplete.dropdown-menu a:contains(\"micheline@knowledge.com\")',\n    in_modal: false,\n}, {\n    // Submit the invite wizard\n    trigger: 'button:contains(\"Invite\")',\n    extra_trigger: '.o_field_tags span.o_badge_text',\n}, {\n    // add to favorite\n    trigger: '.o_knowledge_toggle_favorite',\n}, {\n    // check article was correctly added into favorites\n    trigger: 'section[data-section=\"favorites\"] .o_article .o_article_name:contains(\"My Workspace Article\")',\n    run: () => {},\n}, {\n    // open the share dropdown\n    trigger: '.o_knowledge_header .btn:contains(\"Share\")',\n}, {\n    // open the share dropdown\n    trigger: '.o_member_email:contains(\"micheline@knowledge.com\")',\n    in_modal: false,\n    run: () => {},\n}, {\n    // go back to private article\n    trigger: 'section[data-section=\"private\"] .o_article .o_article_name:contains(\"My Private Article\")',\n}, {\n    trigger: '.o_knowledge_editor:contains(\"My Private Article\")',\n    run: () => {},  // wait for article to be correctly loaded\n}, {\n    // check the autofocus\n    trigger: '.note-editable.odoo-editor-editable:focus',\n    run: () => {},\n}, {\n    // add to favorite\n    trigger: '.o_knowledge_toggle_favorite',\n}, {\n    // wait for the article to be registered as favorited\n    trigger: '.o_knowledge_toggle_favorite .fa-star',\n    run: () => {},\n}, {\n    // move private article above workspace article in the favorite section\n    trigger: 'section[data-section=\"favorites\"] .o_article_handle:contains(\"My Private Article\")',\n    run: () => {\n        dragAndDropArticle(\n            $('section[data-section=\"favorites\"] .o_article_handle:contains(\"My Private Article\")'),\n            $('section[data-section=\"favorites\"] .o_article_handle:contains(\"My Workspace Article\")'),\n        );\n    },\n}, {\n    // verify that the move was done\n    trigger: 'section[data-section=\"favorites\"] ul > :eq(0):contains(\"My Private Article\")',\n    run: () => {},\n}, {\n    // go back to main workspace article\n    trigger: 'section[data-section=\"workspace\"] .o_article .o_article_name:contains(\"My Workspace Article\")',\n}, {\n    trigger: ':contains(\"Content of My Workspace Article\")',\n    run() {},\n}, {\n    // check the autofocus\n    trigger: '.note-editable.odoo-editor-editable:focus',\n    run: () => {},\n}, {\n    // click on the main \"New\" action\n    trigger: '.o_knowledge_header .btn:contains(\"New\")',\n}, {\n    trigger: 'section[data-section=\"private\"] .o_article .o_article_name:contains(\"Untitled\")',\n    run: () => {}, // check that the article is correctly created (private section)\n}, {\n    // check the autofocus\n    trigger: '.note-editable.odoo-editor-editable:focus',\n    run: () => {},\n}, {\n    trigger: '.o_breadcrumb_article_name > input',\n    run: 'text Article to be moved',  // modify the article name\n}, {// move article\n    trigger: 'a#dropdown_tools_panel',\n    run: 'click'\n}, {\n    trigger: '.btn-move',\n    run: 'click',\n}, {\n    trigger: '.o_select_menu_item:contains(\"Article 3\")',\n    run: 'click',\n}, {\n    trigger: '.o_select_menu_toggler_slot:contains(\"Article 3\")',\n    run: () => {},\n}, {\n    trigger: '.modal-content .btn-primary:contains(\"Move Article\")',\n    run: 'click',\n}, {\n    trigger: 'section[data-section=\"workspace\"] .o_article .o_article_name:contains(\"Article to be moved\")',\n    run: 'click'\n}, {\n    // open the trash\n    trigger: '.o_knowledge_sidebar_trash div[role=\"button\"]',\n}, {\n    // verify that the trash list has been opened correctly and that items are correctly ordered\n    trigger: '.o_data_row:first .o_data_cell[name=\"display_name\"]:contains(\"Article 2\")',\n    extra_trigger: '.o_breadcrumb .active:contains(\"Trash\")',\n    run: () => {},\n}, ...endKnowledgeTour()\n]});\n", "/** @odoo-module */\n\n/**\n * Global Knowledge flow tour - Adapter for portal user\n * Features tested:\n * - Create a private article\n * - Change its title / content\n * - Write on a \"workspace\" article to which we have access\n * - Create children articles to a \"workspace\" article to which we have access\n * - Favorite 2 different articles and invert their order in the favorite section\n */\n\nimport { dragAndDropArticle } from '@knowledge/../tests/tours/knowledge_tour_utils';\nimport { registry } from \"@web/core/registry\";\n\n\nregistry.category(\"web_tour.tours\").add('knowledge_main_flow_tour_portal', {\n    test: true,\n    url: '/knowledge/home',\n    steps: () => [{\n    // click on the main \"New\" action\n    trigger: '.o_knowledge_header .btn:contains(\"New\")',\n}, {\n    trigger: 'section[data-section=\"private\"] .o_article .o_article_name:contains(\"Untitled\")',\n    run: () => {},  // check that the article is correctly created (private section)\n}, {\n    trigger: '.o_breadcrumb_article_name > input',\n    run: 'text My Private Article',  // modify the article name\n}, {\n    trigger: '.note-editable.odoo-editor-editable',\n    run: 'text Content of My Private Article',  // modify the article content\n}, {\n    trigger: 'body',\n    run: () => {\n        // Make sure the internal article is not visible\n        if (document.querySelectorAll(\n            'section[data-section=\"workspace\"] .o_article .o_article_name'\n        ).length !== 1) {\n            throw new Error(\"Internal Workspace Article is not supposed to be visible for portal user.\");\n        }\n    }\n}, {\n    trigger: '#knowledge_search_bar' // make sure the search article feature works\n}, {\n    trigger: '.o_select_menu_item:contains(\"Workspace Article\")',\n    in_modal: false,\n}, {\n    trigger: 'button:contains(\"Open\")'\n}, {\n    trigger: '.o_knowledge_editor:contains(\"Content of Workspace Article\")',\n    run: () => {},  // wait for article to be correctly loaded\n}, {\n    trigger: '.note-editable.odoo-editor-editable',\n    run: 'text Edited Content of Workspace Article',  // modify the article content\n}, {\n    trigger: '.o_article:contains(\"Workspace Article\")',\n    run: () => {\n        // force the create button to be visible (it's only visible on hover)\n        $('.o_article:contains(\"Workspace Article\") a.o_article_create').css('display', 'block');\n    },\n}, {\n    // create child article\n    trigger: '.o_article:contains(\"Workspace Article\") a.o_article_create',\n}, {\n    trigger: 'section[data-section=\"workspace\"] .o_article .o_article_name:contains(\"Untitled\")',\n    run: () => {},  // check that the article is correctly created (workspace section)\n}, {\n    trigger: '.o_breadcrumb_article_name > input',\n    run: 'text Child Article 1',  // modify the article name\n}, {\n    // create child article (2)\n    trigger: '.o_article:contains(\"Workspace Article\") a.o_article_create',\n}, {\n    trigger: 'section[data-section=\"workspace\"] .o_article .o_article_name:contains(\"Untitled\")',\n    run: () => {},  // check that the article is correctly created (workspace section)\n}, {\n    trigger: '.o_breadcrumb_article_name > input',\n    run: 'text Child Article 2',  // modify the article name\n}, {\n    // go back to main workspace article\n    trigger: 'section[data-section=\"workspace\"] .o_article .o_article_name:contains(\"Workspace Article\")',\n}, {\n    trigger: '.o_knowledge_editor:contains(\"Edited Content of Workspace Article\")',\n    run: () => {},  // wait for article to be correctly loaded\n}, {\n    // add to favorite\n    trigger: '.o_knowledge_toggle_favorite',\n}, {\n    // check article was correctly added into favorites\n    trigger: 'div.o_favorite_container .o_article .o_article_name:contains(\"Workspace Article\")',\n    run: () => {},\n}, {\n    // go back to private article\n    trigger: 'section[data-section=\"private\"] .o_article .o_article_name:contains(\"My Private Article\")',\n}, {\n    trigger: '.o_knowledge_editor:contains(\"My Private Article\")',\n    run: () => {},  // wait for article to be correctly loaded\n}, {\n    // add to favorite\n    trigger: '.o_knowledge_toggle_favorite',\n}, {\n    // wait for the article to be registered as favorited\n    trigger: '.o_knowledge_toggle_favorite .fa-star',\n    run: () => {},\n}, {\n    // move private article above workspace article in the favorite section\n    trigger: 'div.o_favorite_container .o_article_handle:contains(\"My Private Article\")',\n    run: () => {\n        dragAndDropArticle(\n            $('div.o_favorite_container .o_article_handle:contains(\"My Private Article\")'),\n            $('div.o_favorite_container .o_article_handle:contains(\"Workspace Article\")'),\n        );\n    },\n}, {\n    // verify that the move was done\n    trigger: 'div.o_favorite_container ul > :eq(0):contains(\"My Private Article\")',\n    run: () => {},\n}, {\n    // go back to '/my' page, as ending a tour on a form view can lead to issues\n    trigger: 'a[title=\"Home\"]',\n}]});\n", "/** @odoo-module */\n\nimport { endKnowledgeTour } from '@knowledge/../tests/tours/knowledge_tour_utils';\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('knowledge_pick_emoji_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    // open Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, {\n    // click on the main \"New\" action\n    trigger: '.o_knowledge_header .btn:contains(\"New\")',\n}, {\n    trigger: 'section[data-section=\"private\"] .o_article .o_article_name:contains(\"Untitled\")',\n    run: () => {}, // check that the article is correctly created (private section)\n}, {\n    trigger: '.o_knowledge_add_buttons',\n    run: () => {\n        // force the cover buttons to be visible (it's only visible on hover)\n        $('.o_knowledge_add_icon, .o_knowledge_add_cover').css({\n            opacity: 1,\n            visibility: 'visible'\n        });\n    },\n}, {\n    // add a random emoji\n    trigger: '.o_knowledge_add_icon',\n    run: 'click',\n}, {\n    trigger: '.o_knowledge_body .o_article_emoji',\n    run: 'click',\n}, {\n    trigger: '.o-Emoji[data-codepoints=\"\ud83d\ude03\"]',\n    run: 'click',\n}, {\n    // check that the emoji has been properly changed in the article body\n    trigger: '.o_knowledge_body .o_article_emoji:contains(\ud83d\ude03)',\n    run: () => {},\n}, {\n    // check that the emoji has been properly changed in the header\n    trigger: '.o_knowledge_header .o_article_emoji:contains(\ud83d\ude03)',\n    run: () => {},\n}, {\n    // check that the emoji has been properly changed in the aside block\n    trigger: '.o_knowledge_sidebar .o_article_emoji:contains(\ud83d\ude03)',\n    run: () => {}\n}, ...endKnowledgeTour()\n]});\n", "/** @odoo-module */\n\nimport { dragAndDropArticle, endKnowledgeTour } from './knowledge_tour_utils.js';\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('knowledge_properties_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    // open Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, { // ensure display of ParentArticle child articles\n    trigger: '.o_article_handle:contains(\"ParentArticle\") .o_article_caret',\n    run: function (actions) {\n        const button = this.$anchor[0];\n        if (button.querySelector('i.fa-caret-right')) {\n            actions.click(this.$anchor);\n        }\n    }\n}, { // go to ChildArticle\n    trigger: '.o_article .o_article_name:contains(\"ChildArticle\")',\n    run: 'click',\n}, { // wait ChildArticle loading\n    trigger: '.breadcrumb .active:contains(\"ChildArticle\")',\n    run: () => {},\n}, { // click on add properties\n    trigger: 'button.o_knowledge_add_properties',\n    run: 'click',\n}, {\n    trigger: '.o_field_property_add button',\n    run: 'click'\n}, { // modify property name\n    trigger: '.o_field_property_definition_header',\n    run: 'text_blur myproperty',\n}, { // verify property and finish property edition\n    trigger: '.o_knowledge_editor .odoo-editor-editable',\n    extra_trigger: '.o_field_property_label:contains(\"myproperty\")',\n    run: 'click',\n}, { // go to InheritPropertiesArticle\n    trigger: '.o_article .o_article_name:contains(\"InheritPropertiesArticle\")',\n    run: 'click',\n}, { // wait InheritPropertiesArticle loading and move InheritPropertiesArticle under ParentArticle\n    trigger: '.breadcrumb .active:contains(\"InheritPropertiesArticle\")',\n    run: () => {\n        dragAndDropArticle(\n            $('.o_article_handle:contains(\"InheritPropertiesArticle\")'),\n            $('.o_article_handle:contains(\"ChildArticle\")'),\n        );\n    },\n}, { // verify property\n    trigger: '.o_knowledge_properties .o_field_property_label:contains(\"myproperty\")',\n    run: () => {},\n}, ...endKnowledgeTour()\n]});\n", "/** @odoo-module */\n\nimport { dragAndDropArticle, endKnowledgeTour } from '@knowledge/../tests/tours/knowledge_tour_utils';\nimport { registry } from \"@web/core/registry\";\n\n// Checks that one can add an readonly article to its favorites\n\nregistry.category(\"web_tour.tours\").add('knowledge_readonly_favorite_tour', {\n    test: true,\n    steps: () => [{\n    // Make sure we are on the readonly article 1, that is not favorited, and\n    // click on the toggle favorite button.\n    trigger: 'a.o_knowledge_toggle_favorite:has(.fa-star-o)',\n    extra_trigger: '.o_article_active:contains(\"Readonly Article 1\")',\n}, {\n    // Check that the article has been added to the favorites\n    trigger: 'section[data-section=\"favorites\"]:contains(\"Readonly Article 1\")',\n    extra_trigger: 'a.o_knowledge_toggle_favorite:has(.fa-star)',\n    run: () => {},\n}, {\n    // Open the other readonly article\n    trigger: '.o_knowledge_sidebar .o_article_name:contains(\"Readonly Article 2\")',\n}, {\n    // Make sure we are on the readonly article 1, that is not favorited, and\n    // click on the toggle favorite button.\n    trigger: 'a.o_knowledge_toggle_favorite:has(.fa-star-o)',\n    extra_trigger: '.o_article_active:contains(\"Readonly Article 2\")',\n}, {\n    // Check that the article has been added to the favorites under the other\n    // one and try to resquence the favorite articles\n    trigger: 'section[data-section=\"favorites\"] li:last:contains(\"Readonly Article 2\")',\n    run: () => dragAndDropArticle(\n        $('section[data-section=\"favorites\"] li:last .o_article_handle'),\n        $('section[data-section=\"favorites\"] li:first .o_article_handle')\n    ),\n}, {\n    // Check that articles have been reordered correctly\n    trigger: 'section[data-section=\"favorites\"] li:last:contains(\"Readonly Article 1\")',\n    extra_trigger: 'section[data-section=\"favorites\"] li:first:contains(\"Readonly Article 2\")',\n    run: () => {},\n}, ...endKnowledgeTour()\n]});\n", "/** @odoo-module */\n\nimport { endKnowledgeTour } from './knowledge_tour_utils.js';\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n/**\n * This tour checks that a user that has readonly access on an article cannot\n * create items from the item kanban.\n */\nregistry.category(\"web_tour.tours\").add('knowledge_readonly_item_kanban_tour', {\n    url: '/web',\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(), { // open the Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, { // scroll to the embedded view to load it\n    trigger: '.o_knowledge_behavior_type_embedded_view',\n    run: function () {\n        this.$anchor[0].scrollIntoView();\n    },\n}, { // wait for the kanban view to be mounted\n    trigger: '.o_knowledge_behavior_type_embedded_view .o_kanban_renderer',\n    run: () => {},\n}, { // check that the \"new\" button is not shown\n    trigger: '.o_control_panel_main:not(:has(.o-kanban-button-new))',\n    run: () => {},\n}, ...endKnowledgeTour()\n]});\n", "/** @odoo-module */\n\nimport { endKnowledgeTour } from './knowledge_tour_utils.js';\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n/**\n * This tour checks that a user that has readonly access on an article cannot\n * create items from the item list.\n */\nregistry.category(\"web_tour.tours\").add('knowledge_readonly_item_list_tour', {\n    url: '/web',\n    test: true,\n    steps: () => [stepUtils.showAppsMenuItem(), { // open the Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, { // scroll to the embedded view to load it\n    trigger: '.o_knowledge_behavior_type_embedded_view',\n    run: function () {\n        this.$anchor[0].scrollIntoView();\n    },\n}, { // wait for the list view to be mounted\n    trigger: '.o_knowledge_behavior_type_embedded_view .o_list_renderer',\n    run: () => {},\n}, { // check that the \"new\" button is not shown\n    trigger: '.o_control_panel_main:not(:has(.o_list_button_add))',\n    run: () => {},\n}, ...endKnowledgeTour()\n]});\n", "/** @odoo-module */\n\nimport { dragAndDropArticle } from '@knowledge/../tests/tours/knowledge_tour_utils';\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('knowledge_sidebar_readonly_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    // Open the Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n}, {\n    // Unfold the private article and check that articles are in the correct\n    // order to make the move possible\n    trigger: '.o_article.readonly .o_article_caret',\n    extra_trigger: '.o_knowledge_tree .o_article:contains(\"Workspace Article\") + .o_article:contains(\"Private Article\")',\n}, {\n    // Check that article has been unfolded and move an article under a redonly article (fails)\n    trigger: '.o_article:contains(\"Private Child\")',\n    run: () => {\n        dragAndDropArticle(\n            $('section[data-section=\"workspace\"] .o_article_name:contains(\"Workspace Article\")'),\n            $('section[data-section=\"workspace\"] .o_article_name:contains(\"Private Article\")'),\n        );\n    },\n}, {\n    // Close the move cancelled modal\n    trigger: '.modal-footer .btn-primary',\n    extra_trigger: '.modal-title:contains(\"Move cancelled\")',\n}, {\n    // Move a readonly article (fails)\n    trigger: '.o_knowledge_tree .o_article:contains(\"Workspace Article\") + .o_article:contains(\"Private Article\")',\n    run: () => {\n        dragAndDropArticle(\n            $('section[data-section=\"workspace\"] .o_article_name:contains(\"Private Article\")'),\n            $('section[data-section=\"workspace\"] .o_article_name:contains(\"Workspace Article\")'),\n        );\n    },\n}, {\n    // Check that article did not move and try to change icon of readable article (fails)\n    trigger: '.o_article:contains(\"Private Article\") .o_article_emoji:contains(\"\ud83d\udcc4\")',\n    extra_trigger: '.o_knowledge_tree .o_article:contains(\"Workspace Article\") + .o_article:contains(\"Private Article\")',\n}, {\n    // Check that emoji picker did not show up\n    trigger: 'body:not(:has(.o-EmojiPicker))',\n    run: () => {},\n}]});\n", "/** @odoo-module */\n\nimport { changeInternalPermission, dragAndDropArticle, makeVisible } from '@knowledge/../tests/tours/knowledge_tour_utils';\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n\n/**\n * Sidebar tour.\n * Tests sidebar features and responsiveness.\n * Todo: add responsiveness checks from usage of moveArticleDialog\n * when select2 will be replaced (can currently not select options)\n */\n\nregistry.category(\"web_tour.tours\").add('knowledge_sidebar_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    // Open the Knowledge App\n    trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n},\n// Create a workspace article\n{\n    // Force the create button to be visible (it's only visible on hover)\n    trigger: 'section[data-section=\"workspace\"]',\n    run: () => {\n        makeVisible('section[data-section=\"workspace\"] .o_section_create');\n    },\n}, {\n    // Create an article in the \"Workspace\" section\n    trigger: 'section[data-section=\"workspace\"] .o_section_create',\n}, {\n    // Check that the article is created inside the Workspace\n    trigger: 'section[data-section=\"workspace\"] .o_article .o_article_name:contains(\"Untitled\")',\n    run: () => {},\n}, {\n    // Rename the article\n    trigger: '.o_breadcrumb_article_name > input',\n    run: 'text Workspace Article',\n}, {\n    // Check that the name has been updated in the sidebar\n    trigger: '.o_article_active:contains(\"Workspace Article\")',\n    run: () => {},\n}, {\n    // Add content to the article\n    trigger: '.note-editable.odoo-editor-editable',\n    run: 'text Content of Workspace Article',\n},\n// Create a private article\n{\n    // Force the create button to be visible (it's only visible on hover)\n    trigger: 'section[data-section=\"private\"]',\n    run: () => {\n        makeVisible('section[data-section=\"private\"] .o_section_create');\n    },\n}, {\n    // Create an article in the \"Private\" section\n    trigger: 'section[data-section=\"private\"] .o_section_create',\n}, {\n    // Check that the article is created inside the private section\n    trigger: 'section[data-section=\"private\"] .o_article .o_article_name:contains(\"Untitled\")',\n    run: () => {},\n}, {\n    // Rename the article\n    trigger: '.o_breadcrumb_article_name > input',\n    run: 'text Private Article',\n},\n// Create a shared article\n{\n    // Check that the shared section does not exists\n    trigger: '.o_knowledge_tree:not(:has(section[data-section=\"shared\"]))',\n    extra_trigger: '.o_article_active:contains(\"Private Article\")',\n    run: () => {},\n}, {\n    // First create a private one\n    trigger: 'section[data-section=\"private\"] .o_section_create',\n}, {\n    // Rename the article\n    trigger: '.o_breadcrumb_article_name > input',\n    extra_trigger: '.o_article_active:contains(\"Untitled\")',\n    run: 'text Shared Article',\n}, {\n    // Open the share dropdown\n    trigger: '.o_knowledge_header .btn:contains(\"Share\")',\n}, {\n    // Click on 'Invite'\n    trigger: '.o_knowledge_share_panel .btn:contains(\"Invite\")',\n}, {\n    // Type the invited person's name\n    trigger: '.o_field_many2many_tags_email[name=partner_ids] input',\n    run: 'text henri@knowledge.com',\n}, {\n    // Create the partner\n    trigger: '.ui-autocomplete.dropdown-menu a:contains(\"henri@knowledge.com\")',\n    in_modal: false,\n}, {\n    // Submit the invite wizard\n    trigger: 'button:contains(\"Invite\")',\n    extra_trigger: '.o_field_tags span.o_badge_text',\n}, {\n    // Check that the article has been added to a new \"Shared\" section\n    trigger: 'section[data-section=\"shared\"]:contains(\"Shared Article\")',\n    run: () => {},\n},\n// Create a child of a workspace article\n{\n    // Force the create button to be visible (it's only visible on hover)\n    trigger: '.o_article:contains(\"Workspace Article\")',\n    run: () => {\n        $('.o_article:contains(\"Workspace Article\") a.o_article_create').css('display', 'block');\n    },\n}, {\n    // Create a child\n    trigger: '.o_article:contains(\"Workspace Article\") a.o_article_create',\n}, {\n    // Check that the child has been added\n    trigger: '.o_article:contains(\"Workspace Article\") .o_article:contains(\"Untitled\")',\n    run: () => {},\n}, {\n    // Rename the article\n    trigger: '.o_breadcrumb_article_name > input',\n    run: 'text Workspace Child',\n},\n// Create a child of a private article\n{\n    // Force the create button to be visible (it's only visible on hover)\n    trigger: '.o_article:contains(\"Private Article\")',\n    run: () => {\n        $('.o_article:contains(\"Private Article\") a.o_article_create').css('display', 'block');\n    },\n}, {\n    // Create a child\n    trigger: '.o_article:contains(\"Private Article\") a.o_article_create',\n}, {\n    // Check that the child has been added\n    trigger: '.o_article:contains(\"Private Article\") .o_article:contains(\"Untitled\")',\n    run: () => {},\n}, {\n    // Rename the article\n    trigger: '.o_breadcrumb_article_name > input',\n    run: 'text Private Child 1',\n},\n// Create a child of a shared article\n{\n    // Force the create button to be visible (it's only visible on hover)\n    trigger: '.o_article:contains(\"Shared Article\")',\n    run: () => {\n        $('.o_article:contains(\"Shared Article\") a.o_article_create').css('display', 'block');\n    },\n}, {\n    // Create a child\n    trigger: '.o_article:contains(\"Shared Article\") a.o_article_create',\n}, {\n    // Check that the child has been added\n    trigger: '.o_article:contains(\"Shared Article\") .o_article:contains(\"Untitled\")',\n    run: () => {},\n}, {\n    // Rename the article\n    trigger: '.o_breadcrumb_article_name > input',\n    run: 'text Shared Child',\n},\n// Open an article by clicking on it\n{\n    // Click in the sidebar\n    trigger: '.o_article_name:contains(\"Workspace Article\")',\n}, {\n    // Check that article is correctly opened\n    trigger: '.note-editable.odoo-editor-editable:contains(\"Content of Workspace Article\")',\n    extra_trigger: '.o_article_active:contains(\"Workspace Article\")',\n    run: () => {},\n},\n// Open an article using the searchBox\n{\n    // Open the CP\n    trigger: '#knowledge_search_bar',\n}, {\n    // Click on an article\n    trigger: '.o_command_name:not(.small):contains(\"Private Article\")',\n}, {\n    // Check article was opened\n    trigger: '.o_article_active .o_article_name:contains(\"Private Article\")',\n    run: () => {},\n}, \n// Open the trash\n{\n    trigger: '.o_knowledge_sidebar_trash > div[role=\"button\"]',\n}, {\n    // Check that trash has been opened\n    trigger: '.o_last_breadcrumb_item.active:contains(\"Trash\")',\n    run: () => {},\n}, {\n    // Come back to the form view\n    trigger: '.breadcrumb-item.o_back_button',\n},\n// Add/remove an article to/from the favorites\n{\n    // Make sure the favorite section does not exists\n    trigger: '.o_knowledge_tree:not(:has(section[data-section=\"favorites\"]))',\n    run: () => {},\n}, {\n    // Click on the toggleFavorite button\n    trigger: 'a.o_knowledge_toggle_favorite',\n}, {\n    // Check that the article has been added to the added favorite section\n    trigger: 'section[data-section=\"favorites\"] .o_article:contains(\"Private Article\")',\n    run: () => {},\n}, {\n    // Click on the toggleFavorite button again\n    trigger: 'a.o_knowledge_toggle_favorite',\n}, {\n    // Check that the favorite section has been removed\n    trigger: '.o_knowledge_tree:not(:has(section[data-section=\"favorites\"]))',\n    extra_trigger: 'a.o_knowledge_toggle_favorite .fa-star-o',\n},\n// Unfold/Fold favorite article\n{\n    // Add article to favorite\n    trigger: 'a.o_knowledge_toggle_favorite',\n}, {\n    // Check that favorite is initially folded, and unfold it\n    trigger: 'section[data-section=\"favorites\"] .o_article_caret .fa-caret-right',\n    extra_trigger: 'section[data-section=\"favorites\"] .o_article:not(:has(.o_article))',\n}, {\n    // Check that caret changed and that child is displayed\n    trigger: 'section[data-section=\"favorites\"] .o_article:contains(\"Private Article\") .o_article_name:contains(\"Private Child 1\")',\n    extra_trigger: 'section[data-section=\"favorites\"] .o_article_caret .fa-caret-down',\n    run: () => {},\n}, {\n    // Click on the caret again to refold the article\n    trigger: 'section[data-section=\"favorites\"] .o_article_caret',\n}, {\n    // Check that caret changed and that child is hidden again\n    trigger: 'section[data-section=\"favorites\"] .o_article:not(:has(.o_article))',\n    extra_trigger: 'section[data-section=\"favorites\"] .o_article_caret .fa-caret-right',\n    run: () => {},\n}, {\n    // Check that article in main tree is still unfolded\n    trigger: 'section[data-section=\"private\"] .o_article:contains(\"Private Child 1\")',\n    run: () => {},\n},\n\n// Create a child from the favorite tree\n{\n    // Force the create button to be visible (it's only visible on hover)\n    trigger: 'section[data-section=\"favorites\"] .o_article:contains(\"Private Article\")',\n    extra_trigger: 'section[data-section=\"favorites\"] .o_article_caret .fa-caret-right',\n    run: () => {\n        $('section[data-section=\"favorites\"] .o_article:contains(\"Private Article\") a.o_article_create').css('display', 'block');\n    },\n}, {\n    // Create a child\n    trigger: 'section[data-section=\"favorites\"] .o_article:contains(\"Private Article\") a.o_article_create',\n}, {\n    // Check that article has been unfolded\n    trigger: 'section[data-section=\"favorites\"] .o_article:contains(\"Private Article\") .fa-caret-down',\n    run: () => {},\n}, {\n    // Check that previously existing child is displayed\n    trigger: 'section[data-section=\"favorites\"] .o_article:contains(\"Private Article\") .o_article_name:contains(\"Private Child 1\")',\n    run: () => {},\n}, {\n    // Check that the child has been added in the favorite tree\n    trigger: 'section[data-section=\"favorites\"] .o_article:contains(\"Private Article\") .o_article_name:contains(\"Untitled\")',\n    run: () => {},\n}, {\n    // Check that the child has been added in the private section\n    trigger: 'section[data-section=\"private\"] .o_article:contains(\"Private Article\") .o_article_name:contains(\"Untitled\")',\n    run: () => {},\n}, {\n    // Rename the article\n    trigger: '.o_breadcrumb_article_name > input',\n    run: 'text Private Child 2',\n}, {\n    // Check that the article has been renamed in the favorite tree\n    trigger: 'section[data-section=\"favorites\"] .o_article_name:contains(\"Private Child 2\")',\n    run: () => {},\n}, {\n    // Check that the article has been renamed in the private section\n    trigger: 'section[data-section=\"private\"] .o_article_name:contains(\"Private Child 2\")',\n    run: () => {},\n},\n// Fold/unfold an article\n{\n    // Click on the caret (should be caret down)\n    trigger: 'section[data-section=\"private\"] .o_article_caret',\n    extra_trigger: 'section[data-section=\"private\"] .o_article_caret .fa-caret-down',\n}, {\n    // Check that caret changed, and that children are hidden, and that favorite has not been folded\n    trigger: 'section[data-section=\"private\"] .o_article:not(:has(.o_article))',\n    extra_trigger: 'section[data-section=\"private\"] .o_article_caret .fa-caret-right',\n    run: () => {},\n}, {\n    // Check that favorite has not been folded\n    trigger: 'section[data-section=\"favorites\"] .o_article .o_article',\n    extra_trigger: 'section[data-section=\"favorites\"] .o_article_handle:contains(\"Private Article\") .fa-caret-down',\n}, {\n    // Fold favorite article (to later check that unfolding article won't unfold favorite)\n    trigger: 'section[data-section=\"favorites\"] .o_article_caret',\n}, {\n    // Click on the caret again\n    trigger: 'section[data-section=\"private\"] .o_article_caret',\n}, {\n    // Check that articles are shown again\n    trigger: 'section[data-section=\"private\"] .o_article .o_article',\n    extra_trigger: 'section[data-section=\"private\"] .o_article_caret .fa-caret-down',\n    run: () => {},\n}, {\n    // Check that favorite has not been unfolded\n    trigger: 'section[data-section=\"favorites\"] .o_article:not(:has(.o_article))',\n    extra_trigger: 'section[data-section=\"favorites\"] .o_article_handle:contains(\"Private Article\") .fa-caret-right',\n    run: () => {},\n},\n// Create a child of a folded article\n{\n    // Fold article again\n    trigger: 'section[data-section=\"private\"] .o_article_caret',\n}, {\n    trigger: 'section[data-section=\"private\"] .o_article_caret .fa-caret-right',\n    run: () => {\n        $('section[data-section=\"private\"] .o_article:contains(\"Private Article\") .o_article_create').css('display', 'block');\n    }\n}, {\n    // Click on the create button\n    trigger: 'section[data-section=\"private\"] .o_article:contains(\"Private Article\") .o_article_create',\n}, {\n    // Check that article has been unfolded and that previously existing children are shown\n    trigger: 'section[data-section=\"private\"] .o_article .o_article:contains(\"Private Child 1\")',\n    extra_trigger: 'section[data-section=\"private\"] .o_article_caret .fa-caret-down',\n    run: () => {},\n}, {\n    // Check that article has been added in both trees\n    trigger: 'section[data-section=\"private\"] .o_article .o_article:contains(\"Untitled\")',\n    extra_trigger: 'section[data-section=\"favorites\"] .o_article .o_article:contains(\"Untitled\")',\n    run: () => {},\n}, {\n    // Rename the article\n    trigger: '.o_breadcrumb_article_name > input',\n    run: 'text Private Child 3',\n},\n// Add a random icon\n{\n    // Force the add icon button to be visible (it's only visible on hover)\n    trigger: '.o_knowledge_add_buttons',\n    run: () => {\n        makeVisible('.o_knowledge_add_icon');\n    },\n}, {\n    // Click on the \"add Icon\" button\n    trigger: '.o_knowledge_add_icon',\n}, {\n    // Check that the icon has been updated in the sidenar\n    trigger: '.o_knowledge_body div[name=\"icon\"]',\n    run: () => {\n        const bodyIcon = document.querySelector('.o_knowledge_body div[name=\"icon\"]').innerText;\n        const sidebarIcon = document.querySelector('.o_article_active .o_article_emoji').innerText;\n        if (bodyIcon !== sidebarIcon) {\n            console.error(\"Sidebar icon has not been updated.\");\n        }\n    },\n},\n// Update icon of active article from sidebar\n{\n    // Click on the icon in the sidebar\n    trigger: '.o_article_active .o_article_emoji',\n}, {\n    // Choose an icon\n    trigger: '.o-Emoji[data-codepoints=\"\ud83e\udd76\"]',\n}, {\n    // Check that the icon has been updated in both trees in the sidebar\n    trigger: 'section[data-section=\"favorites\"] .o_article_active .o_article_emoji:contains(\"\ud83e\udd76\")',\n    extra_trigger: 'section[data-section=\"private\"] .o_article_active .o_article_emoji:contains(\"\ud83e\udd76\")',\n    run: () => {},\n}, {\n    // Check that the icon in the body has been updated\n    trigger: '.o_knowledge_body div[name=\"icon\"]:contains(\"\ud83e\udd76\")',\n    run: () => {},\n},\n// Update icon of non active article\n{\n    // Click on the icon in the sidebar\n    trigger: '.o_article:contains(\"Workspace Article\") .o_article_emoji',\n}, {\n    // Choose an icon\n    trigger: '.o-Emoji[data-codepoints=\"\ud83e\udd75\"]',\n}, {\n    // Check that the icon has been updated in the sidebar\n    trigger: '.o_article:contains(\"Workspace Article\") .o_article_emoji:contains(\"\ud83e\udd75\")',\n    run: () => {},\n}, {\n    // Check that the icon in the body has not been updated\n    trigger: '.o_knowledge_body div[name=\"icon\"]:contains(\"\ud83e\udd76\")',\n    run: () => {},\n},\n// Update icon of locked article (fails)\n{\n    // Open another article\n    trigger: '.o_article_name:contains(\"Workspace Child\")',\n}, {\n    // Lock the article\n    trigger: '#dropdown_tools_panel',\n    extra_trigger: '.o_article_active:contains(\"Workspace Child\")',\n}, {\n    trigger: '.o_knowledge_more_options_panel .btn-lock',\n}, {\n    // Click on the icon of the active article in the sidebar\n    trigger: '.o_article_active .o_article_emoji:contains(\"\ud83d\udcc4\")',\n    extra_trigger: '.breadcrumb-item.active .fa-lock',\n}, {\n    // Check that emoji picker did not show up\n    trigger: 'body:not(:has(.o-EmojiPicker))',\n    run: () => {},\n},\n// Update icon of unlocked article\n{\n    // Unlock the article\n    trigger: '#dropdown_tools_panel',\n}, {\n    trigger: '.o_knowledge_more_options_panel .btn-lock .fa-unlock',\n}, {\n    // Click on the icon of the active article in the sidebar\n    trigger: '.o_article_active .o_article_emoji',\n    extra_trigger: '.breadcrumb-item.active:not(:has(.fa-lock))',\n}, {\n    // Choose an icon\n    trigger: '.o-Emoji[data-codepoints=\"\ud83d\ude2c\"]',\n}, {\n    // Check that the icon has been updated in the sidebar\n    trigger: '.o_article:contains(\"Workspace Child\") .o_article_emoji:contains(\"\ud83d\ude2c\")',\n    run: () => {},\n},\n// Convert article into item\n{\n    // Open the kebab menu\n    trigger: '#dropdown_tools_panel',\n}, {\n    // Click on convert button\n    trigger: '.dropdown-item .fa-tasks',\n}, {\n    // Check that article has been removed from the sidebar\n    trigger: 'section[data-section=\"workspace\"] .o_article:not(:has(.o_article))',\n    extra_trigger: 'section[data-section=\"workspace\"] .o_article:contains(\"Workspace Article\"):not(.o_article_has_children)',\n    run: () => {},\n},\n// Favorite an item\n{\n    // Click on the toggle favorite button\n    trigger: '.o_knowledge_toggle_favorite',\n}, {\n    // Check that item has been added in the favorite section\n    trigger: 'section[data-section=\"favorites\"] .o_article:contains(\"Workspace Child\")',\n    run: () => {},\n},\n// Convert item into article\n{\n    // Open the kebab menu\n    trigger: '#dropdown_tools_panel',\n}, {\n    // Click on convert button\n    trigger: '.dropdown-item .fa-sitemap',\n}, {\n    // Check that article has been readded in the main tree\n    trigger: 'section[data-section=\"workspace\"] .o_article:contains(\"Workspace Child\")',\n    run: () => {},\n},\n// Convert a favorite article to an item\n{\n    // Open the kebab menu\n    trigger: '#dropdown_tools_panel',\n}, {\n    // Click on the convert button\n    trigger: '.dropdown-item .fa-tasks',\n}, {\n    // Check that article has been removed from the main tree but not from the favorite tree\n    trigger: 'section[data-section=\"workspace\"] .o_article:not(:has(.o_article))',\n    extra_trigger: 'section[data-section=\"workspace\"] .o_article:contains(\"Workspace Article\"):not(.o_article_has_children)',\n    run: () => {},\n}, {\n    // Check that article has not been removed from the favorite tree\n    trigger: 'section[data-section=\"favorites\"] .o_article:contains(\"Workspace Child\")',\n    run: () => {},\n},\n// Remove member of child of shared article\n{\n    // Open the shared child article\n    trigger: '.o_article_name:contains(\"Shared Child\")',\n}, {\n    // Open the share dropdown\n    trigger: '.o_knowledge_header .btn:contains(\"Share\")',\n    extra_trigger: '.o_article_active:contains(\"Shared Child\")',\n}, {\n    // Make remove member button visible\n    trigger: '.o_knowledge_share_panel:not(:has(.fa-spin))',\n    run: () => {\n        document.querySelector('.o_knowledge_share_panel .o_delete.fa-times').style.display = 'block';\n    },\n}, {\n    // Click on the delete member button\n    trigger: '.o_knowledge_share_panel .o_delete.fa-times',\n}, {\n    // Confirm restriction\n    trigger: '.modal-footer .btn-primary',\n}, {\n    // Check that the article did not move\n    trigger: 'section[data-section=\"shared\"] .o_article .o_article',\n    extra_trigger: '.o_knowledge_share_panel_icon',\n},\n// Publish child of a shared article\n{\n    // Open the share dropdown\n    trigger: '.o_knowledge_header .btn:contains(\"Share\")',\n}, {\n    // Change permission\n    trigger: '.o_knowledge_share_panel:not(:has(.fa-spin))',\n    extra_trigger: '.o_permission[aria-label=\"Internal Permission\"]',\n    run: () => changeInternalPermission('write'),\n}, {\n    // Check that the article did not move\n    trigger: 'section[data-section=\"shared\"] .o_article .o_article',\n    run: () => {},\n},\n// Publish shared article\n{\n    // Open shared article\n    trigger: '.o_article_name:contains(\"Shared Article\")',\n}, {\n    // Open the share dropdown\n    trigger: '.o_knowledge_header .btn:contains(\"Share\")',\n    extra_trigger: '.o_article_active:contains(\"Shared Article\")',\n}, {\n    // Change permission\n    trigger: '.o_knowledge_share_panel:not(:has(.fa-spin))',\n    run: () => changeInternalPermission('write'),\n}, {\n    // Check that the article moved to the workspace\n    trigger: 'section[data-section=\"workspace\"] .o_article:contains(\"Shared Article\")',\n    run: () => {},\n}, \n// Restrict workspace article with member\n{\n    // Change permission\n    trigger: '.o_knowledge_share_panel:not(:has(.fa-spin))',\n    run: () => changeInternalPermission('none'),\n}, {\n    // Check that article moved to shared\n    trigger: 'section[data-section=\"shared\"] .o_article:contains(\"Shared Article\")',\n    run: () => {},\n},\n// Remove member of shared article\n{\n    // Make remove member button visible\n    trigger: '.o_knowledge_share_panel:not(:has(.fa-spin))',\n    run: () => {\n        document.querySelector('.o_knowledge_share_panel .o_delete.fa-times').style.display = 'block';\n    },\n}, {\n    // Remove member\n    trigger: '.o_knowledge_share_panel .o_delete.fa-times',\n}, {\n    // Check that article moved to private\n    trigger: 'section[data-section=\"private\"] .o_article:contains(\"Shared Article\")',\n}, {\n    // Readd the member to replace the article in the shared section\n    trigger: '.o_knowledge_header .btn:contains(\"Share\")',\n}, {\n    trigger: '.o_knowledge_share_panel .btn:contains(\"Invite\")',\n}, {\n    trigger: '.o_field_many2many_tags_email[name=partner_ids] input',\n    run: 'text henri@knowledge.com',\n}, {\n    trigger: '.o-autocomplete--dropdown-item:contains(\"henri@\")',\n    extra_trigger: '.o-autocomplete--dropdown-menu.show',\n}, {\n    trigger: 'button:contains(\"Invite\")',\n    extra_trigger: '.o_field_tags span.o_badge_text',\n},\n// Publish child of private article\n{\n    // Open private child\n    trigger: '.o_article_name:contains(\"Private Child 2\")',\n}, {\n    // Open the share dropown\n    trigger: '.o_knowledge_header .btn:contains(\"Share\")',\n    extra_trigger: '.o_article_active:contains(\"Private Child 2\")',\n}, {\n    // Change permission\n    trigger: '.o_knowledge_share_panel:not(:has(.fa-spin))',\n    run: () => changeInternalPermission('read'),\n}, {\n    // Check that article is still in private\n    trigger: 'section[data-section=\"private\"] .o_article .o_article:contains(\"Private Child 2\")',\n    run: () => {},\n},\n// Publish private article\n{\n    // Open private article\n    trigger: '.o_article_name:contains(\"Private Article\")',\n}, {\n    // Open the share dropdown\n    trigger: '.o_knowledge_header .btn:contains(\"Share\")',\n    extra_trigger: '.o_article_active:contains(\"Private Article\")',\n}, {\n    // Change permission\n    trigger: '.o_knowledge_share_panel:not(:has(.fa-spin))',\n    run: () => changeInternalPermission('read'),\n}, {\n    // Check that article moved to the workspace\n    trigger: 'section[data-section=\"workspace\"] .o_article:contains(\"Private Article\")',\n    run: () => {},\n},\n// Change permission of workspace article to write\n{\n    // Change permission\n    trigger: '.o_knowledge_share_panel:not(:has(.fa-spin))',\n    run: () => changeInternalPermission('write'),\n}, {\n    // Check that article did not move\n    trigger: 'section[data-section=\"workspace\"] .o_article:contains(\"Private Article\")',\n    run: () => {},\n},\n// Change permission of workspace article to read\n{\n    // Change permission\n    trigger: '.o_knowledge_share_panel:not(:has(.fa-spin))',\n    run: () => changeInternalPermission('read'),\n}, {\n    // Check that article did not move\n    trigger: 'section[data-section=\"workspace\"] .o_article:contains(\"Private Article\")',\n    run: () => {},\n}, \n// Restrict workspace article\n{\n    // Change permission\n    trigger: '.o_knowledge_share_panel:not(:has(.fa-spin))',\n    run: () => changeInternalPermission('none'),\n}, {\n    // Check that the article moved to private\n    trigger: 'section[data-section=\"private\"] .o_article:contains(\"Private Article\")',\n    run: () => {},\n},\n// Drag and drop child above other child\n{\n    trigger: 'section[data-section=\"private\"] .o_article .o_article:first:contains(\"Private Child 1\")',\n    run: () => {\n        dragAndDropArticle(\n            $('.o_section[data-section=\"private\"] .o_article_name:contains(\"Private Child 3\")'),\n            $('.o_section[data-section=\"private\"] .o_article_name:contains(\"Private Child 1\")'),\n        );\n    },\n}, {\n    // Check that children have been reordered in both trees\n    trigger: 'section[data-section=\"favorites\"] .o_article .o_article:first:contains(\"Private Child 3\")',\n    extra_trigger: 'section[data-section=\"private\"] .o_article .o_article:first:contains(\"Private Child 3\")',\n},\n// Drag and drop child above root\n{\n    // Open child article\n    trigger: '.o_article_name:contains(\"Private Child 2\")',\n}, {\n    // Check that article shows \"Add Properties\" button\n    trigger: '.o_knowledge_add_buttons',\n    extra_trigger: '.o_article_active:contains(\"Private Child 2\")',\n    run: () => {\n        if (!document.querySelector('.o_knowledge_add_buttons .o_knowledge_add_properties')) {\n            console.error('Child articles should have properties.');\n        }\n    },\n}, {\n    trigger: 'section[data-section=\"private\"] .o_article:first:contains(\"Private Article\")',\n    run: () => {\n        dragAndDropArticle(\n            $('.o_section[data-section=\"private\"] .o_article_name:contains(\"Private Child 2\")'),\n            $('.o_section[data-section=\"private\"] .o_article_name:contains(\"Private Article\")'),\n        );\n    },\n}, {\n    // Check that child became the first private root article\n    trigger: '.o_section[data-section=\"private\"] .o_article:not(:has(.o_article:contains(\"Private Child 2\")))',\n    extra_trigger: '.o_section[data-section=\"private\"] ul >:first:contains(\"Private Child 2\")',\n    run: () => {},\n}, {\n    // Check that article was removed from children in favorites\n    trigger: '.o_section[data-section=\"favorites\"]:not(:has(.o_article:contains(\"Private Child 2\")))',\n    run: () => {\n        makeVisible('.o_knowledge_add_buttons');\n    }\n}, {\n    // Check that article does not show \"Add Properties\" button anymore\n    trigger: '.o_knowledge_add_buttons:not(:has(button.o_knowledge_add_properties))',\n    run: () => {},\n},\n// Drag and drop root above root\n{\n    trigger: '.o_section[data-section=\"private\"] .o_article:contains(\"Private Child 2\") + .o_article:contains(\"Private Article\")',\n    run: () => {\n        dragAndDropArticle(\n            $('.o_section[data-section=\"private\"] .o_article_name:contains(\"Private Article\")'),\n            $('.o_section[data-section=\"private\"] .o_article_name:contains(\"Private Child 2\")'),\n        );\n    },\n}, {\n    // Check that the articles have been reordered\n    trigger: '.o_section[data-section=\"private\"] .o_article:contains(\"Private Article\") + .o_article:contains(\"Private Child 2\")',\n    run: () => {\n        makeVisible('section[data-section=\"private\"] .o_section_create');\n    },\n},\n// Drag and drop root above child\n{\n    // Create a new article\n    trigger: 'section[data-section=\"private\"] .o_section_create',\n}, {\n    // Rename the article\n    trigger: '.o_breadcrumb_article_name > input',\n    extra_trigger: '.o_article_active:contains(\"Untitled\")',\n    run: 'text Private Child 4',\n}, {\n    trigger: '.o_article_active:contains(\"Private Child 4\")',\n    run: () => {\n        dragAndDropArticle(\n            $('section[data-section=\"private\"] .o_article_name:contains(\"Private Child 4\")'),\n            $('section[data-section=\"private\"] .o_article_name:contains(\"Private Child 1\")'),\n        );\n    },\n}, {\n    // Check that the children are correclty ordered\n    trigger: 'section[data-section=\"private\"] .o_article:contains(\"Private Child 3\") + .o_article:contains(\"Private Child 4\")',\n    extra_trigger: 'section[data-section=\"private\"] .o_article:contains(\"Private Child 4\") + .o_article:contains(\"Private Child 1\")',\n    run: () => {},\n}, {\n    // Check that the children are also ordered in the favorite tree\n    trigger: 'section[data-section=\"favorites\"] .o_article:contains(\"Private Child 3\") + .o_article:contains(\"Private Child 4\")',\n    extra_trigger: 'section[data-section=\"favorites\"] .o_article:contains(\"Private Child 4\") + .o_article:contains(\"Private Child 1\")',\n    run: () => {},\n},\n// Drag and drop workspace to private\n{\n    trigger: 'section[data-section=\"workspace\"] .o_article:contains(\"Workspace Article\")',\n    run: () => {\n        dragAndDropArticle(\n            $('section[data-section=\"workspace\"] .o_article:contains(\"Workspace Article\")'),\n            $('section[data-section=\"private\"]'),\n        );\n    },\n}, {\n    // Moving from section should ask for confirmation\n    trigger: '.modal-footer .btn-primary',\n}, {\n    // Check that article moved to the private section\n    trigger: 'section[data-section=\"private\"] .o_article:contains(\"Workspace Article\")',\n    extra_trigger: 'section[data-section=\"workspace\"]:not(:has(.o_article:contains(\"Workspace Article\")))',\n    run: () => {},\n}, {\n    // Show that empty section message is shown\n    trigger: 'section[data-section=\"workspace\"] .o_knowledge_empty_info',\n    run: () => {},\n},\n// Cancel drag and drop\n{\n    trigger: '.o_knowledge_tree',\n    run: () => {\n        dragAndDropArticle(\n            $('section[data-section=\"private\"] .o_article_name:contains(\"Workspace Article\")'),\n            $('section[data-section=\"workspace\"] .o_section_header'),\n        );\n    },\n}, {\n    // Cancel the move\n    trigger: '.modal-footer .btn-secondary',\n}, {\n    // Check that the article did not move\n    trigger: 'section[data-section=\"private\"] .o_article:contains(\"Workspace Article\")',\n    extra_trigger: 'section[data-section=\"workspace\"]:not(:has(.o_article:contains(\"Workspace Article\")))',\n    run: () => {},\n},\n// Drag and drop private to workspace\n{\n    trigger: '.o_knowledge_tree',\n    run: () => {\n        dragAndDropArticle(\n            $('section[data-section=\"private\"] .o_article_name:contains(\"Workspace Article\")'),\n            $('section[data-section=\"workspace\"]'),\n        );\n    },\n}, {\n    // Moving from section should ask for confirmation\n    trigger: '.modal-footer .btn-primary',\n}, {\n    // Check that article moved to the workspace section\n    trigger: 'section[data-section=\"workspace\"] .o_article:contains(\"Workspace Article\")',\n    extra_trigger: 'section[data-section=\"private\"]:not(:has(.o_article:contains(\"Workspace Article\")))',\n    run: () => {},\n}, {\n    // Check that the empty section message disappeared\n    trigger: 'section[data-section=\"workspace\"]:not(:has(.o_knowledge_empty_info))',\n    run: () => {},\n},\n// Drag and drop article to shared (fails)\n{\n    trigger: '.o_article:contains(\"Private Article\")',\n    run: () => {\n        dragAndDropArticle(\n            $('section[data-section=\"private\"] .o_article:contains(\"Private Article\")'),\n            $('section[data-section=\"shared\"]'),\n        );\n    },\n}, {\n    // Close the move cancelled modal\n    trigger: '.modal-footer .btn-primary',\n    extra_trigger: '.modal-title:contains(\"Move cancelled\")',\n},\n// Resequence shared articles\n{\n    trigger: 'section[data-section=\"private\"]',\n    run: () => {\n        makeVisible('section[data-section=\"private\"] .o_section_create');\n    },\n}, {\n    // Create a new shared article\n    trigger: 'section[data-section=\"private\"] .o_section_create',\n}, {\n    // Rename the article\n    trigger: '.o_breadcrumb_article_name > input',\n    extra_trigger: '.o_article_active:contains(\"Untitled\")',\n    run: 'text Shared 2',\n}, {\n    // Share the article\n    trigger: '.o_knowledge_header .btn:contains(\"Share\")',\n}, {\n    trigger: '.o_knowledge_share_panel .btn:contains(\"Invite\")',\n}, {\n    trigger: '.o_field_many2many_tags_email[name=partner_ids] input',\n    run: 'text henri@knowledge.com',\n}, {\n    trigger: '.o-autocomplete--dropdown-item:contains(\"henri@\")',\n    extra_trigger: '.o-autocomplete--dropdown-menu.show',\n}, {\n    trigger: 'button:contains(\"Invite\")',\n    extra_trigger: '.o_field_tags span.o_badge_text',\n}, {\n    trigger: 'section[data-section=\"shared\"] .o_article:contains(\"Shared Article\") + .o_article:contains(\"Shared 2\")',\n    run: () => {\n        dragAndDropArticle(\n            $('section[data-section=\"shared\"] .o_article_name:contains(\"Shared 2\")'),\n            $('section[data-section=\"shared\"] .o_article_name:contains(\"Shared Article\")'),\n        );\n    },\n}, {\n    // Check that the articles have been resequenced\n    trigger: 'section[data-section=\"shared\"] .o_article:contains(\"Shared 2\") + .o_article:contains(\"Shared Article\")',\n    run: () => {\n        makeVisible('section[data-section=\"private\"] .o_section_create');\n    },\n},\n// Drag and drop article above shared child\n{\n    // Create a new article\n    trigger: 'section[data-section=\"private\"] .o_section_create',\n}, {\n    // Rename the article\n    trigger: '.o_breadcrumb_article_name > input',\n    extra_trigger: '.o_article_active:contains(\"Untitled\")',\n    run: 'text Moved to Share',\n}, {\n    trigger: '.o_article_active:contains(\"Moved to Share\")',\n    run: () => {\n        dragAndDropArticle(\n            $('section[data-section=\"private\"] .o_article_name:contains(\"Moved to Share\")'),\n            $('section[data-section=\"shared\"] .o_article_name:contains(\"Shared Child\")'),\n        );\n    },\n}, {\n    // Moving under a shared article should ask for confirmation\n    trigger: '.modal-footer .btn-primary',\n}, {\n    // Check that the article has been moved\n    trigger: 'section[data-section=\"shared\"] .o_article .o_article:contains(\"Moved to Share\")',\n    extra_trigger: 'section[data-section=\"private\"]:not(:has(.o_article:contains(\"Moved to Share\")))',\n    run: () => {},\n},\n// Drag and drop shared child to shared\n{\n    trigger: '.o_knowledge_tree',\n    run: () => {\n        dragAndDropArticle(\n            $('section[data-section=\"shared\"] .o_article_name:contains(\"Moved to Share\")'),\n            $('section[data-section=\"shared\"] .o_article_name:contains(\"Shared Article\")'),\n        );\n    },\n}, {\n    // Close the move cancelled modal\n    trigger: '.modal-footer .btn-primary',\n    extra_trigger: '.modal-title:contains(\"Move cancelled\")',\n},\n// Drag and drop article to trash\n{\n    trigger: '.o_knowledge_tree',\n    run: () => {\n        dragAndDropArticle(\n            $('section[data-section=\"private\"] .o_article_name:contains(\"Private Child 2\")'),\n            $('.o_section.o_knowledge_sidebar_trash'),\n        );\n    },\n}, {\n    // Check that article has been removed from the sidebar\n    trigger: '.o_knowledge_tree:not(:has(.o_article:contains(\"Private Child 2\")))',\n    run: () => {},\n},\n// Drag and drop parent of active article to trash\n{\n    trigger: '.o_article_active:contains(\"Moved to Share\")',\n    run: () => {\n        dragAndDropArticle(\n            $('section[data-section=\"shared\"] .o_article_name:contains(\"Shared Article\")'),\n            $('.o_section.o_knowledge_sidebar_trash'),\n        );\n    },\n}, {\n    // Check that article has been removed from the sidebar\n    trigger: '.o_knowledge_tree:not(:has(.o_article:contains(\"Shared Article\")))',\n    run: () => {},\n}, {\n    // Check that user has been redirected to first accessible article\n    trigger: '.o_knowledge_tree .o_article:first:has(.o_article_active)',\n    run: () => {},\n},\n// Resequence favorites\n{\n    trigger: 'section[data-section=\"favorites\"] .o_article:contains(\"Private Article\") + .o_article:contains(\"Workspace Child\")',\n    run: () => {\n        dragAndDropArticle(\n            $('section[data-section=\"favorites\"] .o_article_name:contains(\"Workspace Child\")'),\n            $('section[data-section=\"favorites\"] .o_article_name:contains(\"Private Article\")'),\n        );\n    },\n}, {\n    // Check that favorites have been resequenced\n    trigger: 'section[data-section=\"favorites\"] .o_article:contains(\"Workspace Child\") + .o_article:contains(\"Private Article\")',\n    run: () => {},\n}]});\n", "/** @odoo-module */\n\nimport { endKnowledgeTour } from './knowledge_tour_utils.js';\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n\nregistry.category(\"web_tour.tours\").add(\"knowledge_load_template\", {\n    url: \"/web\",\n    test: true,\n    steps: () => [\n        stepUtils.showAppsMenuItem(), {\n            // open the Knowledge App\n            trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n        }, { // click on the main \"New\" action\n            trigger: '.o_knowledge_header .btn:contains(\"New\")',\n        }, { // open the template picker dialog\n            trigger: '.o_knowledge_helper .o_knowledge_load_template',\n        }, { // choose a template\n            trigger: '.o_knowledge_template_selector div:contains(\"My Template\")',\n        }, { // insert the template\n            trigger: 'button:contains(\"Load Template\")'\n        }, { // check that the icon has been changed\n            trigger: '.o_knowledge_body .o_article_emoji:contains(\ud83d\udcda)',\n            run: () => {},\n        }, { // check that the title of the article has changed\n            trigger: '.o_breadcrumb_article_name_container:contains(\"My Template\")',\n            run: () => {},\n        }, { // check that the body of the article has changed\n            trigger: '.o_knowledge_body .note-editable:contains(Lorem ipsum dolor sit amet, consectetur adipisicing elit.)',\n            run: () => {},\n        }, ...endKnowledgeTour()\n    ]\n});\n", "/** @odoo-module */\n\nimport { SORTABLE_TOLERANCE } from \"@knowledge/components/sidebar/sidebar\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nexport const changeInternalPermission = (permission) => {\n    const target = document.querySelector('.o_permission[aria-label=\"Internal Permission\"]');\n    target.value = permission;\n    target.dispatchEvent(new Event(\"change\"));\n};\n\n/**\n * Drag&drop an article in the sidebar\n * @param {$.Element} element\n * @param {$.Element} target\n */\nexport const dragAndDropArticle = ($element, $target) => {\n    const elementCenter = $element.offset();\n    elementCenter.left += $element.outerWidth() / 2;\n    elementCenter.top += $element.outerHeight() / 2;\n    const targetCenter = $target.offset();\n    targetCenter.left += $target.outerWidth() / 2;\n    targetCenter.top += $target.outerHeight() / 2;\n    const sign = Math.sign(targetCenter.top - elementCenter.top);\n    // The mouse needs to be above (or below) the target depending on element\n    // position (below (or above)) to consistently trigger the correct move.\n    const offsetY = sign * ($target.outerHeight() / 2 - 5);\n\n    const element = $element[0].closest(\"li\");\n    const target = $target[0];\n    element.dispatchEvent(\n        new PointerEvent(\"pointerdown\", {\n            bubbles: true,\n            which: 1,\n            clientX: elementCenter.left,\n            clientY: elementCenter.top,\n        })\n    );\n\n    // Initial movement starting the drag sequence\n    element.dispatchEvent(\n        new PointerEvent(\"pointermove\", {\n            bubbles: true,\n            which: 1,\n            clientX: elementCenter.left,\n            clientY: elementCenter.top + SORTABLE_TOLERANCE + 1,\n        })\n    );\n\n    // Timeouts because sidebar onMove is debounced\n    setTimeout(() => {\n        target.dispatchEvent(\n            new PointerEvent(\"pointermove\", {\n                bubbles: true,\n                which: 1,\n                clientX: targetCenter.left,\n                clientY: targetCenter.top + offsetY,\n            })\n        );\n\n        setTimeout(() => {\n            element.dispatchEvent(\n                new PointerEvent(\"pointerup\", {\n                    bubbles: true,\n                    which: 1,\n                    clientX: targetCenter.left,\n                    clientY: targetCenter.top + offsetY,\n                })\n            );\n        }, 200);\n    }, 200);\n};\n\n/**\n * Steps to insert an articleLink for the given article, in the first editable\n * html_field found in the given container selector (should have a paragraph\n * as its last element, and the link will be inserted at the position at index\n * offset in the paragraph).\n *\n * @param {string} htmlFieldContainerSelector jquery selector for the container\n * @param {string} articleName name of the article to insert a link for\n * @param {integer} offset position of the command call in the paragraph\n * @returns {Array} tour steps\n */\nexport function appendArticleLink(htmlFieldContainerSelector, articleName, offset=0) {\n    return [{ // open the command bar\n        trigger: `${htmlFieldContainerSelector} .odoo-editor-editable > p:last-child`,\n        run: function () {\n            openCommandBar(this.$anchor[0], offset);\n        },\n    }, { // click on the /article command\n        trigger: '.oe-powerbox-commandName:contains(Article)',\n        run: 'click',\n        in_modal: false,\n    }, { // select an article in the list\n        trigger: `.o_select_menu_item:contains(${articleName})`,\n        run: 'click',\n        in_modal: false,\n    }, { // wait for the choice to be registered\n        trigger: `.o_select_menu_toggler_slot:contains(${articleName})`,\n        run: () => {},\n    }, { // click on the \"Insert Link\" button\n        trigger: '.modal-dialog:contains(Link an Article) .modal-footer button.btn-primary',\n        run: 'click'\n    }];\n}\n\n/**\n * Ensure that the tour does not end on the Knowledge form view by returning to\n * the home menu.\n */\nexport function endKnowledgeTour() {\n    return [\n        stepUtils.toggleHomeMenu(), {\n            trigger: '.o_app[data-menu-xmlid=\"knowledge.knowledge_menu_root\"]',\n            run: () => {},\n        }\n    ];\n}\n\nexport function makeVisible(selector) {\n    const el = document.querySelector(selector);\n    if (el) {\n        el.style.setProperty(\"visibility\", \"visible\", \"important\");\n        el.style.setProperty(\"opacity\", \"1\", \"important\");\n        el.style.setProperty(\"display\", \"block\", \"important\");\n    }\n}\n\n/**\n * Opens the power box of the editor\n * @param {HTMLElement} paragraph\n * @param {integer} offset position of the command call in the paragraph\n */\nexport function openCommandBar(paragraph, offset=0) {\n    const sel = document.getSelection();\n    sel.removeAllRanges();\n    const range = document.createRange();\n    range.setStart(paragraph, offset);\n    range.setEnd(paragraph, offset);\n    sel.addRange(range);\n    paragraph.dispatchEvent(\n        new KeyboardEvent(\"keydown\", {\n            key: \"/\",\n        })\n    );\n    const slash = document.createTextNode(\"/\");\n    paragraph.prepend(slash);\n    sel.removeAllRanges();\n    range.setStart(slash, 1);\n    range.setEnd(slash, 1);\n    sel.addRange(range);\n    paragraph.dispatchEvent(\n        new InputEvent(\"input\", {\n            inputType: \"insertText\",\n            data: \"/\",\n            bubbles: true,\n        })\n    );\n    paragraph.dispatchEvent(\n        new KeyboardEvent(\"keyup\", {\n            key: \"/\",\n        })\n    );\n}\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"shared_sign_request_tour\", {\n    test: true,\n    url: \"/web\",\n    steps: () => [\n        {\n            content: \"Open Sign APP\",\n            trigger: '.o_app[data-menu-xmlid=\"sign.menu_document\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Remove My Favorites filter\",\n            trigger: \".o_cp_searchview .o_facet_remove\",\n            run: \"click\",\n        },\n        {\n            content: 'Search template \"template_1_role\"',\n            trigger: \".o_cp_searchview input\",\n            run: \"text template_1_role\",\n        },\n        {\n            content: \"Search Document Name\",\n            trigger: \".o_searchview_autocomplete .o_menu_item:first\",\n            run: \"click\",\n        },\n        {\n            content: \"Share the template\",\n            trigger: '.o_kanban_record_bottom:first button:contains(\"Share\"):first',\n            extra_trigger: '.oe_kanban_main:first span:contains(\"template_1_role\")',\n            run: \"click\",\n        },\n        {\n            content: \"Go on signing page\",\n            trigger: \".o_field_CopyClipboardChar\",\n            run: function () {\n                const share_link = this.$anchor.contents()[0].firstChild.textContent;\n                // Retrieve the link without the origin to avoid\n                // mismatch between localhost:8069 and 127.0.0.1:8069\n                // when running the tour with chrome headless\n                const regex = \"/sign/document/mail/.*\";\n                const url = share_link.match(regex)[0];\n                window.location.href = window.location.origin + url;\n            },\n        },\n        {\n            content: \"Fill the sign item\",\n            trigger: \"iframe input.o_sign_sign_item\",\n            run: \"text Mitchell Admin\",\n        },\n        {\n            content: \"Validate & Send Completed Document\",\n            trigger: \".o_validate_button\",\n            run: \"click\",\n        },\n        {\n            content: \"Fill name\",\n            trigger: \"#o_sign_public_signer_name_input\",\n            extra_trigger: '.modal-title:contains(\"Final Validation\")',\n            run: \"text Mitchell Admin\",\n        },\n        {\n            content: \"Fill email\",\n            trigger: \"#o_sign_public_signer_mail_input\",\n            run: \"text mitchell.admin@public.com\",\n        },\n        {\n            content: \"Validate & Send\",\n            trigger: '.modal-footer button:contains(\"Validate & Send\")',\n            run: \"click\",\n        },\n        {\n            content: \"Download Document\",\n            trigger: \"button.btn.btn-primary\",\n            extra_trigger: '.modal-title:contains(\"Thank you!\")',\n            run() {},\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nfunction triggerDragEvent(element, type, data = {}) {\n    const event = new DragEvent(type, { bubbles: true });\n    for (const key in data) {\n        Object.defineProperty(event, key, {\n            value: data[key],\n        });\n    }\n    element.dispatchEvent(event);\n}\n\nfunction dragAndDropSignItemAtHeight(type, page, height = 0.5, width = 0.5) {\n    const iframe = document.querySelector(\"iframe\");\n    const iframeDocument = iframe.contentWindow.document;\n    const signItemTypeButtons = iframeDocument.querySelectorAll(\n        \".o_sign_field_type_toolbar_items .o_sign_field_type_button\"\n    );\n    const from = Array.from(signItemTypeButtons).find((el) => el.innerText === type);\n\n    const to = iframeDocument.querySelector(`.page[data-page-number=\"${page}\"]`);\n    const toPosition = to.getBoundingClientRect();\n    toPosition.x += iframe.contentWindow.scrollX + to.clientWidth * width;\n    toPosition.y += iframe.contentWindow.scrollY + to.clientHeight * height;\n\n    const dataTransferObject = {};\n    const dataTransferMock = {\n        setData: (key, value) => {\n            dataTransferObject[key] = value;\n        },\n        getData: (key) => {\n            return dataTransferObject[key];\n        },\n        setDragImage: () => {},\n    };\n\n    triggerDragEvent(from, \"dragstart\", {\n        dataTransfer: dataTransferMock,\n    });\n\n    triggerDragEvent(to, \"drop\", {\n        pageX: toPosition.x,\n        pageY: toPosition.y,\n        dataTransfer: dataTransferMock,\n    });\n\n    triggerDragEvent(from, \"dragend\");\n}\n\nregistry.category(\"web_tour.tours\").add(\"sign_template_creation_tour\", {\n    test: true,\n    url: \"/web\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: \"Open Sign App\",\n            trigger: '.o_app[data-menu-xmlid=\"sign.menu_document\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Remove My Favorites filter\",\n            trigger: \".o_cp_searchview .o_facet_remove\",\n            run: \"click\",\n        },\n        {\n            content: 'Search template \"blank_template\"',\n            trigger: \".o_cp_searchview input\",\n            run: \"text blank_template\",\n        },\n        {\n            content: \"Search Document Name\",\n            trigger: \".o_searchview_autocomplete .o_menu_item:first\",\n            run: \"click\",\n        },\n        {\n            content: \"Enter Template Edit Mode\",\n            trigger: '.oe_kanban_main:first span:contains(\"blank_template\")',\n            run: \"click\",\n        },\n        {\n            content: \"Wait for iframe to load PDF\",\n            trigger: \"iframe #viewerContainer\",\n            run: () => {},\n        },\n        {\n            content: \"Wait for page to be loaded\",\n            trigger: \"iframe .page\",\n            run: () => {},\n        },\n        {\n            content: \"Drop Signature Item\",\n            trigger: \"iframe body\",\n            run: function () {\n                dragAndDropSignItemAtHeight(\"Signature\", 1, 0.5, 0.25);\n            },\n        },\n        {\n            content: \"Drop Name Sign Item\",\n            trigger: \"iframe body\",\n            run: function () {\n                dragAndDropSignItemAtHeight(\"Name\", 1, 0.25, 0.25);\n            },\n        },\n        {\n            content: \"Open popover on name sign item\",\n            trigger: 'iframe .o_sign_sign_item:contains(\"Name\") .o_sign_item_display',\n            run: \"click\",\n        },\n        {\n            content: \"Change responsible\",\n            trigger: \".o_popover .o_input_dropdown input\",\n            run: \"text employee\",\n        },\n        {\n            content: \"select employee\",\n            trigger: '.o_popover .o_input_dropdown .dropdown .dropdown-item:contains(\"Employee\")',\n        },\n        {\n            content: \"Validate changes\",\n            trigger: \".o_popover .o_sign_validate_field_button\",\n        },\n        {\n            content: \"Change template name\",\n            trigger: \".o_sign_template_name_input\",\n            run: \"text filled_template\",\n        },\n        {\n            trigger: \".breadcrumb .o_back_button\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport core from \"web.core\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\nimport \"web.legacy_tranlations_loaded\";\n\nvar _t = core._t;\n\nregistry.category(\"web_tour.tours\").add(\"sign_widgets_tour\", {\n    test: true,\n    url: \"/web\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: \"Settings\",\n            trigger: 'a[data-menu-xmlid=\"base.menu_administration\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Users\",\n            trigger: \"div#invite_users button.o_web_settings_access_rights\",\n            run: \"click\",\n        },\n        {\n            content: \"Mitchel\",\n            trigger: \"table.o_list_table td.o_data_cell:contains(Admin)\",\n            run: \"click\",\n        },\n\n        {\n            content: \"Preference tab\",\n            trigger: 'a.nav-link:contains(\"' + _t(\"Preferences\") + '\")',\n            run: \"click\",\n        },\n        {\n            content: \"Editor loaded\",\n            trigger: \".note-editable\",\n        },\n        {\n            content: \"Click on widget sign\",\n            trigger: \".o_signature:first\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on auto button\",\n            trigger: \".o_web_sign_auto_button\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on style button\",\n            trigger: \".o_web_sign_auto_select_style > button\",\n            run: \"click\",\n        },\n        {\n            content: \"Select a style\",\n            trigger: \".o_web_sign_auto_select_style .dropdown-item:nth-child(3)\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on style button\",\n            trigger: \".o_web_sign_auto_select_style > button\",\n            run: \"click\",\n        },\n        {\n            content: \"Select a style\",\n            trigger: \".o_web_sign_auto_select_style .dropdown-item:nth-child(2)\",\n            run: \"click\",\n        },\n        {\n            content: \"Sign\",\n            trigger: 'button.btn-primary:contains(\"Adopt & Sign\")',\n            extra_trigger: \"canvas.jSignature\",\n            run: function () {\n                setTimeout(() => {\n                    this.$anchor.click();\n                }, 1000);\n            },\n        },\n        ...stepUtils.saveForm(),\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"sign_report_modal_tour\", {\n    test: true,\n    url: \"/web\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: \"Open Sign app\",\n            trigger: '.o_app[data-menu-xmlid=\"sign.menu_document\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Open Reports menu\",\n            trigger: '.o_main_navbar button[data-menu-xmlid=\"sign.sign_reports\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Open Green Savings Report\",\n            trigger: '.dropdown-item[data-menu-xmlid=\"sign.sign_report_green_savings\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Open the modal\",\n            extra_trigger: 'iframe .green-savings-page a[data-bs-target=\".modal_green_savings\"]',\n            trigger: 'iframe a:contains(\"How are these results calculated?\")',\n            run: \"click\",\n        },\n        {\n            trigger: \"iframe .modal_green_savings.show\",\n            run: () => {},\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"test_sign_flow_tour\", {\n    test: true,\n    url: \"/web\",\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            content: \"Open Sign APP\",\n            trigger: '.o_app[data-menu-xmlid=\"sign.menu_document\"]',\n            run: \"click\",\n        },\n        {\n            content: \"Remove My Favorites filter\",\n            trigger: \".o_cp_searchview .o_facet_remove\",\n            run: \"click\",\n        },\n        {\n            content: 'Search template \"template_1_roles\"',\n            trigger: \".o_cp_searchview input\",\n            run: \"text template_1_role(2)\",\n            position: \"bottom\",\n        },\n        {\n            content: \"Search Document Name\",\n            trigger: \".o_searchview_autocomplete .o_menu_item:first\",\n            run: \"click\",\n        },\n        {\n            content: \"list view\",\n            trigger: \"button.o_list\",\n            run: \"click\",\n        },\n        {\n            content: \"Click Sign Now\",\n            extra_trigger: '.o_list_button button:contains(\"Sign Now\")',\n            trigger: \"button:contains('Sign Now')\",\n            run: \"click\",\n        },\n        {\n            content: \"Click sign\",\n            trigger: \"button[name='sign_directly']\",\n            run: \"click\",\n        },\n        {\n            content: \"Click to start\",\n            trigger: 'iframe .o_sign_sign_item_navigator:contains(\"Click to start\")',\n            position: \"bottom\",\n        },\n        {\n            trigger: \"iframe input.o_sign_sign_item:focus\",\n            auto: true,\n            run() {},\n        },\n        {\n            content: \"Fill the sign item\",\n            trigger: \"iframe input.o_sign_sign_item\",\n            run: \"text Mitchell Admin\",\n        },\n        {\n            content: \"Click next 1\",\n            trigger: 'iframe .o_sign_sign_item_navigator:contains(\"next\")',\n            run: \"click\",\n        },\n        {\n            content: \"Click sign it\",\n            trigger: 'iframe .o_sign_sign_item_navigator:contains(\"sign it\")',\n            run: \"click\",\n        },\n        {\n            trigger: \"iframe button.o_sign_sign_item:has(> img)\",\n            extra_trigger: \"iframe :not(:has(.o_sign_sign_item_navigator))\",\n            auto: true,\n        },\n        {\n            content: \"Click on auto button\",\n            trigger: \".o_web_sign_auto_button\",\n            run: \"click\",\n        },\n        {\n            content: \"Sign\",\n            trigger: 'button.btn-primary:contains(\"Sign all\")',\n            extra_trigger: \"canvas.jSignature\",\n            run() {\n                setTimeout(() => {\n                    this.$anchor.click();\n                }, 1000);\n            },\n        },\n        {\n            content: \"Validate & Send Completed Document\",\n            extra_trigger: \".o_sign_validate_banner\",\n            trigger: \"button:contains('Validate & Send Completed Document')\",\n            run: \"click\",\n        },\n        {\n            content: \"view\",\n            extra_trigger: \".modal-dialog\",\n            trigger: \".modal-footer button.btn-primary\",\n            alt_trigger: \".modal-footer button.btn-secondary\",\n            run: \"click\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add(\"translate_sign_instructions\", {\n    test: true,\n    steps: () => [\n        {\n            content: \"Translations must be loaded\",\n            trigger: 'iframe .o_sign_sign_item_navigator:contains(\"Cliquez pour commencer\")',\n            run: () => null, // it's a check\n        },\n    ],\n});\n", "/** @odoo-module **/\n    \n    import { registry } from \"@web/core/registry\";\n    import { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n    registry.category(\"web_tour.tours\").add('debug_menu_set_defaults', {\n        test: true,\n        url: '/web?debug=1',\n        steps: () => [\n            ...stepUtils.goToAppSteps('contacts.menu_contacts', \"Open the contacts menu\"),\n            {\n                content: \"Create a new contact\",\n                trigger: '.o-kanban-button-new',\n            },\n            {\n                content: \"Check that Company is checked by default, and not Individual\",\n                trigger: '.o_field_widget[name=\"company_type\"] input[data-value=\"company\"]:checked',\n                run: function () {},\n            },\n            {\n                content: \"Select the individual radio button\",\n                trigger: '.o_field_widget[name=\"company_type\"] input[data-value=\"person\"]',\n            },\n            {\n                content: \"Open the debug menu\",\n                trigger: '.o_debug_manager button',\n            },\n            {\n                content: \"Click the Set Defaults menu\",\n                trigger: '.o_debug_manager .dropdown-item:contains(Set Defaults)',\n            },\n            {\n                content: \"Choose Company Type = Individual\",\n                trigger: '#formview_default_fields',\n                run: function () {\n                    const element_field = document.querySelector('select#formview_default_fields');\n                    element_field.value = 'company_type';\n                    element_field.dispatchEvent(new Event(\"change\"));\n                },\n            },\n            {\n                content: \"Check that there are conditions\",\n                trigger: '#formview_default_conditions',\n            },\n            {\n                content: \"Save the new default\",\n                trigger: 'footer button:contains(Save default)',\n            },\n            {\n                content: \"Discard the contact creation\",\n                trigger: 'button.o_form_button_cancel',\n            },\n            {\n                trigger: '.o_action_manager .o_kanban_view .o-kanban-button-new',\n            },\n            {\n                content: \"Check that Individual is checked instead of Company\",\n                trigger: '.o_field_widget[name=\"company_type\"] input[data-value=\"person\"]:checked',\n                run: function () {},\n            },\n            {\n                content: \"Discard the contact creation\",\n                trigger: 'button.o_form_button_cancel',\n            },\n            {\n                content: \"Wait for discard\",\n                trigger: '.o_control_panel .o-kanban-button-new',\n                run() {},\n            },\n        ]\n    });\n", "/** @odoo-module **/\n\n    import { registry } from \"@web/core/registry\";\n    import { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n    const todayDate = function() {\n        let now = new Date();\n        let year = now.getFullYear();\n        let month = String(now.getMonth() + 1).padStart(2, '0');\n        let day = String(now.getDate()).padStart(2, '0');\n\n        return `${month}/${day}/${year} 10:00:00`;\n    };\n\n    registry.category(\"web_tour.tours\").add('calendar_appointments_hour_tour', {\n        url: '/web',\n        test: true,\n        steps: () => [stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"calendar.mail_menu_calendar\"]',\n            content: 'Open Calendar',\n            run: 'click',\n        },\n        {\n            trigger: '.o-calendar-button-new',\n            content: 'Create a new event',\n            run: 'click',\n        },\n        {\n            trigger: '#name_0',\n            content: 'Give a name to the new event',\n            run: 'text TEST EVENT',\n        },\n        {\n            trigger: '#start_0',\n            content: 'Give a date to the new event',\n            run: `text ${todayDate()}`,\n        },\n        {\n            trigger: '.fa-cloud-upload',\n            content: 'Save the new event',\n            run: 'click',\n        },\n        {\n            trigger: '.o_back_button',\n            content: 'Go back to Calendar view',\n            run: 'click',\n        },\n        {\n            trigger: '.dropdown-toggle:contains(\"Week\")',\n            content: 'Click to change calendar view',\n            run: 'click',\n        },\n        {\n            trigger: '.dropdown-item:contains(\"Month\")',\n            content: 'Change the calendar view to Month',\n            run: 'click',\n        },\n        {\n            trigger: '.fc-day-header:contains(\"Monday\")',\n            content: 'Change the calendar view to week',\n        },\n        {\n            trigger: '.fc-time:contains(\"10:00\")',\n            content: 'Check the time is properly displayed',\n        },\n        {\n            trigger: '.o_event_title:contains(\"TEST EVENT\")',\n            content: 'Check the event title',\n        },\n    ]});\n\n    registry.category(\"web_tour.tours\").add('test_calendar_delete_tour', {\n        test: true,\n        steps: () => [\n        {\n            content: 'Select filter (everybody)',\n            trigger: 'div[data-value=\"all\"] input',\n        },\n        {\n            content: 'Click on the event (focus + waiting)',\n            trigger: 'a .fc-content:contains(\"Test Event\")',\n            async run() {\n                $('a .fc-content:contains(\"Test Event\")').click();\n                await new Promise((r) => setTimeout(r, 1000));\n                $('a .fc-content:contains(\"Test Event\")').click();\n            }\n        },\n        {\n            content: 'Delete the event',\n            trigger: '.o_cw_popover_delete',\n        },\n        {\n            content: 'Validate the deletion',\n            trigger:'button:contains(\"Delete\")',\n            async run() {\n                $('button:contains(\"Delete\")').click();\n                await new Promise((r) => setTimeout(r, 1000));\n            }\n        },\n    ]});\n    \n    registry.category(\"web_tour.tours\").add('test_calendar_decline_tour', {\n        test: true,\n        steps: () => [\n        {\n            content: 'Click on the event (focus + waiting)',\n            trigger: 'a .fc-content:contains(\"Test Event\")',\n            async run() {\n                $('a .fc-content:contains(\"Test Event\")').click();\n                await new Promise((r) => setTimeout(r, 1000));\n                $('a .fc-content:contains(\"Test Event\")').click();\n            }\n        },\n        {\n            content: 'Delete the event',\n            trigger: '.o_cw_popover_delete',\n        },\n        {\n            content: 'Wait declined status',\n            trigger: '.o_attendee_status_declined',\n        },\n    ]});\n    \n    registry.category(\"web_tour.tours\").add('test_calendar_decline_with_everybody_filter_tour', {\n        test: true,\n        steps: () => [\n        {\n            content: 'Select filter (everybody)',\n            trigger: 'div[data-value=\"all\"] input',\n        },\n        {\n            content: 'Click on the event (focus + waiting)',\n            trigger: 'a .fc-content:contains(\"Test Event\")',\n            async run() {\n                $('a .fc-content:contains(\"Test Event\")').click();\n                await new Promise((r) => setTimeout(r, 1000));\n                $('a .fc-content:contains(\"Test Event\")').click();\n            }\n        },\n        {\n            content: 'Delete the event',\n            trigger: '.o_cw_popover_delete',\n        },\n        {\n            content: 'Select filter (everybody)',\n            trigger: 'div[data-value=\"all\"] input',\n        },\n        {\n            content: 'Wait declined status',\n            trigger: '.o_attendee_status_declined',\n        },\n    ]});\n", "/** @odoo-module **/\n\nimport { Asserts } from \"@account_reports/js/tours/asserts\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('account_reports', {\n    url: \"/web?#action=account_reports.action_account_report_bs\",\n    steps: () => [\n        //--------------------------------------------------------------------------------------------------------------\n        // Foldable\n        //--------------------------------------------------------------------------------------------------------------\n        {\n            content: \"Initial foldable\",\n            trigger: \".o_content\",\n            run: () => {\n                Asserts.DOMContainsNumber(\"tbody > tr:not(.d-none):not(.empty)\", 28);\n            }\n        },\n        {\n            content: \"Click to unfold line\",\n            trigger: \"tr:nth-child(3) td:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Line is unfolded\",\n            trigger: \"tr:nth-child(4) .name:contains('101401')\",\n            run: () => {\n                Asserts.DOMContainsNumber(\"tbody > tr:not(.d-none):not(.empty)\", 30);\n            }\n        },\n        {\n            content: \"Click to fold line\",\n            trigger: \"tr:nth-child(3) td:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Line is folded\",\n            trigger: \".o_content\",\n            run: () => {\n                Asserts.DOMContainsNumber(\"tbody > tr:not(.d-none):not(.empty)\", 28);\n            }\n        },\n        //--------------------------------------------------------------------------------------------------------------\n        // Footnotes\n        //--------------------------------------------------------------------------------------------------------------\n        // Test the initial status of footnotes - There is 2 footnotes to display\n        {\n            content: \"Initial footnotes\",\n            trigger: \".o_content\",\n            run: () => {\n                Asserts.DOMContainsNone(\".footnotes\");\n            }\n        },\n        {\n            content: \"Unfold first line\",\n            trigger: \"tr:nth-child(3) td:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Unfold second line\",\n            trigger: \"tr:nth-child(6) td:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Unfold third line\",\n            trigger: \"tr:nth-child(9) td:first()\",\n            run: \"click\",\n        },\n        {\n            content: \"Check order on lines and footnotes\",\n            trigger: \".o_content\",\n            extra_trigger: \"tr:nth-child(11):not(.d-none) .name:contains('101404')\",\n            run: () => {\n                // Check line number\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(4) sup a\").textContent, \"1\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(11) sup a\").textContent, \"2\");\n\n                // Check line number href\n                Asserts.isTrue(document.querySelector(\"tr:nth-child(4) sup a\").href.endsWith(\"#footnote_1\"));\n                Asserts.isTrue(document.querySelector(\"tr:nth-child(11) sup a\").href.endsWith(\"#footnote_2\"));\n\n                // Check footnotes\n                const footnotes = document.querySelectorAll(\".footnotes li\");\n\n                Asserts.isTrue(footnotes[0].textContent.includes(\"Footnote 101401\"));\n                Asserts.isTrue(footnotes[1].textContent.includes(\"Footnote 101404\"));\n            }\n        },\n        // Test that we can add a new footnote\n        {\n            content: \"Click to show caret option\",\n            trigger: \"tr:nth-child(7) .dropdown-toggle\",\n            run: \"click\",\n        },\n        {\n            content: \"Caret option is displayed\",\n            trigger: \"tr:nth-child(7)\",\n            run: () => {\n                Asserts.hasClass(\"tr:nth-child(7) .dropdown\", \"show\");\n            }\n        },\n        {\n            content: \"Click on annotate\",\n            trigger: \"tr:nth-child(7) .dropdown-menu .dropdown-item:last-of-type:contains('Annotate')\",\n            run: \"click\"\n        },\n        {\n            content: \"Annotate is displayed\",\n            trigger: \".o_web_client\",\n            in_modal: false,\n            run: () => {\n                Asserts.hasClass(\".o_web_client\", \"modal-open\");\n            }\n        },\n        {\n            content: \"Add text to annotate\",\n            trigger: \"textarea\",\n            run: \"text Footnote 121000\"\n        },\n        {\n            content: \"Submit footnote\",\n            trigger: \".btn.btn-primary\",\n            run: \"click\"\n        },\n        {\n            content: \"Check order on lines and footnotes after new footnote added\",\n            trigger: \".o_content .footnotes #footnote_3\",\n            run: () => {\n                // Check line number\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(4) sup a\").textContent, \"1\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(7) sup a\").textContent, \"2\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(11) sup a\").textContent, \"3\");\n\n                // Check line number href\n                Asserts.isTrue(document.querySelector(\"tr:nth-child(4) sup a\").href.endsWith(\"#footnote_1\"));\n                Asserts.isTrue(document.querySelector(\"tr:nth-child(7) sup a\").href.endsWith(\"#footnote_2\"));\n                Asserts.isTrue(document.querySelector(\"tr:nth-child(11) sup a\").href.endsWith(\"#footnote_3\"));\n\n                // Check footnotes\n                const footnotes = document.querySelectorAll(\".footnotes li\");\n\n                Asserts.isTrue(footnotes[0].textContent.includes(\"Footnote 101401\"));\n                Asserts.isTrue(footnotes[1].textContent.includes(\"Footnote 121000\"));\n                Asserts.isTrue(footnotes[2].textContent.includes(\"Footnote 101404\"));\n            }\n        },\n        // Test that we can edit a footnote\n        {\n            content: \"Click to show caret option\",\n            trigger: \"tr:nth-child(7) .dropdown-toggle\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on annotate\",\n            trigger: \"tr:nth-child(7) .dropdown-menu .dropdown-item:last-of-type:contains('Annotate')\",\n            run: \"click\"\n        },\n        {\n            content: \"Annotate contains previous text value\",\n            trigger: \"textarea:contains('Footnote 121000')\",\n        },\n        {\n            content: \"Add text to annotate\",\n            trigger: \"textarea\",\n            run: \"text Footnote 121000 edited\"\n        },\n        {\n            content: \"Submit footnote\",\n            trigger: \".btn.btn-primary\",\n            run: \"click\"\n        },\n        {\n            content: \"Footnote is edited\",\n            trigger: \"#footnote_2:contains('Footnote 121000 edited')\",\n        },\n        // Test that we can delete a footnote by removing the text when editing\n        {\n            content: \"Click to show caret option\",\n            trigger: \"tr:nth-child(7) .dropdown-toggle\",\n            run: \"click\",\n        },\n        {\n            content: \"Click on annotate\",\n            trigger: \"tr:nth-child(7) .dropdown-menu .dropdown-item:last-of-type:contains('Annotate')\",\n            run: \"click\"\n        },\n        {\n            content: \"Remove text from annotate\",\n            trigger: \"textarea\",\n            run: () => {\n                document.querySelector(\".modal-body textarea\").value = \"\";\n            }\n        },\n        {\n            content: \"Submit footnote\",\n            trigger: \".btn.btn-primary\",\n            run: \"click\"\n        },\n        {\n            content: \"Check order on lines and footnotes after footnote is deleted\",\n            trigger: \"#footnote_2:contains('Footnote 101404')\",\n            run: () => {\n                // Check line number\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(4) sup a\").textContent, \"1\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(11) sup a\").textContent, \"2\");\n\n                // Check line number href\n                Asserts.isTrue(document.querySelector(\"tr:nth-child(4) sup a\").href.endsWith(\"#footnote_1\"));\n                Asserts.isTrue(document.querySelector(\"tr:nth-child(11) sup a\").href.endsWith(\"#footnote_2\"));\n\n                // Check footnotes\n                const footnotes = document.querySelectorAll(\".footnotes li\");\n\n                Asserts.isTrue(footnotes[0].textContent.includes(\"Footnote 101401\"));\n                Asserts.isTrue(footnotes[1].textContent.includes(\"Footnote 101404\"));\n            }\n        },\n        // Test that we can delete a footnote by clicking on the trash can next to it\n        {\n            content: \"Click on trash can\",\n            trigger: \"#footnote_1 .fa-trash-o\",\n            run: \"click\"\n        },\n        {\n            content: \"Check order on lines and footnotes after footnote is deleted\",\n            trigger: \"#footnote_1:contains('Footnote 101404')\",\n            run: () => {\n                // Check line number\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(11) sup a\").textContent, \"1\");\n\n                // Check line number href\n                Asserts.isTrue(document.querySelector(\"tr:nth-child(11) sup a\").href.endsWith(\"#footnote_1\"));\n\n                // Check footnotes\n                const footnotes = document.querySelectorAll(\".footnotes li\");\n\n                Asserts.isTrue(footnotes[0].textContent.includes(\"Footnote 101404\"));\n            }\n        },\n        //--------------------------------------------------------------------------------------------------------------\n        // Sortable\n        //--------------------------------------------------------------------------------------------------------------\n        {\n            content: \"Initial sortable\",\n            trigger: \".o_content\",\n            run: () => {\n                // Bank and Cash Accounts\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(4) td:nth-child(2)\").textContent, \"75.00\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(5) td:nth-child(2)\").textContent, \"75.00\");\n\n                // Receivables\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(7) td:nth-child(2)\").textContent, \"25.00\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(8) td:nth-child(2)\").textContent, \"25.00\");\n\n                // Current Assets\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(10) td:nth-child(2)\").textContent, \"100.00\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(11) td:nth-child(2)\").textContent, \"50.00\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(12) td:nth-child(2)\").textContent, \"150.00\");\n            }\n        },\n        {\n            content: \"Click sort\",\n            trigger: \"th .btn_sortable\",\n            run: \"click\"\n        },\n        {\n            content: \"Sortable (asc)\",\n            trigger: \"tr:nth-child(17) td:nth-child(2):contains('25.00')\",\n            run: () => {\n                // Receivables\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(17) td:nth-child(2)\").textContent, \"25.00\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(19) td:nth-child(2)\").textContent, \"25.00\");\n\n                // Bank and Cash Accounts\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(21) td:nth-child(2)\").textContent, \"75.00\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(22) td:nth-child(2)\").textContent, \"75.00\");\n\n                // Current Assets\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(24) td:nth-child(2)\").textContent, \"50.00\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(25) td:nth-child(2)\").textContent, \"100.00\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(26) td:nth-child(2)\").textContent, \"150.00\");\n            }\n        },\n        {\n            content: \"Click sort\",\n            trigger: \"th .btn_sortable\",\n            run: \"click\"\n        },\n        {\n            content: \"Sortable (desc)\",\n            trigger: \"tr:nth-child(4) td:nth-child(2):contains('100.00')\",\n            run: () => {\n                // Current Assets\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(4) td:nth-child(2)\").textContent, \"100.00\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(5) td:nth-child(2)\").textContent, \"50.00\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(6) td:nth-child(2)\").textContent, \"150.00\");\n\n                // Bank and Cash Accounts\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(8) td:nth-child(2)\").textContent, \"75.00\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(9) td:nth-child(2)\").textContent, \"75.00\");\n\n                // Receivables\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(11) td:nth-child(2)\").textContent, \"25.00\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(12) td:nth-child(2)\").textContent, \"25.00\");\n            }\n        },\n        {\n            content: \"Click sort\",\n            trigger: \"th .btn_sortable\",\n            run: \"click\"\n        },\n        {\n            content: \"Sortable (reset)\",\n            trigger: \"tr:nth-child(4) td:nth-child(2):contains('75.00')\",\n            run: () => {\n                // Bank and Cash Accounts\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(4) td:nth-child(2)\").textContent, \"75.00\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(5) td:nth-child(2)\").textContent, \"75.00\");\n\n                // Receivables\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(7) td:nth-child(2)\").textContent, \"25.00\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(8) td:nth-child(2)\").textContent, \"25.00\");\n\n                // Current Assets\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(10) td:nth-child(2)\").textContent, \"100.00\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(11) td:nth-child(2)\").textContent, \"50.00\");\n                Asserts.isEqual(document.querySelector(\"tr:nth-child(12) td:nth-child(2)\").textContent, \"150.00\");\n            }\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('account_reports_search', {\n    test: false,\n    url: '/web?#action=account_reports.action_account_report_general_ledger',\n    steps: () => [\n        {\n            content: \"click search\",\n            trigger: '.o_searchview_input',\n            run: 'click',\n        },\n        {\n            content: 'insert text in the searchbar',\n            trigger: '.o_searchview_input',\n            run: 'text 40'\n        },\n        {\n            content: 'test if the product sale line is present',\n            trigger: '.line_name:contains(\"400000 Product Sales\")',\n        },\n        {\n            content: \"click search\",\n            trigger: '.o_searchview_input',\n            run: 'click',\n        },\n        {\n            content: 'insert text in the search bar',\n            trigger: '.o_searchview_input',\n            run: 'text Account'\n        },\n        {\n            content: 'test if the receivable line is present',\n            trigger: '.line_name:contains(\"121000 Account Receivable\")',\n        },\n        {\n            content: 'check that the product sale line is not present',\n            trigger: '.line_name:not(:contains(\"400000 Product Sales\"))',\n        },\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('account_reports_sections', {\n    test: true,\n    url: \"/web?#action=account_reports.action_account_report_gt\",\n    steps: () => [\n        {\n            content: \"Open variant selector\",\n            trigger: \"#filter_variant button\",\n            run: 'click',\n        },\n        {\n            content: \"Select the test variant using sections\",\n            trigger: \".dropdown-item:contains('Test Sections')\",\n            run: 'click',\n        },\n        {\n            content: \"Check the lines of section 1 are displayed\",\n            trigger: \".line_name:contains('Section 1 line')\",\n            run: function(){},\n        },\n        {\n            content: \"Check the columns of section 1 are displayed\",\n            trigger: \"#table_header th:last():contains('Column 1')\",\n            run: function(){},\n        },\n        {\n            content: \"Check the export buttons belong to the composite report\",\n            trigger: \".btn:contains('composite_report_custom_button')\",\n            run: function(){},\n        },\n        {\n            content: \"Check the filters displayed belong to section 1 (journals filter is not enabled on section 2, nor the composite report)\",\n            trigger: \"#filter_journal\",\n            run: function(){},\n        },\n        {\n            content: \"Check the date chosen by default\",\n            trigger: \"#filter_date button:contains('2023')\",\n            run: function(){},\n        },\n        {\n            content: \"Switch to section 2\",\n            trigger: \"#section_selector .btn:contains('Section 2')\",\n            run: 'click',\n        },\n        {\n            content: \"Check the lines of section 2 are displayed\",\n            trigger: \".line_name:contains('Section 2 line')\",\n            run: function(){},\n        },\n        {\n            content: \"Check the columns of section 2 are displayed\",\n            trigger: \"#table_header th:last():contains('Column 2')\",\n            run: function(){},\n        },\n        {\n            content: \"Check the export buttons belong to the composite report\",\n            trigger: \".btn:contains('composite_report_custom_button')\",\n            run: function(){},\n        },\n        {\n            content: \"Check the filters displayed belong to section 2 (comparison filter is not enabled on section 1, nor the composite report)\",\n            trigger: \"#filter_comparison\",\n            run: function(){},\n        },\n        {\n            content: \"Open date switcher\",\n            trigger: \"#filter_date button\",\n            run: 'click',\n        },\n        {\n            content: \"Select another date\",\n            trigger: \"#filter_date span:contains('Last Financial Year')\",\n            run: 'click'\n        },\n        {\n            content: \"Wait for refresh\",\n            trigger: \"#filter_date button:contains('2022')\",\n            run: function(){},\n        },\n        {\n            content: \"Switch back to section 1\",\n            trigger: \"#section_selector .btn:contains('Section 1')\",\n            run: 'click',\n        },\n        {\n            content: \"Check the date chosen on section 2 has been propagated to section 1\",\n            trigger: \"#filter_date button:contains('2022')\",\n            run: function(){},\n        },\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('account_reports_widgets', {\n    test: true,\n    url: '/web?#action=account_reports.action_account_report_pl',\n    steps: () => [\n        {\n            content: \"change date filter\",\n            trigger: \"#filter_date button\",\n            run: 'click',\n        },\n        {\n            content: \"change date filter\",\n            trigger: \"#filter_date span:contains('Last Financial Year')\",\n            run: 'click'\n        },\n        {\n            content: \"wait refresh\",\n            trigger: \"#filter_date button:contains('2019')\",\n        },\n        {\n            content: \"change comparison filter\",\n            trigger: \"#filter_comparison .btn:first()\",\n            run: 'click',\n        },\n        {\n            content: \"wait for Apply button and click on it\",\n            trigger: \"#filter_comparison .dropdown-menu .btn:first()\",\n            run: 'click',\n        },\n        {\n            content: \"wait refresh, report should have 4 columns\",\n            trigger: \"th + th + th + th\",\n            run: function(){},\n        },\n        {\n            title: \"open dropdown\",\n            trigger: \".o_control_panel_main_buttons .dropdown-toggle\",\n            run: 'click',\n        },\n        {\n            title: \"export xlsx\",\n            trigger: \"button:contains('XLSX')\",\n            run: 'click'\n        },\n    ]\n});\n", "/** @odoo-module **/\n\nimport SurveyFormWidget from \"survey.form\";\n/**\n * Speed up fade-in fade-out to avoid useless delay in tests.\n */\nSurveyFormWidget.include({\n    _submitForm: function () {\n        this.fadeInOutDelay = 0;\n        return this._super.apply(this, arguments);\n    }\n});\n\n/**\n * This tour will test that, for the demo certification allowing 2 attempts, a user can\n * try and fail twice and will no longer be able to take the certification.\n */\n\nimport { registry } from \"@web/core/registry\";\n\nvar failSteps = [{ // Page-1\n    content: \"Clicking on Start Certification\",\n    trigger: 'button.btn.btn-primary.btn-lg:contains(\"Start Certification\")',\n}, { // Question: Do we sell Acoustic Bloc Screens?\n    content: \"Selecting answer 'No'\",\n    trigger: 'div.js_question-wrapper:contains(\"Do we sell Acoustic Bloc Screens\") label:contains(\"No\")',\n}, { // Question: Select all the existing products\n    content: \"Ticking answer 'Fanta'\",\n    trigger: 'div.js_question-wrapper:contains(\"Select all the existing products\") label:contains(\"Fanta\")'\n}, {\n    content: \"Ticking answer 'Drawer'\",\n    trigger: 'div.js_question-wrapper:contains(\"Select all the existing products\") label:contains(\"Drawer\")'\n}, {\n    content: \"Ticking answer 'Conference chair'\",\n    trigger: 'div.js_question-wrapper:contains(\"Select all the existing products\") label:contains(\"Conference chair\")'\n}, { // Question: Select all the available customizations for our Customizable Desk\n    content: \"Ticking answer 'Color'\",\n    trigger: 'div.js_question-wrapper:contains(\"Select all the available customizations for our Customizable Desk\") label:contains(\"Color\")'\n}, {\n    content: \"Ticking answer 'Height'\",\n    trigger: 'div.js_question-wrapper:contains(\"Select all the available customizations for our Customizable Desk\") label:contains(\"Height\")'\n}, { // Question: How many versions of the Corner Desk do we have?\n    content: \"Selecting answer '2'\",\n    trigger: 'div.js_question-wrapper:contains(\"How many versions of the Corner Desk do we have\") label:contains(\"2\")',\n}, { // Question: Do you think we have missing products in our catalog? (not rated)\n    content: \"Missing products\",\n    trigger: 'div.js_question-wrapper:contains(\"Do you think we have missing products in our catalog\") textarea',\n    run: \"text I don't know products enough to be able to answer that\",\n}, { // Page-2 Question: How much do we sell our Cable Management Box?\n    content: \"Selecting answer '$80'\",\n    trigger: 'div.js_question-wrapper:contains(\"How much do we sell our Cable Management Box\") label:contains(\"$80\")',\n}, { // Question: Select all the products that sell for $100 or more\n    content: \"Ticking answer 'Corner Desk Right Sit'\",\n    trigger: 'div.js_question-wrapper:contains(\"Select all the products that sell for $100 or more\") label:contains(\"Corner Desk Right Sit\")'\n}, {\n    content: \"Ticking answer 'Desk Combination'\",\n    trigger: 'div.js_question-wrapper:contains(\"Select all the products that sell for $100 or more\") label:contains(\"Desk Combination\")'\n}, {\n    content: \"Ticking answer 'Office Chair Black'\",\n    trigger: 'div.js_question-wrapper:contains(\"Select all the products that sell for $100 or more\") label:contains(\"Office Chair Black\")'\n}, { // Question: What do you think about our prices (not rated)?\n    trigger: 'div.js_question-wrapper:contains(\"What do you think about our prices\") label:contains(\"Correctly priced\")',\n}, { // Page-3 Question: How many days is our money-back guarantee?\n    content: \"Inputting answer '60'\",\n    trigger: 'div.js_question-wrapper:contains(\"How many days is our money-back guarantee\") input',\n    run: 'text 60'\n}, { // Question: If a customer purchases a product on 6 January 2020, what is the latest day we expect to ship it?\n    content: \"Inputting answer '01/06/2020'\",\n    trigger: 'div.js_question-wrapper:contains(\"If a customer purchases a product on 6 January 2020, what is the latest day we expect to ship it\") input',\n    run: 'text 01/06/2020'\n}, { // Question: If a customer purchases a 1 year warranty on 6 January 2020, when do we expect the warranty to expire?\n    content: \"Inputting answer '01/06/2021 00:00:01'\",\n    trigger: 'div.js_question-wrapper:contains(\"If a customer purchases a 1 year warranty on 6 January 2020, when do we expect the warranty to expire\") input',\n    run: 'text 01/06/2021 00:00:01'\n}, { // Question: What day to you think is best for us to start having an annual sale (not rated)?\n    trigger: 'div.js_question-wrapper:contains(\"What day to you think is best for us to start having an annual sale (not rated)\") input',\n}, { // Question: What day and time do you think most customers are most likely to call customer service (not rated)?\n    trigger: 'div.js_question-wrapper:contains(\"What day and time do you think most customers are most likely to call customer service (not rated)\") input',\n}, { // Question: How many chairs do you think we should aim to sell in a year (not rated)?\n    content: \"Inputting answer '0'\",\n    trigger: 'div.js_question-wrapper:contains(\"How many chairs do you think we should aim to sell in a year (not rated)\") input',\n    run: 'text 0'\n}, {\n    content: \"Finish Survey\",\n    trigger: 'button[type=\"submit\"]',\n}];\n\nvar retrySteps = [{\n    trigger: 'a:contains(\"Retry\")'\n}];\n\nvar lastSteps = [{\n    trigger: 'h1:contains(\"Thank you!\")',\n    run: function () {\n        if ($('a:contains(\"Retry\")').length === 0) {\n            $('h1:contains(\"Thank you!\")').addClass('tour_success');\n        }\n    }\n}, {\n    trigger: 'h1.tour_success',\n}];\n\nregistry.category(\"web_tour.tours\").add('test_certification_failure', {\n    test: true,\n    url: '/survey/start/4ead4bc8-b8f2-4760-a682-1fde8daaaaac',\n    steps: () => [].concat(failSteps, retrySteps, failSteps, lastSteps) });\n", "/** @odoo-module **/\n\nimport SurveyFormWidget from \"survey.form\";\n/**\n * Speed up fade-in fade-out to avoid useless delay in tests.\n */\nSurveyFormWidget.include({\n    _submitForm: function () {\n        this.fadeInOutDelay = 0;\n        return this._super.apply(this, arguments);\n    }\n});\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('test_certification_success', {\n    test: true,\n    url: '/survey/start/4ead4bc8-b8f2-4760-a682-1fde8daaaaac',\n    steps: () => [{ // Page-1\n        content: \"Clicking on Start Certification\",\n        trigger: 'button.btn.btn-primary.btn-lg:contains(\"Start Certification\")',\n    }, { // Question: Do we sell Acoustic Bloc Screens?\n        content: \"Selecting answer 'Yes'\",\n        trigger: 'div.js_question-wrapper:contains(\"Do we sell Acoustic Bloc Screens\") label:contains(\"Yes\")',\n    }, { // Question: Select all the existing products\n        content: \"Ticking answer 'Chair floor protection'\",\n        trigger: 'div.js_question-wrapper:contains(\"Select all the existing products\") label:contains(\"Chair floor protection\")'\n    }, {\n        content: \"Ticking answer 'Drawer'\",\n        trigger: 'div.js_question-wrapper:contains(\"Select all the existing products\") label:contains(\"Drawer\")'\n    }, {\n        content: \"Ticking answer 'Conference chair'\",\n        trigger: 'div.js_question-wrapper:contains(\"Select all the existing products\") label:contains(\"Conference chair\")'\n    }, { // Question: Select all the available customizations for our Customizable Desk\n        content: \"Ticking answer 'Color'\",\n        trigger: 'div.js_question-wrapper:contains(\"Select all the available customizations for our Customizable Desk\") label:contains(\"Color\")'\n    }, {\n        content: \"Ticking answer 'Legs'\",\n        trigger: 'div.js_question-wrapper:contains(\"Select all the available customizations for our Customizable Desk\") label:contains(\"Legs\")'\n    }, { // Question: How many versions of the Corner Desk do we have?\n        content: \"Selecting answer '2'\",\n        trigger: 'div.js_question-wrapper:contains(\"How many versions of the Corner Desk do we have\") label:contains(\"2\")',\n    }, { // Question: Do you think we have missing products in our catalog? (not rated)\n        content: \"Missing products\",\n        trigger: 'div.js_question-wrapper:contains(\"Do you think we have missing products in our catalog\") textarea',\n        run: \"text I think we should make more versions of the customizable desk, it's such an amazing product!\",\n    }, { // Page-2 Question: How much do we sell our Cable Management Box?\n        content: \"Selecting answer '$80' (wrong one)\",\n        trigger: 'div.js_question-wrapper:contains(\"How much do we sell our Cable Management Box\") label:contains(\"$80\")',\n    }, { // Question: Select all the products that sell for $100 or more\n        content: \"Ticking answer 'Corner Desk Right Sit'\",\n        trigger: 'div.js_question-wrapper:contains(\"Select all the products that sell for $100 or more\") label:contains(\"Corner Desk Right Sit\")'\n    }, {\n        content: \"Ticking answer 'Desk Combination'\",\n        trigger: 'div.js_question-wrapper:contains(\"Select all the products that sell for $100 or more\") label:contains(\"Desk Combination\")'\n    }, {\n        content: \"Ticking answer 'Large Desk'\",\n        trigger: 'div.js_question-wrapper:contains(\"Select all the products that sell for $100 or more\") label:contains(\"Large Desk\")'\n    }, { // Question: What do you think about our prices (not rated)?\n        content: \"Selecting answer 'Underpriced'\",\n        trigger: 'div.js_question-wrapper:contains(\"What do you think about our prices\") label:contains(\"Underpriced\")',\n    }, { // Page-3 Question: How many days is our money-back guarantee?\n        content: \"Inputting answer '30'\",\n        trigger: 'div.js_question-wrapper:contains(\"How many days is our money-back guarantee\") input',\n        run: 'text 30'\n    }, { // Question: If a customer purchases a product on 6 January 2020, what is the latest day we expect to ship it?\n        content: \"Inputting answer '01/08/2020'\",\n        trigger: 'div.js_question-wrapper:contains(\"If a customer purchases a product on 6 January 2020, what is the latest day we expect to ship it\") input',\n        run: 'text 01/08/2020'\n    }, { // Question: If a customer purchases a 1 year warranty on 6 January 2020, when do we expect the warranty to expire?\n        content: \"Inputting answer '01/07/2021 00:00:01'\",\n        trigger: 'div.js_question-wrapper:contains(\"If a customer purchases a 1 year warranty on 6 January 2020, when do we expect the warranty to expire\") input',\n        run: 'text 01/07/2021 00:00:01'\n    }, { // Question: What day to you think is best for us to start having an annual sale (not rated)?\n        content: \"Inputting answer '01/01/2021'\",\n        trigger: 'div.js_question-wrapper:contains(\"What day to you think is best for us to start having an annual sale (not rated)\") input',\n        run: 'text 01/01/2021'\n    }, { // Question: What day and time do you think most customers are most likely to call customer service (not rated)?\n        content: \"Inputting answer '01/01/2021 13:00:01'\",\n        trigger: 'div.js_question-wrapper:contains(\"What day and time do you think most customers are most likely to call customer service (not rated)\") input',\n        run: 'text 01/01/2021 13:00:01'\n    }, { // Question: How many chairs do you think we should aim to sell in a year (not rated)?\n        content: \"Inputting answer '1000'\",\n        trigger: 'div.js_question-wrapper:contains(\"How many chairs do you think we should aim to sell in a year (not rated)\") input',\n        run: 'text 1000'\n    }, {\n        content: \"Finish Survey\",\n        trigger: 'button[type=\"submit\"]',\n    }, {\n        content: \"Thank you\",\n        trigger: 'h1:contains(\"Thank you!\")',\n    }, {\n        content: \"test passed\",\n        trigger: 'div:contains(\"Congratulations, you have passed the test!\")',\n    }\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('test_survey', {\n    test: true,\n    url: '/survey/start/b137640d-14d4-4748-9ef6-344caaaaaae',\n    steps: () => [\n    // Page-1\n    {\n        content: 'Click on Start',\n        trigger: 'button.btn:contains(\"Start\")',\n    }, {\n        content: 'Answer Where do you live',\n        trigger: 'div.js_question-wrapper:contains(\"Where do you live\") input',\n        run: 'text Mordor-les-bains',\n    }, {\n        content: 'Answer Where do you live',\n        trigger: 'div.js_question-wrapper:contains(\"When is your date of birth\") input',\n        run: 'text 05/05/1980',\n    }, {\n        content: 'Answer How frequently do you buy products online',\n        trigger: 'div.js_question-wrapper:contains(\"How frequently do you buy products online\") label:contains(\"Once a month\")',\n    }, {\n        content: 'Answer How many times did you order products on our website',\n        trigger: 'div.js_question-wrapper:contains(\"How many times did you order products on our website\") input',\n        run: 'text 12',\n    }, {\n        content: 'Submit and go to Next Page',\n        trigger: 'button[value=\"next\"]',\n    },\n    // Page-2\n    {\n        content: 'Answer Which of the following words would you use to describe our products (High Quality)',\n        trigger: 'div.js_question-wrapper:contains(\"Which of the following words would you use to describe our products\") label:contains(\"High quality\")',\n    }, {\n        content: 'Answer Which of the following words would you use to describe our products (Good value for money)',\n        trigger: 'div.js_question-wrapper:contains(\"Which of the following words would you use to describe our products\") label:contains(\"Good value for money\")',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (The new layout and design is fresh and up-to-date)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The new layout and design is fresh and up-to-date\") td:first',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (It is easy to find the product that I want)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"It is easy to find the product that I want\") td:eq(2)',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (The tool to compare the products is useful to make a choice)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The tool to compare the products is useful to make a choice\") td:eq(3)',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (The checkout process is clear and secure)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The checkout process is clear and secure\") td:eq(2)',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (I have added products to my wishlist)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"I have added products to my wishlist\") td:last',\n    }, {\n        content: 'Answer Do you have any other comments, questions, or concerns',\n        trigger: 'div.js_question-wrapper:contains(\"Do you have any other comments, questions, or concerns\") textarea',\n        run: 'text This is great. Really.',\n    }, {\n        content: 'Click Submit and finish the survey',\n        trigger: 'button[value=\"finish\"]',\n    },\n    // Final page\n    {\n        content: 'Thank you',\n        trigger: 'h1:contains(\"Thank you!\")',\n    }\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('test_survey_chained_conditional_questions', {\n    test: true,\n    url: '/survey/start/3cfadce3-3f7e-41da-920d-10fa0eb19527',\n    steps: () => [\n    {\n        content: 'Click on Start',\n        trigger: 'button.btn:contains(\"Start\")',\n    }, {\n        content: 'Answer Q1 with Answer 1',\n        trigger: 'div.js_question-wrapper:contains(\"Q1\") label:contains(\"Answer 1\")',\n    }, {\n        content: 'Answer Q2 with Answer 1',\n        trigger: 'div.js_question-wrapper:contains(\"Q2\") label:contains(\"Answer 1\")',\n    }, {\n        content: 'Answer Q3 with Answer 1',\n        trigger: 'div.js_question-wrapper:contains(\"Q3\") label:contains(\"Answer 1\")',\n    }, {\n        content: 'Answer Q1 with Answer 2',  // This should hide all remaining questions.\n        trigger: 'div.js_question-wrapper:contains(\"Q1\") label:contains(\"Answer 2\")',\n    }, {\n        content: 'Check that only question 1 is now visible',\n        trigger: 'div.js_question-wrapper:contains(\"Q1\")',\n        run: () => {\n            const selector = 'div.js_question-wrapper.d-none';\n            if (document.querySelectorAll(selector).length !== 2) {\n                throw new Error('Q2 and Q3 should have been hidden.');\n            }\n        }\n    }, {\n        content: 'Click Submit and finish the survey',\n        trigger: 'button[value=\"finish\"]',\n    },\n    // Final page\n    {\n        content: 'Thank you',\n        trigger: 'h1:contains(\"Thank you!\")',\n    }\n\n]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('survey_tour_test_survey_form_triggers', {\n    test: true,\n    url: '/web',\n    steps: () => [\n    stepUtils.showAppsMenuItem(),\n    {\n        content: 'Go to Survey',\n        trigger: '.o_app[data-menu-xmlid=\"survey.menu_surveys\"]',\n    }, {\n        content: \"Create a new survey\",\n        trigger: \".o-kanban-button-new\",\n    }, {\n        content: \"Set the Survey's title\",\n        trigger: \".o_field_widget[name=title] textarea\",\n        run: \"text Test survey\",\n    }, {\n        content: \"Add a first question\",\n        trigger: \"td.o_field_x2many_list_row_add a\",\n    }, {\n        content: \"Set the first question's title\",\n        trigger: \".modal-content .o_field_widget[name=title] input\",\n        run: \"text Question 1\",\n    },\n    ...addTwoAnswers(),\n    ...saveAndNew(),\n    {\n        content: \"Set the second question's title\",\n        trigger: \".o_field_widget[name=title] input\",\n        run: \"text Question 2\",\n        in_modal: true,\n    },\n    ...addTwoAnswers(),\n    ...toggleIsConditional(),\n    {\n        content: \"Set a trigger question for the first question\",\n        trigger: \".o_field_widget[name=triggering_question_id] input\",\n        run: \"click\",\n        in_modal: true,\n    }, {\n        content: \"Set the first question as trigger\",\n        trigger: 'ul.ui-autocomplete a:contains(\"Question 1\")',\n        run: 'click',\n        in_modal: true,\n    }, {\n        content: \"Set a trigger answer for first question\",\n        trigger: \".modal-content .o_field_widget[name=triggering_answer_id] input\",\n        run: \"click\",\n        in_modal: true,\n    }, {\n        content: \"Set the first answer as trigger\",\n        trigger: 'ul.ui-autocomplete a:contains(\"Answer A\")',\n        run: 'click',\n    },\n    ...changeTab(\"answers\"),\n    ...saveAndNew(),\n    {\n        content: \"Set the third question's title\",\n        trigger: \".o_field_widget[name=title] input\",\n        run: \"text Question 3\",\n        in_modal: true,\n    },\n    ...addTwoAnswers(),\n    ...toggleIsConditional(),\n    {\n        content: \"Set a trigger question for the second question\",\n        trigger: \".o_field_widget[name=triggering_question_id] input\",\n        run: \"click\",\n        in_modal: true,\n    }, {\n        content: \"Set the second question as trigger\",\n        trigger: 'ul.ui-autocomplete a:contains(\"Question 2\")',\n        run: 'click',\n        in_modal: true,\n    }, {\n        content: \"Set a trigger answer for second question\",\n        trigger: \".modal-content .o_field_widget[name=triggering_answer_id] input\",\n        run: \"click\",\n        in_modal: true,\n    }, {\n        content: \"Set the second answer as trigger\",\n        trigger: 'ul.ui-autocomplete a:contains(\"Answer B\")',\n        run: 'click',\n    },\n    ...changeTab(\"answers\"),\n    ...stepUtils.saveForm(),\n    // Q2 and Q3 should have fa-fork icons. Assumes that the Trigger widget's column is 2 places after the title's.\n    {\n        content: \"Check that Question 2 has 'normal' trigger icon\",\n        trigger: \"tr:contains('Question 2') button i.fa-code-fork\",\n        run: () => {}, // it's a check\n    }, {\n        content: \"Check that Question 3 has 'normal' trigger icon\",\n        trigger: \"tr:contains('Question 3') button i.fa-code-fork\",\n        run: () => {}, // it's a check\n    }, {\n        content: \"Move Question 3 above its trigger (Question 2)\",\n        trigger: \"tr.o_data_row:nth-child(3) td[name=sequence]\",\n        run: \"drag_and_drop_native div[name=question_and_page_ids] table tbody tr:nth-child(2)\",\n    }, {\n        content: \"Check that Question 3 has 'warning' trigger icon\",\n        trigger: \"tr:contains('Question 3') button i.fa-exclamation-triangle\",\n        run: () => {}, // it's a check\n    }, {\n        content: \"Open that question to check the server's misplacement evaluation agrees\",\n        trigger: \"tr.o_data_row td[data-tooltip='Question 3']\",\n        run: \"click\",\n    }, {\n        content: \"Check that an alert is shown\",\n        trigger: \".o_form_sheet_bg div:first-child.alert-warning:contains('positioned before its trigger')\",\n        in_modal: true,\n    },\n    ...changeTab(\"options\"),\n    {\n        content: \"Change trigger question\",\n        trigger: \".o_field_widget[name=triggering_question_id] input\",\n        run: \"click\",\n        in_modal: true,\n    }, {\n        content: \"Set the first question as trigger instead\",\n        trigger: 'ul.ui-autocomplete a:contains(\"Question 1\")',\n        run: 'click',\n        in_modal: true,\n    }, {\n        content: \"Check that the alert is gone\",\n        trigger: `.o_form_sheet_bg div:first-child:not(.alert-warning).o_form_sheet`,\n        in_modal: true,\n        run: () => {}, // it's a check\n    }, {\n        content: \"Change the trigger answer as well\",\n        trigger: \".modal-content .o_field_widget[name=triggering_answer_id] input\",\n        run: \"click\",\n        in_modal: true,\n    }, {\n        content: \"Set the second answer as trigger, then\",\n        trigger: 'ul.ui-autocomplete a:contains(\"Answer B\")',\n        run: 'click',\n    },\n    ...stepUtils.saveForm(),\n     {\n        content: \"Check that Question 3 has its 'normal' trigger icon back\",\n        trigger: \"tr:contains('Question 3') button i.fa-code-fork\",\n        run: () => {}, // it's a check\n    }, {\n        content: \"Move Question 3 back below Question 2\",\n        trigger: \"tr.o_data_row:nth-child(2) td[name=sequence]\",\n        run: \"drag_and_drop_native div[name=question_and_page_ids] table tbody tr:nth-child(3)\",\n    }, {\n        content: \"Open that question again\",\n        trigger: \"tr.o_data_row td[data-tooltip='Question 3']\",\n        run: \"click\",\n    },\n    ...changeTab(\"options\"),\n    {\n        content: \"Change trigger to confirm we can now use Question 2 again\",\n        trigger: \".modal-content .o_field_widget[name=triggering_question_id] input\",\n        run: \"click\",\n        in_modal: true,\n    }, {\n        content: \"Question 2 is allowed as trigger again\",\n        trigger: '.modal-content ul.ui-autocomplete a:contains(\"Question 2\")',\n        in_modal: true,\n    }, {\n        content: \"Change the trigger answer back as well\",\n        trigger: \".modal-content .o_field_widget[name=triggering_answer_id] input\",\n        run: \"text A\",\n        in_modal: true,\n    }, {\n        content: \"Set the second answer as trigger, then\",\n        trigger: '.modal-content ul.ui-autocomplete a:contains(\"Answer B\")',\n        run: \"click\",\n    },\n    ...stepUtils.saveForm(),\n    // Deleting trigger answers or whole question gracefully remove the trigger automatically\n    {\n        content: \"Open Question 2 again\",\n        trigger: \"tr.o_data_row td[data-tooltip='Question 2']\",\n        run: \"click\",\n    }, {\n        content: \"Delete Answer B\",\n        trigger: \"div[name=suggested_answer_ids] tr:contains('Answer B') button[name=delete]\",\n    },\n    ...stepUtils.saveForm(),\n    {\n        content: \"Check that Question 3 no longer has a trigger icon\",\n        trigger: \"div[name=question_and_page_ids] tr:contains('Question 3') div.o_widget_survey_question_trigger:not(:has(button))\",\n        allowInvisible: true,\n        run: () => {}, // it's a check\n    }, {\n        content: \"Check that Question 2 however still has a trigger icon\",\n        trigger: \"tr:contains('Question 2') button i.fa-code-fork\",\n        run: () => {}, // it's a check\n    }, {\n        content: \"Delete Question 1\",\n        trigger: \"tr:contains('Question 1') button[name=delete]\",\n        run: \"click\",\n    }, {\n        content: \"Check that now Question 2 too does no longer have a trigger icon\",\n        trigger: \"tr:contains('Question 2') div.o_widget_survey_question_trigger:not(:has(button))\",\n        allowInvisible: true,\n        run: () => {}, // it's a check\n    }, {\n        content: 'Go back to Kanban View',\n        trigger: '[data-menu-xmlid=\"survey.menu_survey_form\"]',\n    }, {\n        content: \"Check that we arrived on the kanban view\",\n        trigger: \".o-kanban-button-new\",\n        run: () => {}, // it's a check\n    }\n]});\n\nfunction addTwoAnswers() {\n    return [\n        {\n            content: \"Add the first answer\",\n            trigger: \"div[name=suggested_answer_ids] .o_field_x2many_list_row_add a\",\n            in_modal: true,\n        }, {\n            trigger: 'tr.o_selected_row div[name=value] input',\n            run: 'text Answer A',\n            in_modal: true,\n        }, {\n            content: \"Add the second answer\",\n            trigger: \"div[name=suggested_answer_ids] .o_field_x2many_list_row_add a\",\n            in_modal: true,\n        }, {\n            trigger: 'tr:nth-child(2).o_selected_row div[name=value] input',\n            run: 'text Answer B',\n            in_modal: true,\n        }\n    ];\n}\n\nfunction saveAndNew() {\n    return [\n        {\n            content: \"Click Save & New\",\n            trigger: \"button.o_form_button_save_new\",\n            in_modal: true,\n        }, {\n            content: \"Wait for the dialog to render new question form\",\n            // suggested_answer_ids required even though in_modal is specified...\n            trigger: \"div[name=suggested_answer_ids] .o_list_table tbody tr:first-child:not(.o_data_row)\", // empty answers list\n            in_modal: true,\n            run: () => {}, // it's a check\n        }\n    ];\n}\n\nfunction toggleIsConditional() {\n    return [\n        ...changeTab(\"options\"),\n        {\n            content: \"Toggle is_conditional\",\n            trigger: \"div[name=is_conditional] input\",\n            in_modal: true,\n            run: \"click\",\n        }\n    ];\n}\n\nfunction changeTab(tabName) {\n    // Currently, .modal-content is required even though \"in_modal\"\n    return [\n        {\n            content: `Go to ${tabName} tab`,\n            trigger: `.modal-content a[name=${tabName}].nav-link`,\n            in_modal: true\n        }, {\n            content: `Wait for tab ${tabName} tab`,\n            trigger: `.modal-content a[name=${tabName}].nav-link.active`,\n            in_modal: true,\n            run: () => {}, // it's a check\n        }\n    ];\n}\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('test_survey_prefill', {\n    test: true,\n    url: '/survey/start/b137640d-14d4-4748-9ef6-344caaaaaae',\n    steps: () => [{      // Page-1\n        trigger: 'button.btn.btn-primary.btn-lg:contains(\"Start Survey\")',\n    }, { // Question: Where do you live?\n        trigger: 'div.js_question-wrapper:contains(\"Where do you live?\") input',\n        run: 'text Grand-Rosiere',\n    }, { // Question: When is your date of birth?\n        trigger: 'div.js_question-wrapper:contains(\"When is your date of birth?\") input',\n        run: 'text 05/05/1980',\n    }, { // Question: How frequently do you buy products online?\n        trigger: 'div.js_question-wrapper:contains(\"How frequently do you buy products online?\") label:contains(\"Once a week\")',\n    }, { // Question: How many times did you order products on our website?\n        trigger: 'div.js_question-wrapper:contains(\"How many times did you order products on our website?\") input',\n        run: 'text 42',\n    }, {\n        content: 'Click on Next Page',\n        trigger: 'button[value=\"next\"]',\n    },\n    // Page-2\n    { // Question: Which of the following words would you use to describe our products?\n        content: 'Answer Which of the following words would you use to describe our products (High Quality)',\n        trigger: 'div.js_question-wrapper:contains(\"Which of the following words would you use to describe our products\") label:contains(\"High quality\")',\n    }, {\n        content: 'Answer Which of the following words would you use to describe our products (Good value for money)',\n        trigger: 'div.js_question-wrapper:contains(\"Which of the following words would you use to describe our products\") label:contains(\"Good value for money\")',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (The new layout and design is fresh and up-to-date)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The new layout and design is fresh and up-to-date\") td:first',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (It is easy to find the product that I want)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"It is easy to find the product that I want\") td:eq(2)',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (The tool to compare the products is useful to make a choice)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The tool to compare the products is useful to make a choice\") td:eq(3)',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (The checkout process is clear and secure)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The checkout process is clear and secure\") td:eq(2)',\n    }, {\n        content: 'Answer What do your think about our new eCommerce (I have added products to my wishlist)',\n        trigger: 'div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"I have added products to my wishlist\") td:last',\n    }, {\n        content: 'Answer Do you have any other comments, questions, or concerns',\n        trigger: 'div.js_question-wrapper:contains(\"Do you have any other comments, questions, or concerns\") textarea',\n        run: 'text Is the prefill working?',\n    }, {\n        // Go back to previous page\n        content: 'Click on the previous page name in the breadcrumb',\n        trigger: 'ol.breadcrumb a:first',\n    }, {\n        trigger: 'div.js_question-wrapper:contains(\"How many times did you order products on our website?\") input',\n        run: function () {\n            var $inputQ3 = $('div.js_question-wrapper:contains(\"How many times did you order products on our website?\") input');\n            if ($inputQ3.val() === '42.0') {\n                $('.o_survey_title').addClass('prefilled');\n            }\n        }\n    }, {\n        trigger: '.o_survey_title.prefilled',\n        run: function () {\n            // check that all the answers are prefilled in Page 1\n            var $inputQ1 = $('div.js_question-wrapper:contains(\"Where do you live?\") input');\n            if ($inputQ1.val() !== 'Grand-Rosiere') {\n                return;\n            }\n\n            var $inputQ2 = $('div.js_question-wrapper:contains(\"When is your date of birth?\") input');\n            if ($inputQ2.val() !== '05/05/1980') {\n                return;\n            }\n\n            var $inputQ3 = $('div.js_question-wrapper:contains(\"How frequently do you buy products online?\") label:contains(\"Once a week\") input');\n            if (!$inputQ3.is(':checked')) {\n                return;\n            }\n\n            var $inputQ4 = $('div.js_question-wrapper:contains(\"How many times did you order products on our website?\") input');\n            if ($inputQ4.val() !== '42.0') {\n                return;\n            }\n\n            $('.o_survey_title').addClass('tour_success');\n        }\n    }, {\n        trigger: '.o_survey_title.tour_success'\n    }, {\n        content: 'Click on Next Page',\n        trigger: 'button[value=\"next\"]',\n    }, {\n        trigger: 'div.js_question-wrapper:contains(\"Do you have any other comments, questions, or concerns\") textarea',\n        run: function () {\n            var $inputQ3 = $('div.js_question-wrapper:contains(\"Do you have any other comments, questions, or concerns\") textarea');\n            if ($inputQ3.val() === \"Is the prefill working?\") {\n                $('.o_survey_title').addClass('prefilled2');\n            }\n        }\n    }, {\n        trigger: '.o_survey_title.prefilled2',\n        run: function () {\n            // check that all the answers are prefilled in Page 2\n            var $input1Q1 = $('div.js_question-wrapper:contains(\"Which of the following words would you use to describe our products\") label:contains(\"High quality\") input');\n            if (!$input1Q1.is(':checked')) {\n                return;\n            }\n\n            var $input2Q1 = $('div.js_question-wrapper:contains(\"Which of the following words would you use to describe our products\") label:contains(\"Good value for money\") input');\n            if (!$input2Q1.is(':checked')) {\n                return;\n            }\n\n            var $input1Q2 = $('div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The new layout and design is fresh and up-to-date\") input:first');\n            if (!$input1Q2.is(':checked')) {\n                return;\n            }\n\n            var $input2Q2 = $('div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"It is easy to find the product that I want\") input:eq(2)');\n            if (!$input2Q2.is(':checked')) {\n                return;\n            }\n\n            var $input3Q2 = $('div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The tool to compare the products is useful to make a choice\") input:eq(3)');\n            if (!$input3Q2.is(':checked')) {\n                return;\n            }\n\n            var $input4Q2 = $('div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"The checkout process is clear and secure\") input:eq(2)');\n            if (!$input4Q2.is(':checked')) {\n                return;\n            }\n\n            var $input5Q2 = $('div.js_question-wrapper:contains(\"What do your think about our new eCommerce\") tr:contains(\"I have added products to my wishlist\") input:last');\n            if (!$input5Q2.is(':checked')) {\n                return;\n            }\n\n            var $inputQ3 = $('div.js_question-wrapper:contains(\"Do you have any other comments, questions, or concerns\") textarea');\n            if ($inputQ3.val() !== \"Is the prefill working?\") {\n                return;\n            }\n\n            $('.o_survey_title').addClass('tour_success_2');\n        }\n    }, {\n        trigger: '.o_survey_title.tour_success_2'\n    }\n]});\n", "/** @odoo-module alias=survey.session_manage_test **/\n\nimport SessionManager from \"survey.session_manage\";\n/**\n * Small override for test/tour purposes.\n */\nSessionManager.include({\n    /**\n     * - Trigger the fetch of answer results immediately at the start.\n     * (Instead of wasting 2 seconds waiting after the start).\n     * - Set the fade in/out time to 1 ms to avoid unnecessary delays.\n     * - Avoid refreshing the results every 2 seconds\n     */\n    start: function () {\n        var self = this;\n        return this._super.apply(this, arguments)\n            .then(this._refreshResults.bind(this))\n            .then(function () {\n                self.fadeInOutTime = 1;\n                clearInterval(self.resultsRefreshInterval);\n            });\n    },\n\n    /**\n     * Force the timer to \"now\" to avoid introducing potential test breaking\n     * timely variables (rpc/small server delay/...) if the start_question_time flickers.\n     */\n    _startTimer: function () {\n        this.$el.data('timer', moment.utc());\n        return this._super.apply(this, arguments);\n    }\n});\n\nexport default SessionManager;\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { accessSurveysteps } from \"./survey_tour_session_tools\";\n\n/**\n * Small tour that will simply start the session and wait for attendees.\n */\nregistry.category(\"web_tour.tours\").add(\"test_survey_session_create_tour\", {\n    url: \"/web\",\n    test: true,\n    steps: () => {\n        return [\n            ...accessSurveysteps,\n            {\n                trigger: 'button[name=\"action_start_session\"]',\n            },\n            {\n                trigger: '.o_survey_session_attendees_count:contains(\"0\")',\n                run: function () {}, // check session is correctly started\n            },\n        ];\n    },\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { zip } from \"@web/core/utils/arrays\";\nimport { TourError } from \"@web_tour/tour_service/tour_utils\";\nimport { accessSurveysteps } from \"./survey_tour_session_tools\";\n\n/**\n * Since the chart is rendered using SVG, we can't use jQuery triggers to check if everything\n * is correctly rendered.\n * This helper method returns the chart data (Chartjs framework specific) in the following structure:\n * [{ value, backgroundColor, labelColor }]\n */\nconst getChartData = () => {\n    const chartData = [];\n    const rootWidget = odoo.__DEBUG__.services['root.widget'];\n    const surveyManagePublicWidget = rootWidget.publicWidgets.find((widget) => {\n        return widget.$el.hasClass('o_survey_session_manage');\n    });\n\n    if (!surveyManagePublicWidget) {\n        return chartData;\n    }\n\n    surveyManagePublicWidget.resultsChart.chart.data.datasets[0].data.forEach((value, index)=> {\n        chartData.push({\n            value: value,\n            backgroundColor: surveyManagePublicWidget.resultsChart._getBackgroundColor({dataIndex: index}),\n            labelColor: surveyManagePublicWidget.resultsChart._getLabelColor({dataIndex: index}),\n        });\n    });\n\n    return chartData;\n};\n\nconst nextScreen = () => {\n    const e = $.Event('keydown');\n    e.keyCode = 39; // arrow-right\n    $(document).trigger(e);\n};\n\nconst previousScreen = () => {\n    const e = $.Event('keydown');\n    e.keyCode = 37; // arrow-left\n    $(document).trigger(e);\n};\n\nconst REGULAR_ANSWER_COLOR = '#212529';\nconst CORRECT_ANSWER_COLOR = '#2CBB70';\nconst WRONG_ANSWER_COLOR = '#D9534F';\n\nconst INDEX_TO_ORDINAL = {\n    0: 'First',\n    1: 'Second',\n    2: 'Third',\n    3: 'Fourth',\n};\n\n/**\n * Check answer appearance (opacity and color).\n *\n * @param {string} answerLabel\n * @param {{backgroundColor: string, labelColor: string, value?: number}} shownAnswer\n * @param {\"correct\"|\"incorrect\"|\"regular\"} expectedAnswerType\n */\nconst checkAnswerAppearance = (answerLabel, shownAnswer, expectedAnswerType) => {\n    if (expectedAnswerType === 'correct') {\n        if (!shownAnswer.backgroundColor.includes('0.8') || shownAnswer.labelColor !== CORRECT_ANSWER_COLOR) {\n            throw new TourError(`${answerLabel} should be shown as \"correct\"!`);\n        }\n    } else if (expectedAnswerType === 'incorrect') {\n        if (!shownAnswer.backgroundColor.includes('0.2') || shownAnswer.labelColor !== WRONG_ANSWER_COLOR) {\n            throw new TourError(`${answerLabel} should be shown as \"incorrect\"!`);\n        }\n    } else if (expectedAnswerType === 'regular') {\n        if (!shownAnswer.backgroundColor.includes('0.8') || shownAnswer.labelColor !== REGULAR_ANSWER_COLOR) {\n            throw new TourError(`${answerLabel} should not be shown as \"correct\" or \"incorrect\"!`);\n        }\n    } else {\n        throw new Error(`Unsupported answer type.`);\n    }\n};\n\nconst checkAnswerValue = (answerLabel, shownAnswerValue, expectedAnswerValue) => {\n    if (shownAnswerValue !== expectedAnswerValue) {\n        throw new TourError(expectedAnswerValue === 0 ?\n            `${answerLabel} should not be picked by any user!` :\n            `${answerLabel} should be picked by ${expectedAnswerValue} users!`\n        );\n    }\n};\n\n/**\n * Check the answers count, values and appearance.\n *\n * @param {{value: number, backgroundColor: string, color: string}[]} chartData Data returned by `getChartData`.\n * @param {{value: number, type: \"correct\" | \"incorrect\" | \"regular\"}[]} expectedAnswersData\n */\nconst checkAnswers = (chartData, expectedAnswersData) => {\n    checkAnswersCount(chartData, expectedAnswersData.length);\n\n    zip(chartData, expectedAnswersData).forEach(([shownAnswerData, expectedAnswerData], answerIndex) => {\n        const answerLabel = `${INDEX_TO_ORDINAL[answerIndex]} answer`;\n        checkAnswerValue(answerLabel, shownAnswerData.value, expectedAnswerData.value);\n        checkAnswerAppearance(answerLabel, shownAnswerData, expectedAnswerData.type);\n    });\n};\n\nconst checkAnswersAllZeros = (chartData) => {\n    if (chartData.find(answerData => answerData !== 0).length) {\n        throw new TourError('Chart data should all be 0!');\n    }\n};\n\nconst checkAnswersCount = (chartData, expectedCount) => {\n    if (chartData.length !== expectedCount) {\n        throw new TourError(`Chart data should contain ${expectedCount} records!`);\n    }\n};\n\n/**\n * Tour that will test the whole survey session from the host point of view.\n *\n * Break down of the main points:\n * - Open the 'session manager' (the session was already created by a previous tour)\n * - Display the nickname question, and move to the next one (as answers are not displayed)\n * - Check answers are correctly displayed for the 3 'simple' question types (text, date, datetime)\n * - Move to the choice question and check that answers are displayed\n *   (The check is rather complex, see 'getChartData' for details)\n * - If everything is correctly displayed, move to the next question\n * - On the scored choice question, check that the screens are correctly chained:\n *   no results displayed -> results displayed -> correct/incorrect answers -> leaderboard\n * - On the scored + timed multiple choice question, check the same than previous question,\n *   except that the results are supposed to be displayed automatically when the question timer runs out\n * - Test the 'back' behavior and check that screens are reversed correctly\n * - Check that our final leaderboard is correct based on attendees answers\n * - Close the survey session\n */\nregistry.category(\"web_tour.tours\").add('test_survey_session_manage_tour', {\n    url: \"/web\",\n    test: true,\n    steps: () => [].concat(accessSurveysteps, [{\n    trigger: 'button[name=\"action_open_session_manager\"]',\n}, {\n    trigger: 'h1:contains(\"Nickname\")',\n    isCheck: true // check nickname question is displayed\n}, {\n    trigger: 'h1',\n    run: nextScreen\n}, {\n    trigger: 'h1:contains(\"Text Question\")',\n    isCheck: true // check text question is displayed\n}, {\n    trigger: '.o_survey_session_progress_small:contains(\"3 / 3\")',\n    isCheck: true // check we have 3 answers\n}, {\n    trigger: '.o_survey_session_text_answer_container:contains(\"Attendee 1 is the best\")',\n    isCheck: true // check attendee 1 answer is displayed\n}, {\n    trigger: '.o_survey_session_text_answer_container:contains(\"Attendee 2 rulez\")',\n    isCheck: true // check attendee 2 answer is displayed\n}, {\n    trigger: '.o_survey_session_text_answer_container:contains(\"Attendee 3 will crush you\")',\n    isCheck: true // check attendee 3 answer is displayed\n}, {\n    trigger: 'h1',\n    run: nextScreen\n}, {\n    trigger: '.o_survey_session_progress_small:contains(\"2 / 3\")',\n    isCheck: true // check we have 2 answers\n}, {\n    trigger: '.o_survey_session_text_answer_container:contains(\"10/10/2010\")',\n    isCheck: true // check attendee 1 answer is displayed\n}, {\n    trigger: '.o_survey_session_text_answer_container:contains(\"11/11/2011\")',\n    isCheck: true // check attendee 2 answer is displayed\n}, {\n    trigger: 'h1',\n    run: previousScreen\n}, {\n    trigger: 'h1:contains(\"Text Question\")',\n    isCheck: true // check text question is displayed\n}, {\n    trigger: '.o_survey_session_progress_small:contains(\"3 / 3\")',\n    isCheck: true // check we have 3 answers\n}, {\n    trigger: '.o_survey_session_text_answer_container:contains(\"Attendee 1 is the best\")',\n    isCheck: true // check attendee 1 answer is displayed\n}, {\n    trigger: '.o_survey_session_text_answer_container:contains(\"Attendee 2 rulez\")',\n    isCheck: true // check attendee 2 answer is displayed\n}, {\n    trigger: '.o_survey_session_text_answer_container:contains(\"Attendee 3 will crush you\")',\n    isCheck: true // check attendee 3 answer is displayed\n}, {\n    trigger: 'h1',\n    run: nextScreen\n}, {\n    trigger: '.o_survey_session_progress_small:contains(\"2 / 3\")',\n    isCheck: true // check we have 2 answers\n}, {\n    trigger: '.o_survey_session_text_answer_container:contains(\"10/10/2010\")',\n    isCheck: true // check attendee 1 answer is displayed\n}, {\n    trigger: '.o_survey_session_text_answer_container:contains(\"11/11/2011\")',\n    isCheck: true // check attendee 2 answer is displayed\n}, {\n    trigger: 'h1',\n    run: nextScreen\n}, {\n    trigger: '.o_survey_session_progress_small:contains(\"2 / 3\")',\n    isCheck: true // check we have 2 answers\n}, {\n    trigger: '.o_survey_session_text_answer_container:contains(\"10/10/2010 10:00:00\")',\n    isCheck: true // check attendee 2 answer is displayed\n}, {\n    trigger: '.o_survey_session_text_answer_container:contains(\"11/11/2011 15:55:55\")',\n    isCheck: true // check attendee 3 answer is displayed\n}, {\n    trigger: 'h1',\n    run: nextScreen\n}, {\n    trigger: 'h1:contains(\"Regular Simple Choice\")',\n    // Wait for answers' data to be fetched (see commit message).\n    extra_trigger: '.o_survey_session_progress_small[style*=\"width: 100%\"]',\n    run: () => {\n        checkAnswers(getChartData(), [\n            {value: 2, type: \"regular\"},\n            {value: 1, type: \"regular\"},\n            {value: 0, type: \"regular\"},\n        ]);\n        nextScreen();\n    }\n}, {\n    trigger: 'h1:contains(\"Scored Simple Choice\")',\n    run: () => {\n        const chartData = getChartData();\n        checkAnswersCount(chartData, 4);\n        checkAnswersAllZeros(chartData);\n\n        nextScreen();\n    }\n}, {\n    trigger: 'h1:contains(\"Scored Simple Choice\")',\n    // Wait for Button to be updated (\"late\" enough DOM change after onNext() is triggered).\n    extra_trigger: '.o_survey_session_navigation_next_label:contains(\"Show Correct Answer(s)\")',\n    run: () => {\n        checkAnswers(getChartData(), [\n            {value: 1, type: \"regular\"},\n            {value: 1, type: \"regular\"},\n            {value: 1, type: \"regular\"},\n            {value: 0, type: \"regular\"},\n        ]);\n        nextScreen();\n    }\n}, {\n    trigger: 'h1:contains(\"Scored Simple Choice\")',\n    // Same as above\n    extra_trigger: '.o_survey_session_navigation_next_label:contains(\"Show Leaderboard\")',\n    run: () => {\n        checkAnswers(getChartData(), [\n            {value: 1, type: \"correct\"},\n            {value: 1, type: \"incorrect\"},\n            {value: 1, type: \"incorrect\"},\n            {value: 0, type: \"incorrect\"},\n        ]);\n        nextScreen();\n        nextScreen();\n    }\n}, {\n    trigger: 'h1:contains(\"Timed Scored Multiple Choice\")',\n    run: ()=> {\n        const chartData = getChartData();\n        checkAnswersCount(chartData, 3);\n        checkAnswersAllZeros(chartData);\n\n        // after 1 second, results are displayed automatically because question timer runs out\n        // we add 1 extra second because of the way the timer works:\n        // it only triggers the time_up event 1 second AFTER the delay is passed\n        setTimeout(() => {\n            checkAnswers(getChartData(), [\n                {value: 2, type: \"regular\"},\n                {value: 2, type: \"regular\"},\n                {value: 1, type: \"regular\"},\n            ]);\n\n            nextScreen();\n            checkAnswers(getChartData(), [\n                {value: 2, type: \"correct\"},\n                {value: 2, type: \"correct\"},\n                {value: 1, type: \"incorrect\"},\n            ]);\n\n            nextScreen();\n        }, 2100);\n    }\n}, {\n    trigger: 'h1:contains(\"Final Leaderboard\")',\n    isCheck: true // Final Leaderboard is displayed\n}, {\n    trigger: 'h1',\n    run: () => {\n        // previous screen testing\n        previousScreen();\n        checkAnswers(getChartData(), [\n            {value: 2, type: \"correct\"},\n            {value: 2, type: \"correct\"},\n            {value: 1, type: \"incorrect\"},\n        ]);\n\n        previousScreen();\n        checkAnswers(getChartData(), [\n            {value: 2, type: \"regular\"},\n            {value: 2, type: \"regular\"},\n            {value: 1, type: \"regular\"},\n        ]);\n\n        previousScreen();\n        checkAnswersAllZeros(getChartData());\n\n        // Now we go forward to the \"Final Leaderboard\" again (3 times)\n        for (let i = 0; i < 3; i++) {\n            nextScreen();\n        }\n    }\n}, {\n    trigger: 'h1:contains(\"Final Leaderboard\")',\n    isCheck: true // Final Leaderboard is displayed\n}, {\n    trigger: '.o_survey_session_close:has(\"i.fa-close\")'\n}, {\n    trigger: 'button[name=\"action_start_session\"]',\n    isCheck: true // check that we can start another session\n}])});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { accessSurveysteps } from \"./survey_tour_session_tools\";\n\n/**\n * Small tour that will open the session manager and check\n * that the attendees are accounted for, then start the session\n * by going to the first question.\n */\nregistry.category(\"web_tour.tours\").add('test_survey_session_start_tour', {\n    url: \"/web\",\n    test: true,\n    steps: () => [].concat(accessSurveysteps, [{\n    trigger: 'button[name=\"action_open_session_manager\"]',\n}, {\n    trigger: '.o_survey_session_attendees_count:contains(\"3\")',\n    run: function () {} // check attendees count\n}, {\n    trigger: 'h1',\n    run: function () {\n        var e = $.Event('keydown');\n        e.keyCode = 39; // arrow-right\n        $(document).trigger(e); // start session\n    }\n}, {\n    trigger: 'h1:contains(\"Nickname\")',\n    run: function () {} // check first question is displayed\n}])});\n", "/** @odoo-module **/\n\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\n/**\n * Tool that gathers common steps to every 'survey session' tours.\n */\nexport const accessSurveysteps = [\n    stepUtils.showAppsMenuItem(),\n    {\n        trigger: '.o_app[data-menu-xmlid=\"survey.menu_surveys\"]',\n        edition: \"community\",\n    },\n    {\n        trigger: '.o_app[data-menu-xmlid=\"survey.menu_surveys\"]',\n        edition: \"enterprise\",\n    },\n    {\n        trigger: '.oe_kanban_card:contains(\"User Session Survey\")',\n    },\n];\n", "/** @odoo-module */\n\nimport { TextAreaPopup } from \"@point_of_sale/../tests/tours/helpers/TextAreaPopupTourMethods\";\nimport { NumberPopup } from \"@point_of_sale/../tests/tours/helpers/NumberPopupTourMethods\";\nimport { Chrome } from \"@pos_restaurant/../tests/tours/helpers/ChromeTourMethods\";\nimport { FloorScreen } from \"@pos_restaurant/../tests/tours/helpers/FloorScreenTourMethods\";\nimport { ProductScreen } from \"@pos_restaurant/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { SplitBillScreen } from \"@pos_restaurant/../tests/tours/helpers/SplitBillScreenTourMethods\";\nimport { BillScreen } from \"@pos_restaurant/../tests/tours/helpers/BillScreenTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"ControlButtonsTour\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            // signal to start generating steps\n            // when finished, steps can be taken from getSteps\n            startSteps();\n            \n            // Test TransferOrderButton\n            FloorScreen.do.clickTable(\"2\");\n            ProductScreen.exec.addOrderline(\"Water\", \"5\", \"2\", \"10.0\");\n            ProductScreen.do.clickTransferButton();\n            FloorScreen.do.clickTable(\"4\");\n            ProductScreen.do.clickOrderline(\"Water\", \"5\", \"2\");\n            Chrome.do.backToFloor();\n            FloorScreen.do.clickTable(\"2\");\n            ProductScreen.check.orderIsEmpty();\n            Chrome.do.backToFloor();\n            FloorScreen.do.clickTable(\"4\");\n            ProductScreen.do.clickOrderline(\"Water\", \"5\", \"2\");\n            \n            // Test SplitBillButton\n            ProductScreen.do.clickSplitBillButton();\n            SplitBillScreen.do.clickBack();\n            \n            // Test OrderlineNoteButton\n            ProductScreen.do.clickNoteButton();\n            TextAreaPopup.check.isShown();\n            TextAreaPopup.do.inputText(\"test note\");\n            TextAreaPopup.do.clickConfirm();\n            ProductScreen.check.orderlineHasNote(\"Water\", \"5\", \"test note\");\n            ProductScreen.exec.addOrderline(\"Water\", \"8\", \"1\", \"8.0\");\n            \n            // Test PrintBillButton\n            ProductScreen.do.clickPrintBillButton();\n            BillScreen.check.isShown();\n            BillScreen.do.clickOk();\n            \n            // Test GuestButton\n            ProductScreen.do.clickGuestButton();\n            NumberPopup.do.enterValue(\"15\");\n            NumberPopup.check.inputShownIs(\"15\");\n            NumberPopup.do.clickConfirm();\n            ProductScreen.check.guestNumberIs(\"15\");\n            \n            ProductScreen.do.clickGuestButton();\n            NumberPopup.do.enterValue(\"5\");\n            NumberPopup.check.inputShownIs(\"5\");\n            NumberPopup.do.clickConfirm();\n            ProductScreen.check.guestNumberIs(\"5\");\n\n            return getSteps(); \n        }\n    });\n", "/** @odoo-module */\n\nimport { Chrome } from \"@pos_restaurant/../tests/tours/helpers/ChromeTourMethods\";\nimport { FloorScreen } from \"@pos_restaurant/../tests/tours/helpers/FloorScreenTourMethods\";\nimport { TextInputPopup } from \"@point_of_sale/../tests/tours/helpers/TextInputPopupTourMethods\";\nimport { NumberPopup } from \"@point_of_sale/../tests/tours/helpers/NumberPopupTourMethods\";\nimport { ProductScreen } from \"@pos_restaurant/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"FloorScreenTour\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            // signal to start generating steps\n            // when finished, steps can be taken from getSteps\n            startSteps();\n            \n            // check floors if they contain their corresponding tables\n            FloorScreen.check.selectedFloorIs(\"Main Floor\");\n            FloorScreen.check.hasTable(\"2\");\n            FloorScreen.check.hasTable(\"4\");\n            FloorScreen.check.hasTable(\"5\");\n            FloorScreen.do.clickFloor(\"Second Floor\");\n            FloorScreen.check.hasTable(\"3\");\n            FloorScreen.check.hasTable(\"1\");\n            \n            // clicking table in active mode does not open product screen\n            // instead, table is selected\n            FloorScreen.do.clickEdit();\n            FloorScreen.do.clickTable(\"3\");\n            FloorScreen.check.selectedTableIs(\"3\");\n            FloorScreen.do.clickTable(\"1\");\n            FloorScreen.check.selectedTableIs(\"1\");\n            \n            // test add table\n            FloorScreen.do.clickFloor(\"Main Floor\");\n            FloorScreen.do.clickAddTable();\n            FloorScreen.check.selectedTableIs(\"1\");\n            FloorScreen.do.clickRename();\n            TextInputPopup.check.isShown();\n            TextInputPopup.do.inputText(\"100\");\n            TextInputPopup.do.clickConfirm();\n            FloorScreen.do.clickTable(\"100\");\n            FloorScreen.check.selectedTableIs(\"100\");\n            \n            // test duplicate table\n            FloorScreen.do.clickDuplicate();\n            // the name is the first number available on the floor\n            FloorScreen.check.selectedTableIs(\"1\");\n            FloorScreen.do.clickRename();\n            TextInputPopup.check.isShown();\n            TextInputPopup.do.inputText(\"1111\");\n            TextInputPopup.do.clickConfirm();\n            FloorScreen.do.clickTable(\"1111\");\n            FloorScreen.check.selectedTableIs(\"1111\");\n            \n            // switch floor, switch back and check if\n            // the new tables are still there\n            FloorScreen.do.clickFloor(\"Second Floor\");\n            FloorScreen.check.hasTable(\"3\");\n            FloorScreen.check.hasTable(\"1\");\n            \n            //test duplicate multiple tables\n            FloorScreen.do.clickTable(\"1\");\n            FloorScreen.check.selectedTableIs(\"1\");\n            FloorScreen.do.ctrlClickTable(\"3\");\n            FloorScreen.check.selectedTableIs(\"3\");\n            FloorScreen.do.clickDuplicate();\n            FloorScreen.check.selectedTableIs(\"2\");\n            FloorScreen.check.selectedTableIs(\"4\");\n            \n            //test delete multiple tables\n            FloorScreen.do.clickTrash();\n            Chrome.do.confirmPopup();\n            \n            FloorScreen.do.clickFloor(\"Main Floor\");\n            FloorScreen.check.hasTable(\"2\");\n            FloorScreen.check.hasTable(\"4\");\n            FloorScreen.check.hasTable(\"5\");\n            FloorScreen.check.hasTable(\"100\");\n            FloorScreen.check.hasTable(\"1111\");\n            \n            // test delete table\n            FloorScreen.do.clickTable(\"2\");\n            FloorScreen.check.selectedTableIs(\"2\");\n            FloorScreen.do.clickTrash();\n            Chrome.do.confirmPopup();\n            \n            // change number of seats\n            FloorScreen.do.clickTable(\"4\");\n            FloorScreen.check.selectedTableIs(\"4\");\n            FloorScreen.do.clickSeats();\n            NumberPopup.do.pressNumpad(\"Backspace 9\");\n            NumberPopup.do.fillPopupValue(\"9\");\n            NumberPopup.check.inputShownIs(\"9\");\n            NumberPopup.do.clickConfirm();\n            FloorScreen.check.tableSeatIs(\"4\", \"9\");\n            \n            // change number of seat when the input is already selected\n            FloorScreen.do.clickTable(\"4\");\n            FloorScreen.check.selectedTableIs(\"4\");\n            FloorScreen.do.clickSeats();\n            NumberPopup.do.enterValue(\"15\");\n            NumberPopup.check.inputShownIs(\"15\");\n            NumberPopup.do.clickConfirm();\n            FloorScreen.check.tableSeatIs(\"4\", \"15\");\n            \n            // change shape\n            FloorScreen.do.clickTable(\"4\");\n            FloorScreen.do.changeShapeTo(\"round\");\n            \n            // Opening product screen in main floor should go back to main floor\n            FloorScreen.do.closeEdit();\n            FloorScreen.check.tableIsNotSelected(\"4\");\n            FloorScreen.do.clickTable(\"4\");\n            ProductScreen.check.isShown();\n            Chrome.do.backToFloor();\n            \n            // Opening product screen in second floor should go back to second floor\n            FloorScreen.do.clickFloor(\"Second Floor\");\n            FloorScreen.check.hasTable(\"3\");\n            FloorScreen.do.clickTable(\"3\");\n            return getSteps(); \n        } \n    });\n", "/** @odoo-module */\n\nimport { ProductScreen } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { PaymentScreen } from \"@point_of_sale/../tests/tours/helpers/PaymentScreenTourMethods\";\nimport { ReceiptScreen } from \"@point_of_sale/../tests/tours/helpers/ReceiptScreenTourMethods\";\nimport { FloorScreen } from \"@pos_restaurant/../tests/tours/helpers/FloorScreenTourMethods\";\nimport { TicketScreen } from \"@point_of_sale/../tests/tours/helpers/TicketScreenTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"RefundStayCurrentTableTour\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            // signal to start generating steps\n            // when finished, steps can be taken from getSteps\n            startSteps();\n            \n            // Create first order and pay it\n            FloorScreen.do.clickTable(\"2\");\n            ProductScreen.do.confirmOpeningPopup();\n            ProductScreen.do.clickDisplayedProduct(\"Coca-Cola\");\n            ProductScreen.check.selectedOrderlineHas(\"Coca-Cola\");\n            ProductScreen.do.clickDisplayedProduct(\"Coca-Cola\");\n            ProductScreen.check.selectedOrderlineHas(\"Coca-Cola\");\n            ProductScreen.do.clickDisplayedProduct(\"Water\");\n            ProductScreen.check.selectedOrderlineHas(\"Water\");\n            ProductScreen.check.totalAmountIs(\"6.60\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.do.clickNextOrder();\n            \n            // Go to another table and refund one of the product\n            FloorScreen.do.clickTable(\"4\");\n            ProductScreen.check.orderIsEmpty();\n            ProductScreen.do.clickRefund();\n            TicketScreen.do.selectOrder(\"-0001\");\n            TicketScreen.do.clickOrderline(\"Coca-Cola\");\n            TicketScreen.do.pressNumpad(\"2\");\n            TicketScreen.check.toRefundTextContains(\"To Refund: 2.00\");\n            TicketScreen.do.confirmRefund();\n            ProductScreen.check.isShown();\n            ProductScreen.check.selectedOrderlineHas(\"Coca-Cola\");\n            ProductScreen.check.totalAmountIs(\"-4.40\");\n\n            return getSteps(); \n        } \n    });\n", "/** @odoo-module */\n\nimport { PaymentScreen } from \"@point_of_sale/../tests/tours/helpers/PaymentScreenTourMethods\";\nimport { ReceiptScreen } from \"@point_of_sale/../tests/tours/helpers/ReceiptScreenTourMethods\";\nimport { Chrome } from \"@pos_restaurant/../tests/tours/helpers/ChromeTourMethods\";\nimport { FloorScreen } from \"@pos_restaurant/../tests/tours/helpers/FloorScreenTourMethods\";\nimport { ProductScreen } from \"@pos_restaurant/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { SplitBillScreen } from \"@pos_restaurant/../tests/tours/helpers/SplitBillScreenTourMethods\";\nimport { TicketScreen } from \"@point_of_sale/../tests/tours/helpers/TicketScreenTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"SplitBillScreenTour\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () =>  {\n            // signal to start generating steps\n            // when finished, steps can be taken from getSteps\n            startSteps();\n            \n            FloorScreen.do.clickTable(\"2\");\n            ProductScreen.do.confirmOpeningPopup();\n            ProductScreen.exec.addOrderline(\"Water\", \"5\", \"2\", \"10.0\");\n            ProductScreen.exec.addOrderline(\"Minute Maid\", \"3\", \"2\", \"6.0\");\n            ProductScreen.exec.addOrderline(\"Coca-Cola\", \"1\", \"2\", \"2.0\");\n            ProductScreen.do.clickSplitBillButton();\n            \n            // Check if the screen contains all the orderlines\n            SplitBillScreen.check.orderlineHas(\"Water\", \"5\", \"0\");\n            SplitBillScreen.check.orderlineHas(\"Minute Maid\", \"3\", \"0\");\n            SplitBillScreen.check.orderlineHas(\"Coca-Cola\", \"1\", \"0\");\n            \n            // split 3 water and 1 coca-cola\n            SplitBillScreen.do.clickOrderline(\"Water\");\n            SplitBillScreen.check.orderlineHas(\"Water\", \"5\", \"1\");\n            SplitBillScreen.do.clickOrderline(\"Water\");\n            SplitBillScreen.do.clickOrderline(\"Water\");\n            SplitBillScreen.check.orderlineHas(\"Water\", \"5\", \"3\");\n            SplitBillScreen.check.subtotalIs(\"6.0\");\n            SplitBillScreen.do.clickOrderline(\"Coca-Cola\");\n            SplitBillScreen.check.orderlineHas(\"Coca-Cola\", \"1\", \"1\");\n            SplitBillScreen.check.subtotalIs(\"8.0\");\n            \n            // click pay to split, go back to check the lines\n            SplitBillScreen.do.clickPay();\n            PaymentScreen.do.clickBack();\n            ProductScreen.do.clickOrderline(\"Water\", \"3.0\");\n            ProductScreen.do.clickOrderline(\"Coca-Cola\", \"1.0\");\n            \n            // go back to the original order and see if the order is changed\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.selectOrder(\"-0001\");\n            ProductScreen.check.isShown();\n            ProductScreen.do.clickOrderline(\"Water\", \"2.0\");\n            ProductScreen.do.clickOrderline(\"Minute Maid\", \"3.0\");\n            return getSteps(); \n        }\n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"SplitBillScreenTour2\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n            \n            ProductScreen.do.confirmOpeningPopup();\n            FloorScreen.do.clickTable(\"2\");\n            ProductScreen.exec.addOrderline(\"Water\", \"1\", \"2.0\");\n            ProductScreen.exec.addOrderline(\"Minute Maid\", \"1\", \"2.0\");\n            ProductScreen.exec.addOrderline(\"Coca-Cola\", \"1\", \"2.0\");\n            Chrome.do.backToFloor();\n            FloorScreen.do.clickTable(\"2\");\n            ProductScreen.do.clickSplitBillButton();\n            \n            SplitBillScreen.do.clickOrderline(\"Water\");\n            SplitBillScreen.check.orderlineHas(\"Water\", \"1\", \"1\");\n            SplitBillScreen.do.clickOrderline(\"Coca-Cola\");\n            SplitBillScreen.check.orderlineHas(\"Coca-Cola\", \"1\", \"1\");\n            SplitBillScreen.do.clickPay();\n            PaymentScreen.do.clickBack();\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.selectOrder(\"-0002\");\n            ProductScreen.do.clickOrderline(\"Water\", \"1.0\");\n            ProductScreen.do.clickOrderline(\"Coca-Cola\", \"1.0\");\n            ProductScreen.check.totalAmountIs(\"4.00\");\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.selectOrder(\"-0001\");\n            ProductScreen.do.clickOrderline(\"Minute Maid\", \"1.0\");\n            ProductScreen.check.totalAmountIs(\"2.00\");\n            return getSteps(); \n        } \n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"SplitBillScreenTour3\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n            FloorScreen.do.clickTable(\"2\");\n            ProductScreen.do.confirmOpeningPopup();\n            ProductScreen.exec.addOrderline(\"Water\", \"2\", \"2\", \"4.00\");\n            ProductScreen.do.clickSplitBillButton();\n            \n            // Check if the screen contains all the orderlines\n            SplitBillScreen.check.orderlineHas(\"Water\", \"2\", \"0\");\n            \n            // split 1 water\n            SplitBillScreen.do.clickOrderline(\"Water\");\n            SplitBillScreen.check.orderlineHas(\"Water\", \"2\", \"1\");\n            SplitBillScreen.check.subtotalIs(\"2.0\");\n            \n            // click pay to split, and pay\n            SplitBillScreen.do.clickPay();\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.do.clickValidate();\n            // Check if the receiptscreen suggests us to continue the order\n            ReceiptScreen.do.clickContinueOrder();\n            \n            // Check if there is still water in the order\n            ProductScreen.check.isShown();\n            ProductScreen.do.clickOrderline(\"Water\", \"1.0\");\n            ProductScreen.do.clickPayButton(true);\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.do.clickValidate();\n            // Check if there is no more order to continue\n            ReceiptScreen.do.clickNextOrder();\n\n            return getSteps(); \n        } \n    });\n", "/** @odoo-module */\n\nimport { ProductScreen } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { FloorScreen } from \"@pos_restaurant/../tests/tours/helpers/FloorScreenTourMethods\";\nimport { TicketScreen } from \"@point_of_sale/../tests/tours/helpers/TicketScreenTourMethods\";\nimport { Chrome } from \"@pos_restaurant/../tests/tours/helpers/ChromeTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"PosResTicketScreenTour\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n\n            ProductScreen.do.confirmOpeningPopup();\n            // New Ticket button should not be in the ticket screen if no table is selected.\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.check.noNewTicketButton();\n            TicketScreen.do.clickDiscard();\n            \n            // Deleting the last order in the table brings back to floorscreen\n            FloorScreen.do.clickTable(\"4\");\n            ProductScreen.check.isShown();\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.check.nthRowContains(2, \"-0001\");\n            TicketScreen.do.deleteOrder(\"-0001\");\n            TicketScreen.do.clickDiscard();\n            \n            // Create 2 items in a table. From floorscreen, delete 1 item. Then select the other item.\n            // Correct order and screen should be displayed and the BackToFloorButton is shown.\n            FloorScreen.do.clickTable(\"2\");\n            ProductScreen.exec.addOrderline(\"Minute Maid\", \"1\", \"2\");\n            ProductScreen.check.totalAmountIs(\"2.0\");\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.clickNewTicket();\n            ProductScreen.exec.addOrderline(\"Coca-Cola\", \"2\", \"2\");\n            ProductScreen.check.totalAmountIs(\"4.0\");\n            Chrome.do.backToFloor();\n            FloorScreen.check.orderCountSyncedInTableIs(\"2\", \"3\");\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.deleteOrder(\"-0003\");\n            Chrome.do.confirmPopup();\n            TicketScreen.do.selectOrder(\"-0002\");\n            ProductScreen.check.isShown();\n            ProductScreen.check.totalAmountIs(\"2.0\");\n            Chrome.do.backToFloor();\n            \n            // Make sure that order is deleted properly.\n            FloorScreen.do.clickTable(\"5\");\n            ProductScreen.exec.addOrderline(\"Minute Maid\", \"1\", \"3\");\n            ProductScreen.check.totalAmountIs(\"3.0\");\n            Chrome.do.backToFloor();\n            FloorScreen.check.orderCountSyncedInTableIs(\"5\", \"1\");\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.deleteOrder(\"-0004\");\n            Chrome.do.confirmPopup();\n            TicketScreen.do.clickDiscard();\n            FloorScreen.check.isShown();\n            FloorScreen.do.clickTable(\"5\");\n            ProductScreen.check.orderIsEmpty();\n            return getSteps(); \n        }\n    });\n", "/** @odoo-module */\n\nimport { ProductScreen } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { PaymentScreen } from \"@point_of_sale/../tests/tours/helpers/PaymentScreenTourMethods\";\nimport { ReceiptScreen } from \"@point_of_sale/../tests/tours/helpers/ReceiptScreenTourMethods\";\nimport { FloorScreen } from \"@pos_restaurant/../tests/tours/helpers/FloorScreenTourMethods\";\nimport { TicketScreen } from \"@point_of_sale/../tests/tours/helpers/TicketScreenTourMethods\";\nimport { TipScreen } from \"@pos_restaurant/../tests/tours/helpers/TipScreenTourMethods\";\nimport { NumberPopup } from \"@point_of_sale/../tests/tours/helpers/NumberPopupTourMethods\";\nimport { Chrome } from \"@pos_restaurant/../tests/tours/helpers/ChromeTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"PosResTipScreenTour\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n            \n            // Create order that is synced when draft.\n            // order 1\n            ProductScreen.do.confirmOpeningPopup();\n            FloorScreen.do.clickTable(\"2\");\n            ProductScreen.exec.addOrderline(\"Minute Maid\", \"1\", \"2\");\n            ProductScreen.check.totalAmountIs(\"2.0\");\n            Chrome.do.backToFloor();\n            FloorScreen.check.orderCountSyncedInTableIs(\"2\", \"1\");\n            FloorScreen.do.clickTable(\"2\");\n            ProductScreen.check.totalAmountIs(\"2.0\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.do.clickValidate();\n            TipScreen.check.isShown();\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.clickNewTicket();\n            // order 2\n            ProductScreen.exec.addOrderline(\"Coca-Cola\", \"2\", \"2\");\n            ProductScreen.check.totalAmountIs(\"4.0\");\n            Chrome.do.backToFloor();\n            FloorScreen.check.orderCountSyncedInTableIs(\"2\", \"2\");\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.check.nthRowContains(\"2\", \"Tipping\");\n            TicketScreen.do.clickDiscard();\n            \n            // Create without syncing the draft.\n            // order 3\n            FloorScreen.do.clickTable(\"5\");\n            ProductScreen.exec.addOrderline(\"Minute Maid\", \"3\", \"2\");\n            ProductScreen.check.totalAmountIs(\"6.0\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.do.clickValidate();\n            TipScreen.check.isShown();\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.clickNewTicket();\n            // order 4\n            ProductScreen.exec.addOrderline(\"Coca-Cola\", \"4\", \"2\");\n            ProductScreen.check.totalAmountIs(\"8.0\");\n            Chrome.do.backToFloor();\n            FloorScreen.check.orderCountSyncedInTableIs(\"5\", \"4\");\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.check.nthRowContains(\"4\", \"Tipping\");\n\n            // Tip 20% on order1\n            TicketScreen.do.selectOrder(\"-0001\");\n            TipScreen.check.isShown();\n            TipScreen.check.totalAmountIs(\"2.0\");\n            TipScreen.check.percentAmountIs(\"15%\", \"0.30\");\n            TipScreen.check.percentAmountIs(\"20%\", \"0.40\");\n            TipScreen.check.percentAmountIs(\"25%\", \"0.50\");\n            TipScreen.do.clickPercentTip(\"20%\");\n            TipScreen.check.inputAmountIs(\"0.40\");\n            Chrome.do.backToFloor();\n            FloorScreen.check.isShown();\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n\n            // Tip 25% on order3\n            TicketScreen.do.selectOrder(\"-0003\");\n            TipScreen.check.isShown();\n            TipScreen.check.totalAmountIs(\"6.0\");\n            TipScreen.check.percentAmountIs(\"15%\", \"0.90\");\n            TipScreen.check.percentAmountIs(\"20%\", \"1.20\");\n            TipScreen.check.percentAmountIs(\"25%\", \"1.50\");\n            TipScreen.do.clickPercentTip(\"25%\");\n            TipScreen.check.inputAmountIs(\"1.50\");\n            Chrome.do.backToFloor();\n            FloorScreen.check.isShown();\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n\n            // finalize order 4 then tip custom amount\n            TicketScreen.do.selectOrder(\"-0004\");\n            ProductScreen.check.isShown();\n            ProductScreen.check.totalAmountIs(\"8.0\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.do.clickValidate();\n            TipScreen.check.isShown();\n            TipScreen.check.totalAmountIs(\"8.0\");\n            TipScreen.check.percentAmountIs(\"15%\", \"1.20\");\n            TipScreen.check.percentAmountIs(\"20%\", \"1.60\");\n            TipScreen.check.percentAmountIs(\"25%\", \"2.00\");\n            TipScreen.do.setCustomTip(\"1.00\");\n            TipScreen.check.inputAmountIs(\"1.00\");\n            Chrome.do.backToFloor();\n            FloorScreen.check.isShown();\n\n            // settle tips here\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.selectFilter(\"Tipping\");\n            TicketScreen.check.tipContains(\"1.00\");\n            TicketScreen.do.settleTips();\n            TicketScreen.do.selectFilter(\"All active orders\");\n            TicketScreen.check.nthRowContains(2, \"Ongoing\");\n            \n            // tip order2 during payment\n            // tip screen should not show after validating payment screen\n            TicketScreen.do.selectOrder(\"-0002\");\n            ProductScreen.check.isShown();\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickTipButton();\n            NumberPopup.check.isShown();\n            NumberPopup.do.enterValue(\"1\");\n            NumberPopup.check.inputShownIs(\"1\");\n            NumberPopup.do.clickConfirm();\n            PaymentScreen.check.emptyPaymentlines(\"5.0\");\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.isShown();\n\n            // order 5\n            // Click directly on \"settle\" without selecting a Tip\n            ReceiptScreen.do.clickNextOrder();\n            FloorScreen.do.clickTable(\"2\");\n            ProductScreen.exec.addOrderline(\"Minute Maid\", \"3\", \"2\");\n            ProductScreen.check.totalAmountIs(\"6.0\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.do.clickValidate();\n            TipScreen.check.isShown();\n            TipScreen.do.clickSettle();\n            ReceiptScreen.check.isShown();\n            ReceiptScreen.do.clickNextOrder();\n            FloorScreen.check.isShown();\n            return getSteps(); \n        } \n    });\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\n\nclass Do {\n    clickOk() {\n        return [\n            {\n                content: `go back`,\n                trigger: `.receipt-screen .button.next`,\n            },\n        ];\n    }\n}\n\nclass Check {\n    isShown() {\n        return [\n            {\n                content: \"Bill screen is shown\",\n                trigger: '.receipt-screen h1:contains(\"Bill Printing\")',\n                run: () => {},\n            },\n        ];\n    }\n}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"BillScreen\", Do, Check));\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { Do } from \"@point_of_sale/../tests/tours/helpers/ChromeTourMethods\";\n\nclass DoExt extends Do {\n    backToFloor() {\n        return [\n            {\n                content: \"back to floor\",\n                trigger: \".floor-button\",\n            },\n        ];\n    }\n}\n\nclass Check {\n    isSyncStatusPending() {\n        return [\n            {\n                trigger: \".pos-topheader .pos-rightheader .status-buttons .oe_status:has(.js_msg)\",\n                run: () => {},\n            },\n        ];\n    }\n    isSyncStatusConnected() {\n        return [\n            {\n                trigger:\n                    \".pos-topheader .pos-rightheader .status-buttons .oe_status:has(.js_connected)\",\n                run: () => {},\n            },\n        ];\n    }\n}\n\nclass Execute {}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"Chrome\", DoExt, Check, Execute));\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\n\nclass Do {\n    clickTable(name) {\n        return [\n            {\n                content: `click table '${name}'`,\n                trigger: `.floor-map .table .label:contains(\"${name}\")`,\n            },\n        ];\n    }\n    clickFloor(name) {\n        return [\n            {\n                content: `click '${name}' floor`,\n                trigger: `.floor-selector .button-floor:contains(\"${name}\")`,\n            },\n        ];\n    }\n    clickEdit() {\n        return [\n            {\n                content: 'Click Menu button',\n                trigger: '.menu-button',\n            },\n            {\n                content: `click edit button`,\n                trigger: `.edit-button`,\n            },\n        ];\n    }\n    clickAddTable() {\n        return [\n            {\n                content: \"add table\",\n                trigger: `.edit-button i[aria-label=Add]`,\n            },\n        ];\n    }\n    clickDuplicate() {\n        return [\n            {\n                content: \"duplicate table\",\n                trigger: `.edit-button i[aria-label=Copy]`,\n            },\n        ];\n    }\n    clickRename() {\n        return [\n            {\n                content: \"rename table\",\n                trigger: `.edit-button i[aria-label=Rename]`,\n            },\n        ];\n    }\n    clickSeats() {\n        return [\n            {\n                content: \"change number of seats\",\n                trigger: `.edit-button i[aria-label=Seats]`,\n            },\n        ];\n    }\n    clickTrash() {\n        return [\n            {\n                content: \"trash table\",\n                trigger: `.edit-button.trash`,\n            },\n        ];\n    }\n    closeEdit() {\n        return [\n            {\n                content: 'Close edit mode',\n                trigger: '.edit-button .close-edit-button',\n            }\n        ];\n    }\n    changeShapeTo(shape) {\n        return [\n            {\n                content: `change shape to '${shape}'`,\n                trigger: `.edit-button .button-option${shape === \"round\" ? \".round\" : \".square\"}`,\n            },\n        ];\n    }\n    ctrlClickTable(name) {\n        return [\n            {\n                content: `ctrl click table '${name}'`,\n                trigger: `.floor-map .table .label:contains(\"${name}\")`,\n                run() {\n                    const el = this.$anchor[0];\n                    el.dispatchEvent(new MouseEvent(\"click\", {bubbles: true, ctrlKey: true}));\n                }\n            },\n        ];\n    }\n}\n\nclass Check {\n    selectedFloorIs(name) {\n        return [\n            {\n                content: `selected floor is '${name}'`,\n                trigger: `.floor-selector .button-floor.active:contains(\"${name}\")`,\n                run: () => {},\n            },\n        ];\n    }\n    selectedTableIs(name) {\n        return [\n            {\n                content: `selected table is '${name}'`,\n                trigger: `.floor-map .table.selected .label:contains(\"${name}\")`,\n                run: () => {},\n            },\n        ];\n    }\n    hasTable(name) {\n        return [\n            {\n                content: `selected floor has '${name}' table`,\n                trigger: `.floor-map .table .label:contains(\"${name}\")`,\n                run: () => {},\n            },\n        ];\n    }\n    tableSeatIs(table, val) {\n        return [\n            {\n                content: `Unselect table`,\n                trigger: `.floor-map`,\n            },\n            {\n                content: `number of seats in table '${table}' is '${val}'`,\n                trigger: `.floor-map .table .infos:has(.label:contains(\"${table}\")) ~ .table-seats:contains(\"${val}\")`,\n                run: function () {},\n            },\n            {\n                content: `click table '${table}'`,\n                trigger: `.floor-map .table .label:contains(\"${table}\")`,\n            },\n        ];\n    }\n    orderCountSyncedInTableIs(table, count) {\n        return [\n            {\n                trigger: `.floor-map .table .label:contains(\"${table}\") ~ .order-count:contains(\"${count}\")`,\n                run: function () {},\n            },\n        ];\n    }\n    isShown() {\n        return [\n            {\n                trigger: \".floor-map\",\n                run: function () {},\n            },\n        ];\n    }\n    tableIsNotSelected(name) {\n        return [\n            {\n                content: `table '${name}' is not selected`,\n                trigger: `.floor-map .table:not(.selected) .label:contains(\"${name}\")`,\n                run: function () {},\n            },\n        ];\n    }\n}\n\nclass Execute {}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"FloorScreen\", Do, Check, Execute));\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { Do, Check, Execute } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\n\nclass DoExt extends Do {\n    clickSplitBillButton() {\n        return [\n            {\n                content: \"click split bill button\",\n                trigger: \".control-buttons .control-button.order-split\",\n            },\n        ];\n    }\n    doubleClickOrderline(name) {\n        return [\n            {\n                content: \"first click orderline\",\n                trigger: `.order .orderline .product-name:contains(\"${name}\")`,\n                run: \"dblclick\"\n            },\n        ];\n    }\n    clickTransferButton() {\n        return [\n            {\n                content: \"click transfer button\",\n                trigger: '.control-buttons .control-button span:contains(\"Transfer\")',\n            },\n        ];\n    }\n    clickNoteButton() {\n        return [\n            {\n                content: \"click note button\",\n                trigger: '.control-buttons .control-button span:contains(\"Internal Note\")',\n            },\n        ];\n    }\n    clickPrintBillButton() {\n        return [\n            {\n                content: \"click print bill button\",\n                trigger: \".control-buttons .control-button.order-printbill\",\n            },\n            {\n                content: \"Close printing error\",\n                trigger: \".popup-error .cancel\",\n            },\n        ];\n    }\n    clickSubmitButton() {\n        return [\n            {\n                content: \"click print bill button\",\n                trigger: '.control-buttons .control-button span:contains(\"Order\")',\n            },\n        ];\n    }\n    clickGuestButton() {\n        return [\n            {\n                content: \"click guest button\",\n                trigger: '.control-buttons .control-button span:contains(\"Guests\")',\n            },\n        ];\n    }\n    clickOrderButton() {\n        return [\n            {\n                content: \"click order button\",\n                trigger: \".actionpad .submit-order\",\n            },\n        ];\n    }\n}\n\nclass CheckExt extends Check {\n    orderlinesHaveNoChange() {\n        return [\n            {\n                content: \"Orderlines have no change\",\n                trigger: \".orderlines .orderline:not(.has-change)\",\n                run: function () {},\n            },\n        ];\n    }\n    isPrintingError() {\n        // because we don't have printer in the test.\n        return [\n            {\n                content: \"Cancel printing changes\",\n                trigger: \".modal-dialog .cancel\",\n            },\n        ];\n    }\n    orderlineIsToOrder(name) {\n        return [\n            {\n                content: `Line is to order`,\n                trigger: `.order .orderline.has-change .product-name:contains(\"${name}\")`,\n                run: function () {}, // it's a check\n            },\n        ];\n    }\n    orderlineIsToSkip(name) {\n        return [\n            {\n                content: `Line is to order`,\n                trigger: `.order .orderline.skip-change .product-name:contains(\"${name}\")`,\n                run: function () {}, // it's a check\n            },\n        ];\n    }\n    orderlineHasNote(name, quantity, note) {\n        return [\n            {\n                content: `line has ${quantity} quantity`,\n                trigger: `.order .orderline .product-name:contains(\"${name}\") ~ .info-list em:contains(\"${quantity}\")`,\n                run: function () {}, // it's a check\n            },\n            {\n                content: `line has '${note}' note`,\n                trigger: `.order .orderline .info-list .orderline-note:contains(\"${note}\")`,\n                run: function () {}, // it's a check\n            },\n        ];\n    }\n    guestNumberIs(numberInString) {\n        return [\n            {\n                content: `guest number is ${numberInString}`,\n                trigger: `.control-buttons .control-button span.control-button-number:contains(${numberInString})`,\n                run: function () {}, // it's a check\n            },\n        ];\n    }\n    orderBtnIsPresent() {\n        return [\n            {\n                content: \"Order button is here\",\n                trigger: \".actionpad .button.submit-order\",\n                run: function () {}, // it's a check\n            },\n        ];\n    }\n}\n\nclass ExecuteExt extends Execute {}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"ProductScreen\", DoExt, CheckExt, ExecuteExt));\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\n\nclass Do {\n    clickOrderline(name, totalQuantity) {\n        let trigger = `.splitbill-screen li.orderline .product-name:contains(\"${name}\")`;\n        if (totalQuantity) {\n            trigger += ` ~ .info-list .info:contains(\"${totalQuantity}\")`;\n        }\n        return [\n            {\n                content: `click '${name}' orderline with total quantity of '${totalQuantity}'`,\n                trigger,\n            },\n        ];\n    }\n    clickBack() {\n        return [\n            {\n                content: \"click back button\",\n                trigger: `.splitbill-screen .button.back`,\n            },\n        ];\n    }\n    clickPay() {\n        return [\n            {\n                content: \"click pay button\",\n                trigger: `.splitbill-screen .pay-button .button`,\n            },\n        ];\n    }\n}\n\nclass Check {\n    orderlineHas(name, totalQuantity, splitQuantity) {\n        return [\n            {\n                content: `'${name}' orderline has total quantity of '${totalQuantity}'`,\n                trigger: `.splitbill-screen li.orderline .product-name:contains(\"${name}\") ~ .info-list .info:contains(\"${totalQuantity}\")`,\n                run: () => {},\n            },\n            {\n                content: `'${name}' orderline has '${splitQuantity}' quantity to split`,\n                trigger: `.splitbill-screen li.orderline .product-name:contains(\"${name}\") ~ .info-list .info em:contains(\"${splitQuantity}\")`,\n                run: () => {},\n            },\n        ];\n    }\n    subtotalIs(amount) {\n        return [\n            {\n                content: `total amount of split is '${amount}'`,\n                trigger: `.splitbill-screen .order-info .subtotal:contains(\"${amount}\")`,\n            },\n        ];\n    }\n}\n\nclass Execute {}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"SplitBillScreen\", Do, Check, Execute));\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\n\nclass Do {\n    clickPercentTip(percent) {\n        return [\n            {\n                trigger: `.tip-screen .percentage:contains(\"${percent}\")`,\n            },\n        ];\n    }\n    setCustomTip(amount) {\n        return [\n            {\n                trigger: `.tip-screen .custom-amount-form input`,\n                run: `text ${amount}`,\n            },\n        ];\n    }\n    clickSettle() {\n        return [\n            {\n                trigger: `.button.highlight.next`,\n            },\n        ];\n    }\n}\n\nclass Check {\n    isShown() {\n        return [\n            {\n                trigger: \".pos .tip-screen\",\n                run: () => {},\n            },\n        ];\n    }\n    totalAmountIs(amount) {\n        return [\n            {\n                trigger: `.tip-screen .total-amount:contains(\"${amount}\")`,\n                run: () => {},\n            },\n        ];\n    }\n    percentAmountIs(percent, amount) {\n        return [\n            {\n                trigger: `.tip-screen .percentage:contains(\"${percent}\") ~ .amount:contains(\"${amount}\")`,\n                run: () => {},\n            },\n        ];\n    }\n    inputAmountIs(amount) {\n        return [\n            {\n                trigger: `.tip-screen .custom-amount-form input[data-amount=\"${amount}\"]`,\n                run: () => {},\n            },\n        ];\n    }\n}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"TipScreen\", Do, Check));\n", "/** @odoo-module */\n\nimport { PaymentScreen } from \"@point_of_sale/../tests/tours/helpers/PaymentScreenTourMethods\";\nimport { ReceiptScreen } from \"@point_of_sale/../tests/tours/helpers/ReceiptScreenTourMethods\";\nimport { Chrome } from \"@pos_restaurant/../tests/tours/helpers/ChromeTourMethods\";\nimport { FloorScreen } from \"@pos_restaurant/../tests/tours/helpers/FloorScreenTourMethods\";\nimport { ProductScreen } from \"@pos_restaurant/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { TicketScreen } from \"@point_of_sale/../tests/tours/helpers/TicketScreenTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"pos_restaurant_sync\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n\n            startSteps();\n            \n            ProductScreen.do.confirmOpeningPopup();\n            \n            // Create first order\n            FloorScreen.do.clickTable(\"5\");\n            ProductScreen.check.orderBtnIsPresent();\n            ProductScreen.do.clickDisplayedProduct(\"Coca-Cola\");\n            ProductScreen.check.selectedOrderlineHas(\"Coca-Cola\");\n            ProductScreen.do.doubleClickOrderline(\"Coca-Cola\");\n            ProductScreen.do.clickDisplayedProduct(\"Water\");\n            ProductScreen.check.selectedOrderlineHas(\"Water\");\n            ProductScreen.check.orderlineIsToOrder(\"Water\");\n            ProductScreen.check.orderlineIsToSkip(\"Coca-Cola\");\n            ProductScreen.do.clickOrderButton();\n            ProductScreen.check.orderlinesHaveNoChange();\n            ProductScreen.check.isPrintingError();\n            ProductScreen.check.totalAmountIs(\"4.40\");\n            \n            // Create 2nd order (paid)\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.clickNewTicket();\n            ProductScreen.do.clickDisplayedProduct(\"Coca-Cola\");\n            ProductScreen.check.selectedOrderlineHas(\"Coca-Cola\");\n            ProductScreen.do.clickDisplayedProduct(\"Minute Maid\");\n            ProductScreen.check.selectedOrderlineHas(\"Minute Maid\");\n            ProductScreen.check.totalAmountIs(\"4.40\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.do.clickNextOrder();\n            \n            // After clicking next order, floor screen is shown.\n            // It should have 1 as number of draft synced order.\n            FloorScreen.check.orderCountSyncedInTableIs(\"5\", \"1\");\n            FloorScreen.do.clickTable(\"5\");\n            ProductScreen.check.totalAmountIs(\"4.40\");\n            \n            // Create another draft order and go back to floor\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.clickNewTicket();\n            ProductScreen.do.clickDisplayedProduct(\"Coca-Cola\");\n            ProductScreen.check.selectedOrderlineHas(\"Coca-Cola\");\n            ProductScreen.do.clickDisplayedProduct(\"Minute Maid\");\n            ProductScreen.check.selectedOrderlineHas(\"Minute Maid\");\n            Chrome.do.backToFloor();\n            \n            // At floor screen, there should be 2 synced draft orders\n            FloorScreen.check.orderCountSyncedInTableIs(\"5\", \"2\");\n            \n            // Delete the first order then go back to floor\n            FloorScreen.do.clickTable(\"5\");\n            ProductScreen.check.isShown();\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.do.deleteOrder(\"-0001\");\n            Chrome.do.confirmPopup();\n            Chrome.check.isSyncStatusPending();\n            Chrome.check.isSyncStatusConnected();\n            TicketScreen.do.selectOrder(\"-0003\");\n            Chrome.do.backToFloor();\n            \n            // There should be 1 synced draft order.\n            FloorScreen.check.orderCountSyncedInTableIs(\"5\", \"2\");\n            return getSteps(); \n        } \n    });\n    \n/* pos_restaurant_sync_second_login\n*\n* This tour should be run after the first tour is done.\n*/\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"pos_restaurant_sync_second_login\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n        \n            startSteps();\n            \n            \n            // There is one draft synced order from the previous tour\n            FloorScreen.do.clickTable(\"5\");\n            ProductScreen.check.totalAmountIs(\"4.40\");\n            \n            // Test transfering an order\n            ProductScreen.do.clickTransferButton();\n            FloorScreen.do.clickTable(\"4\");\n            \n            // Test if products still get merged after transfering the order\n            ProductScreen.do.clickDisplayedProduct(\"Coca-Cola\");\n            ProductScreen.check.selectedOrderlineHas(\"Coca-Cola\", \"2.0\");\n            ProductScreen.check.totalAmountIs(\"6.60\");\n            ProductScreen.do.pressNumpad(\"1\");\n            ProductScreen.check.totalAmountIs(\"4.40\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.do.clickNextOrder();\n            // At this point, there are no draft orders.\n            \n            FloorScreen.do.clickTable(\"2\");\n            ProductScreen.check.isShown();\n            ProductScreen.check.orderIsEmpty();\n            ProductScreen.do.clickTransferButton();\n            FloorScreen.do.clickTable(\"4\");\n            ProductScreen.do.clickDisplayedProduct(\"Coca-Cola\");\n            ProductScreen.check.totalAmountIs(\"2.20\");\n            Chrome.do.backToFloor();\n            FloorScreen.check.orderCountSyncedInTableIs(\"4\", \"1\");\n            return getSteps(); \n        } \n    });\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { Do, Check, Execute } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\n\nclass DoExt extends Do {\n    clickQuotationButton() {\n        return [\n            {\n                content: 'click quotation button',\n                trigger: '.o_sale_order_button',\n            }\n        ];\n    }\n\n    selectFirstOrder() {\n        return [\n            {\n                content: `select order`,\n                trigger: `.order-row .col.name:first`,\n            },\n            {\n                content: `click on select the order`,\n                trigger: `.selection-item:contains('Settle the order')`,\n            }\n        ];\n    }\n    selectNthOrder(n) {\n        return [\n            {\n                content: `select order`,\n                trigger: `.order-list .order-row:nth-child(${n})`,\n            },\n            {\n                content: `click on select the order`,\n                trigger: `.selection-item:contains('Settle the order')`,\n            }\n        ];\n    }\n\n    downPaymentFirstOrder() {\n        return [\n            {\n                content: `select order`,\n                trigger: `.order-row .col.name:first`,\n            },\n            {\n                content: `click on select the order`,\n                trigger: `.selection-item:contains('Apply a down payment')`,\n            },\n            {\n                content: `click on +10 button`,\n                trigger: `.mode-button.add:contains('+10')`,\n            },\n            {\n                content: `click on ok button`,\n                trigger: `.button.confirm`,\n            }\n        ];\n    }\n}\nclass CheckExt extends Check {}\n\nclass ExecuteExt extends Execute {}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"ProductScreen\", DoExt, CheckExt, ExecuteExt));\n", "/** @odoo-module */\n\nimport { Chrome } from \"@point_of_sale/../tests/tours/helpers/ChromeTourMethods\";\nimport { PaymentScreen } from \"@point_of_sale/../tests/tours/helpers/PaymentScreenTourMethods\";\nimport { ReceiptScreen } from \"@point_of_sale/../tests/tours/helpers/ReceiptScreenTourMethods\";\nimport { ProductScreen } from \"@pos_sale/../tests/helpers/ProductScreenTourMethods\";\nimport { TicketScreen } from \"@point_of_sale/../tests/tours/helpers/TicketScreenTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add('PosSettleOrder', { \n        test: true, \n        url: '/pos/ui', \n        steps: () => {\n            // signal to start generating steps\n            // when finished, steps can be taken from getSteps\n            startSteps();\n            \n            ProductScreen.do.confirmOpeningPopup();\n            ProductScreen.do.clickQuotationButton();\n            ProductScreen.do.selectFirstOrder();\n            ProductScreen.check.selectedOrderlineHas('Pizza Chicken', 9);\n            ProductScreen.do.pressNumpad('Qty 2'); // Change the quantity of the product to 2\n            ProductScreen.check.selectedOrderlineHas('Pizza Chicken', 2);\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod('Bank');\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.isShown();\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            return getSteps();\n        }\n    });\n    \nregistry\n    .category(\"web_tour.tours\")\n    .add('PosSettleOrderIncompatiblePartner', { \n        test: true, \n        url: '/pos/ui', \n        steps: () => {\n            \n            startSteps();\n            \n            ProductScreen.do.confirmOpeningPopup();\n            ProductScreen.do.clickQuotationButton();\n            // The second item in the list is the first sale.order.\n            ProductScreen.do.selectNthOrder(2);\n            ProductScreen.check.selectedOrderlineHas('product1', 1);\n            ProductScreen.check.totalAmountIs(\"10.00\");\n            \n            ProductScreen.do.clickQuotationButton();\n            // The first item in the list is the second sale.order.\n            // Selecting the 2nd sale.order should use a new order,\n            // therefore, the total amount will change.\n            ProductScreen.do.selectNthOrder(1);\n            ProductScreen.check.selectedOrderlineHas('product2', 1);\n            ProductScreen.check.totalAmountIs(\"11.00\");\n            return getSteps(); \n        } \n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add('PosSettleOrder2', { \n        test: true, \n        url: '/pos/ui', \n        steps: () => {\n                \n            startSteps();\n            \n            ProductScreen.do.confirmOpeningPopup();\n            ProductScreen.do.clickQuotationButton();\n            ProductScreen.do.selectFirstOrder();\n            ProductScreen.do.clickOrderline(\"Product A\", \"1\");\n            ProductScreen.check.selectedOrderlineHas('Product A', '1.00');\n            ProductScreen.do.clickOrderline(\"Product B\", \"1\");\n            ProductScreen.do.pressNumpad('Qty 0');\n            ProductScreen.check.selectedOrderlineHas('Product B', '0.00');\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod('Bank');\n            PaymentScreen.check.remainingIs('0.0');\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.isShown();\n            return getSteps(); \n        } \n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add('PosRefundDownpayment', { \n        test: true, \n        url: '/pos/ui', \n        steps: () => {\n            startSteps();\n            \n            ProductScreen.do.clickQuotationButton();\n            ProductScreen.do.downPaymentFirstOrder();\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod('Cash');\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.do.clickNextOrder();\n            ProductScreen.do.clickRefund();\n            // Filter should be automatically 'Paid'.\n            TicketScreen.check.filterIs('Paid');\n            TicketScreen.do.selectOrder('-0001');\n            TicketScreen.do.clickOrderline('Down Payment');\n            TicketScreen.do.pressNumpad('1');\n            TicketScreen.do.confirmRefund();\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod('Cash');\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.do.clickNextOrder();\n            \n            return getSteps(); \n        } \n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add('PosSettleOrderRealTime', { \n        test: true, \n        url: '/pos/ui', \n        steps: () => {\n\n            startSteps();\n\n            ProductScreen.do.confirmOpeningPopup();\n            ProductScreen.do.clickQuotationButton();\n            ProductScreen.do.selectFirstOrder();\n            ProductScreen.check.totalAmountIs(40);\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod('Bank');\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.isShown();\n\n            return getSteps(); \n        }\n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add('PosSettleOrder3', {\n        test: true,\n        url: '/pos/ui',\n        steps: () => {\n            startSteps();\n\n            ProductScreen.do.confirmOpeningPopup();\n            ProductScreen.do.clickQuotationButton();\n            ProductScreen.do.selectFirstOrder();\n            ProductScreen.do.clickOrderline(\"Product A\", \"1\");\n            ProductScreen.check.selectedOrderlineHas('Product A', '1.00');\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod('Bank');\n            PaymentScreen.check.remainingIs('0.0');\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.isShown();\n\n            return getSteps();\n        }\n    });\n", "/** @odoo-module */\n\nimport { ProductScreen } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { PaymentScreen } from \"@point_of_sale/../tests/tours/helpers/PaymentScreenTourMethods\";\nimport { ReceiptScreen } from \"@point_of_sale/../tests/tours/helpers/ReceiptScreenTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"PreparationDisplayTour\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n            \n            // First order should send these orderlines to preparation:\n            // - Letter Tray x10\n            ProductScreen.do.confirmOpeningPopup();\n            \n            ProductScreen.exec.addOrderline(\"Letter Tray\", \"10\");\n            ProductScreen.check.selectedOrderlineHas(\"Letter Tray\", \"10.0\");\n            ProductScreen.exec.addOrderline(\"Magnetic Board\", \"5\");\n            ProductScreen.check.selectedOrderlineHas(\"Magnetic Board\", \"5.0\");\n            ProductScreen.exec.addOrderline(\"Monitor Stand\", \"1\");\n            ProductScreen.check.selectedOrderlineHas(\"Monitor Stand\", \"1.0\");\n            ProductScreen.do.clickPayButton();\n            \n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(true);\n            PaymentScreen.do.clickValidate();\n            \n            ReceiptScreen.do.clickNextOrder();\n            \n            // Should not send anything to preparation\n            ProductScreen.exec.addOrderline(\"Magnetic Board\", \"5\");\n            ProductScreen.check.selectedOrderlineHas(\"Magnetic Board\", \"5.0\");\n            ProductScreen.exec.addOrderline(\"Monitor Stand\", \"1\");\n            ProductScreen.check.selectedOrderlineHas(\"Monitor Stand\", \"1.0\");\n            ProductScreen.do.clickPayButton();\n            \n            PaymentScreen.do.clickPaymentMethod(\"Bank\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(true);\n            PaymentScreen.do.clickValidate();\n            \n            ReceiptScreen.do.clickNextOrder();\n\n            return getSteps();\n        } \n    });\n", "/** @odoo-module */\n\nimport { PaymentScreen } from \"@point_of_sale/../tests/tours/helpers/PaymentScreenTourMethods\";\nimport { ReceiptScreen } from \"@point_of_sale/../tests/tours/helpers/ReceiptScreenTourMethods\";\nimport { FloorScreen } from \"@pos_restaurant/../tests/tours/helpers/FloorScreenTourMethods\";\nimport { ProductScreen } from \"@pos_restaurant/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"PreparationDisplayTourResto\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n            \n            ProductScreen.do.confirmOpeningPopup();\n            \n            // Create first order\n            FloorScreen.do.clickTable(\"5\");\n            ProductScreen.check.orderBtnIsPresent();\n            ProductScreen.do.clickDisplayedProduct(\"Coca-Cola\");\n            ProductScreen.do.clickDisplayedProduct(\"Water\");\n            ProductScreen.check.orderlineIsToOrder(\"Water\");\n            ProductScreen.check.orderlineIsToOrder(\"Coca-Cola\");\n            ProductScreen.do.clickOrderButton();\n            ProductScreen.check.orderlinesHaveNoChange();\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.isShown();\n            ReceiptScreen.do.clickNextOrder();\n            \n            // Create second order\n            FloorScreen.check.isShown();\n            FloorScreen.do.clickTable(\"4\");\n            ProductScreen.check.orderBtnIsPresent();\n            ProductScreen.do.clickDisplayedProduct(\"Coca-Cola\");\n            ProductScreen.check.orderlineIsToOrder(\"Coca-Cola\");\n            ProductScreen.do.clickOrderButton();\n            ProductScreen.check.orderlinesHaveNoChange();\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.isShown();\n            ReceiptScreen.do.clickNextOrder();\n            \n            // Create third order\n            FloorScreen.check.isShown();\n            FloorScreen.do.clickTable(\"4\");\n            ProductScreen.check.orderBtnIsPresent();\n            ProductScreen.do.clickDisplayedProduct(\"Coca-Cola\");\n            ProductScreen.do.clickDisplayedProduct(\"Water\");\n            ProductScreen.do.clickDisplayedProduct(\"Minute Maid\");\n            ProductScreen.check.orderlineIsToOrder(\"Coca-Cola\");\n            ProductScreen.check.orderlineIsToOrder(\"Water\");\n            ProductScreen.check.orderlineIsToOrder(\"Minute Maid\");\n            ProductScreen.do.clickOrderButton();\n            ProductScreen.check.orderlinesHaveNoChange();\n            ProductScreen.check.selectedOrderlineHas(\"Minute Maid\", \"1.00\");\n            ProductScreen.do.pressNumpad(\"Backspace\");\n            ProductScreen.check.selectedOrderlineHas(\"Minute Maid\", \"0.00\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.clickValidate();\n            ReceiptScreen.check.isShown();\n            ReceiptScreen.do.clickNextOrder();\n\n            return getSteps(); \n        } \n    });\n", "/** @odoo-module **/\n\nimport ajax from \"web.ajax\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nfunction openRoot() {\n    return [{\n        content: \"return to client root to avoid race condition\",\n        trigger: 'body',\n        run() {\n            $('body').addClass('wait');\n            window.location = '/web';\n        }\n    }, {\n        content: \"wait for client reload\",\n        trigger: 'body:not(.wait)',\n        run() {}\n    }];\n}\nfunction openUserProfileAtSecurityTab() {\n    return [{\n        content: 'Open user account menu',\n        trigger: '.o_user_menu .dropdown-toggle',\n        run: 'click',\n    }, {\n        content: \"Open preferences / profile screen\",\n        trigger: '[data-menu=settings]',\n        run: 'click',\n    }, {\n        content: \"Switch to security tab\",\n        trigger: 'a[role=tab]:contains(\"Account Security\")',\n        run: 'click',\n    }];\n}\n\n/**\n * Checks that the TOTP button is in the specified state (true = enabled =\n * can disable, false = disabled = can enable), then closes the profile dialog\n * if it's one (= hr not installed).\n *\n * If no totp state is provided, just checks that the toggle exists.\n */\nfunction closeProfileDialog({content, totp_state}) {\n    let trigger;\n    switch (totp_state) {\n    case true: trigger = 'button[name=action_totp_disable]'; break;\n    case false: trigger = 'button[name=action_totp_enable_wizard]'; break;\n    case undefined: trigger = 'button.o_auth_2fa_btn'; break;\n    default: throw new Error(`Invalid totp state ${totp_state}`)\n    }\n\n    return [{\n        content,\n        trigger,\n        run() {\n            const $modal = this.$anchor.parents('.o_dialog');\n            if ($modal.length) {\n                $modal.find('button[name=preference_cancel]').click()\n            }\n        }\n    }, {\n        trigger: 'body',\n        async run() {\n            while (document.querySelector('.o_dialog')) {\n                await Promise.resolve();\n            }\n            this.$anchor.addClass('dialog-closed');\n        },\n    }, {\n        trigger: 'body.dialog-closed',\n        run() {},\n    }];\n}\n\nregistry.category(\"web_tour.tours\").add('totp_tour_setup', {\n    test: true,\n    url: '/web',\n    steps: () => [...openUserProfileAtSecurityTab(), {\n    content: \"Open totp wizard\",\n    trigger: 'button[name=action_totp_enable_wizard]',\n}, {\n    content: \"Check that we have to enter enhanced security mode and input password\",\n    extra_trigger: 'div:contains(\"enter your password\")',\n    trigger: '[name=password] input',\n    run: 'text demo',\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n}, {\n    content: \"Check the wizard has opened\",\n    trigger: 'li:contains(\"When requested to do so\")',\n    run() {}\n}, {\n    content: \"Get secret from collapsed div\",\n    trigger: 'a:contains(\"Cannot scan it?\")',\n    async run(helpers) {\n        const $secret = this.$anchor.closest('div').find('[name=secret] span:first-child');\n        const $copyBtn = $secret.find('button');\n        $copyBtn.remove();\n        const token = await ajax.jsonRpc('/totphook', 'call', {\n            secret: $secret.text()\n        });\n        helpers.text(token, '[name=code] input');\n        helpers.click('button.btn-primary:contains(Activate)');\n        $('body').addClass('got-token')\n    }\n}, {\n    content: 'wait for rpc',\n    trigger: 'body.got-token',\n    run() {}\n},\n...openRoot(),\n...openUserProfileAtSecurityTab(),\n...closeProfileDialog({\n    content: \"Check that the button has changed\",\n    totp_state: true,\n}),\n]});\n\nregistry.category(\"web_tour.tours\").add('totp_login_enabled', {\n    test: true,\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text demo',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text demo',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    async run(helpers) {\n        // TODO: if tours are ever async-aware the click should get moved out,\n        //       but currently there's no great way to make the tour wait until\n        //       we've retrieved and set the token: `:empty()` is aboutthe text\n        //       content of the HTML element, not the JS value property. We\n        //       could set a class but that's really no better than\n        //       procedurally clicking the button after we've set the input.\n        const token = await ajax.jsonRpc('/totphook', 'call', {});\n        helpers.text(token);\n        helpers.click('button:contains(\"Log in\")');\n    }\n}, {\n    content: \"check we're logged in\",\n    trigger: \".o_user_menu .dropdown-toggle\",\n    run() {}\n}]});\n\nregistry.category(\"web_tour.tours\").add('totp_login_device', {\n    test: true,\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text demo',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text demo',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n}, {\n    content: \"check remember device box\",\n    trigger: 'label[for=switch-remember]',\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    async run(helpers) {\n        const token = await ajax.jsonRpc('/totphook', 'call', {})\n        helpers.text(token);\n        helpers.click('button:contains(\"Log in\")');\n    }\n}, {\n    content: \"check we're logged in\",\n    trigger: \".o_user_menu .dropdown-toggle\",\n    run: 'click',\n}, {\n    content: \"click the Log out button\",\n    trigger: '.dropdown-item[data-menu=logout]',\n}, {\n    content: \"check that we're back on the login page or go to it\",\n    trigger: 'input#login, a:contains(Log in)'\n}, {\n    content: \"input login again\",\n    trigger: 'input#login',\n    run: 'text demo',\n}, {\n    content: 'input password again',\n    trigger: 'input#password',\n    run: 'text demo',\n}, {\n    content: \"click da button again\",\n    trigger: 'button:contains(\"Log in\")',\n},  {\n    content: \"check we're logged in without 2FA\",\n    trigger: \".o_user_menu .dropdown-toggle\",\n    run() {}\n},\n// now go and disable two-factor authentication would be annoying to do in a separate tour\n// because we'd need to login & totp again as HttpCase.authenticate can't\n// succeed w/ totp enabled\n...openUserProfileAtSecurityTab(),\n{\n    content: \"Open totp wizard\",\n    trigger: 'button[name=action_totp_disable]',\n}, {\n    content: \"Check that we have to enter enhanced security mode and input password\",\n    extra_trigger: 'div:contains(\"enter your password\")',\n    trigger: '[name=password] input',\n    run: 'text demo',\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n},\n...openRoot(),\n...openUserProfileAtSecurityTab(),\n...closeProfileDialog({\n    content: \"Check that the button has changed\",\n    totp_state: false\n}),\n]});\n\nregistry.category(\"web_tour.tours\").add('totp_login_disabled', {\n    test: true,\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text demo',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text demo',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n},\n// normally we'd end the tour here as it's all we care about but there are a\n// bunch of ongoing queries from the loading of the web client which cause\n// issues, so go and open the preferences / profile screen to make sure\n// everything settles down\n...openUserProfileAtSecurityTab(),\n// close the dialog if that makes sense\n...closeProfileDialog({})\n]});\n\nconst columns = {};\nregistry.category(\"web_tour.tours\").add('totp_admin_disables', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), {\n    content: 'Go to settings',\n    trigger: '[data-menu-xmlid=\"base.menu_administration\"]'\n}, {\n    content: 'Wait for page',\n    trigger: '.o_menu_brand:contains(\"Settings\")',\n    run() {}\n}, {\n    content: \"Open Users menu\",\n    trigger: '[data-menu-xmlid=\"base.menu_users\"]'\n}, {\n    content: \"Open Users view\",\n    trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n    run(helpers) {\n        // funny story: the users view we're trying to reach, sometimes we're\n        // already there, but if we re-click the next step executes before the\n        // action has the time to re-load, the one after that doesn't, and our\n        // selection get discarded by the action reloading, so here try to\n        // see if we're already on the users action through the breadcrumb and\n        // just close the menu if so\n        const $crumb = $('.breadcrumb');\n        if ($crumb.text().indexOf('Users') === -1) {\n            // on general settings page, click menu\n            helpers.click();\n        } else {\n            // else close menu\n            helpers.click($('[data-menu-xmlid=\"base.menu_users\"]'));\n        }\n    }\n}, {\n    content: \"Find Demo User\",\n    trigger: 'td.o_data_cell:contains(\"demo\")',\n    run(helpers) {\n        const $titles = this.$anchor.closest('table').find('tr:first th');\n        for (let i=0; i<$titles.length; ++i) {\n            columns[$titles[i].getAttribute('data-name')] = i;\n        }\n        const $row = this.$anchor.closest('tr');\n        const sel = $row.find('.o_list_record_selector input[type=checkbox]');\n        helpers.click(sel);\n    }\n}, {\n    content: \"Open Actions menu\",\n    trigger: 'button.dropdown-toggle:contains(\"Action\")'\n}, {\n    content: \"Select totp remover\",\n    trigger: 'span.dropdown-item:contains(Disable two-factor authentication)'\n}, { // enhanced security yo\n    content: \"Check that we have to enter enhanced security mode & input password\",\n    extra_trigger: 'div:contains(\"enter your password\")',\n    trigger: '[name=password] input',\n    run: 'text admin',\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n}, {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(demo)\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n}, ...closeProfileDialog({\n    content: \"check that demo user has been de-totp'd\",\n    totp_state: false,\n}),\n]})\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nfunction openAccountSettingsTab() {\n    return [{\n        content: 'Go to settings',\n        trigger: '[data-menu-xmlid=\"base.menu_administration\"]'\n    }, {\n        content: 'Wait for page',\n        trigger: '.o_menu_brand:contains(\"Settings\")',\n        run: () => {}\n    }, {\n        content: \"Open Users menu\",\n        trigger: '[data-menu-xmlid=\"base.menu_users\"]'\n    }, {\n        content: \"Open Users view\",\n        trigger: '[data-menu-xmlid=\"base.menu_action_res_users\"]',\n        run: function (helpers) {\n            // funny story: the users view we're trying to reach, sometimes we're\n            // already there, but if we re-click the next step executes before the\n            // action has the time to re-load, the one after that doesn't, and our\n            // selection get discarded by the action reloading, so here try to\n            // see if we're already on the users action through the breadcrumb and\n            // just close the menu if so\n            const $crumb = $('.breadcrumb');\n            if ($crumb.text().indexOf('Users') === -1) {\n                // on general settings page, click menu\n                helpers.click();\n            } else {\n                // else close menu\n                helpers.click($('[data-menu-xmlid=\"base.menu_users\"]'));\n            }\n        }\n    }];\n}\n\nregistry.category(\"web_tour.tours\").add('totp_admin_self_invite', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), ...openAccountSettingsTab(), {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(admin)\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n}, {\n    content: \"check that user cannot invite themselves to use 2FA.\",\n    trigger: \"body\",\n    run: function () {\n        const inviteBtn = $('button:contains(Invite to use 2FA)')[0];\n        if (!inviteBtn) {\n            $('body').addClass('CannotInviteYourself');\n        }\n    }\n}, {\n    content: \"check that user cannot invite themself.\",\n    trigger: \"body.CannotInviteYourself\"\n}]});\n\nregistry.category(\"web_tour.tours\").add('totp_admin_invite', {\n    test: true,\n    url: '/web',\n    steps: () => [stepUtils.showAppsMenuItem(), ...openAccountSettingsTab(), {\n    content: \"open the user's form\",\n    trigger: \"td.o_data_cell:contains(demo)\",\n}, {\n    content: \"go to Account security Tab\",\n    trigger: \"a.nav-link:contains(Account Security)\",\n}, {\n    content: \"check that demo user can be invited to use 2FA.\",\n    trigger: \"button:contains(Invite to use 2FA)\",\n}]});\n", "/** @odoo-module **/\n\nimport ajax from \"web.ajax\";\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('totportal_tour_setup', {\n    test: true,\n    url: '/my/security',\n    steps: () => [{\n    content: \"Open totp wizard\",\n    trigger: 'button#auth_totp_portal_enable',\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: 'div:contains(\"enter your password\")',\n    run: () => {},\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: 'text portal', // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n}, {\n    content: \"Check the wizard has opened\",\n    trigger: 'li:contains(\"scan the barcode below\")',\n    run: () => {}\n}, {\n    content: \"Get secret from collapsed div\",\n    trigger: 'a:contains(\"Cannot scan it?\")',\n    run: async function(helpers) {\n        const secret = this.$anchor.closest('div').find('span[name=\"secret\"]').text();\n        const token = await ajax.jsonRpc('/totphook', 'call', {\n            secret\n        });\n        helpers._text(helpers._get_action_values('input[name=code]'), token);\n        helpers._click(helpers._get_action_values('button.btn-primary:contains(Activate)'));\n    }\n}, {\n    content: \"Check that the button has changed\",\n    trigger: 'button:contains(Disable two-factor authentication)',\n    run: () => {}\n}]});\n\nregistry.category(\"web_tour.tours\").add('totportal_login_enabled', {\n    test: true,\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text portal',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text portal',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    content: \"expect totp screen\",\n    trigger: 'label:contains(Authentication Code)',\n}, {\n    content: \"input code\",\n    trigger: 'input[name=totp_token]',\n    run: async function (helpers) {\n        const token = await ajax.jsonRpc('/totphook', 'call', {});\n        helpers._text(helpers._get_action_values(), token);\n        // FIXME: is there a way to put the button as its own step trigger without\n        //        the tour straight blowing through and not waiting for this?\n        helpers._click(helpers._get_action_values('button:contains(\"Log in\")'));\n    }\n}, {\n    content: \"check we're logged in\",\n    trigger: \"h3:contains(Documents)\",\n    run: () => {}\n}, {\n    content: \"go back to security\",\n    trigger: \"a:contains(Security)\",\n},{\n    content: \"Open totp wizard\",\n    trigger: 'button#auth_totp_portal_disable',\n}, {\n    content: \"Check that we have to enter enhanced security mode\",\n    trigger: 'div:contains(\"enter your password\")',\n    run: () => {},\n}, {\n    content: \"Input password\",\n    trigger: '[name=password]',\n    run: 'text portal', // FIXME: better way to do this?\n}, {\n    content: \"Confirm\",\n    trigger: \"button:contains(Confirm Password)\",\n}, {\n    content: \"Check that the button has changed\",\n    trigger: 'button:contains(Enable two-factor authentication)',\n    run: () => {}\n}]});\n\nregistry.category(\"web_tour.tours\").add('totportal_login_disabled', {\n    test: true,\n    url: '/',\n    steps: () => [{\n    content: \"check that we're on the login page or go to it\",\n    trigger: 'input#login, a:contains(Sign in)'\n}, {\n    content: \"input login\",\n    trigger: 'input#login',\n    run: 'text portal',\n}, {\n    content: 'input password',\n    trigger: 'input#password',\n    run: 'text portal',\n}, {\n    content: \"click da button\",\n    trigger: 'button:contains(\"Log in\")',\n}, {\n    content: \"check we're logged in\",\n    trigger: \"h3:contains(Documents)\",\n    run: () => {}\n}]});\n", "/** @odoo-module */\n\n/**\n * Add custom step to check allow_billable during project creation\n * to be able to set a partner on project/tasks.\n */\nimport { registry } from \"@web/core/registry\";\nimport \"@project/../tests/tours/project_tour\";\nimport { patch } from \"@web/core/utils/patch\";\n\npatch(registry.category(\"web_tour.tours\").get(\"project_test_tour\"), \"patch_sale_project_tour\", {\n    steps() {\n        const originalSteps = this._super();\n        const projectCreationStepIndex = originalSteps.findIndex((step) => step.id === \"project_creation\");\n        originalSteps.splice(projectCreationStepIndex, 0, {\n            trigger: \"div[name='allow_billable'] input\",\n        });\n\n        return originalSteps;\n    }\n})\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\n\n/**\n * @param {string} tourName\n * @param {string} templateName\n */\nexport function registerTemplateTour(tourName, templateName) {\n    registry.category(\"web_tour.tours\").add(\n        tourName,\n        {\n            test: true,\n            url: \"/web\",\n            steps: () => [\n            {\n                trigger: '.o_app[data-menu-xmlid=\"documents.menu_root\"]',\n                content: \"Open document app\",\n                run: \"click\",\n            },\n            {\n                trigger: 'button[data-menu-xmlid=\"documents.Config\"]',\n                content: \"Open Configuration menu\",\n                run: \"click\",\n            },\n            {\n                trigger:\n                    '.dropdown-item[data-menu-xmlid=\"documents_spreadsheet.menu_technical_spreadsheet_template\"]',\n                content: \"Open Configuration menu\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o_searchview .o_facet_remove\",\n                content: 'Remove \"My templates\" filter',\n                run: \"click\",\n            },\n            {\n                trigger: \"input.o_searchview_input\",\n                content: \"Search the template\",\n                run: `text ${templateName}`,\n            },\n            {\n                trigger: \".o_menu_item.focus\",\n                content: \"Validate search\",\n                run: \"click\",\n            },\n            {\n                trigger: `tr.o_data_row:first-child td[data-tooltip=\"${templateName}\"]`,\n                content: \"Wait search to complete\",\n            },\n            {\n                trigger: \"button.o-new-spreadsheet\",\n                content: \"Create spreadsheet from template\",\n                run: \"click\",\n            },\n            {\n                trigger: \".o-spreadsheet\",\n                content: \"Redirected to spreadsheet\",\n            },\n        ]\n    });\n}\n", "/** @odoo-module**/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"spreadsheet_clone_xlsx\", {\n    test: true,\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"documents.menu_root\"]',\n            content: \"Open document app\",\n        },\n        {\n            trigger: '.o_search_panel_label_title:contains(\"Test folder\")',\n            content: \"Open Test folder workspace\",\n        },\n        {\n            trigger: '.o_search_panel_field header.active:contains(\"Test folder\")',\n            extra_trigger: '.o_inspector_value:contains(\"1\")',\n            content: \"Make sure we start with one card\",\n        },\n        {\n            trigger: \".o_document_xlsx\",\n            content: \"Open xlsx card\",\n        },\n        {\n            trigger: \"input#willArchive\",\n            content: \"Uncheck sending to trash\",\n        },\n        {\n            trigger: \".modal-dialog footer button.btn-primary\",\n            content: \"Open with Odoo Spreadsheet\",\n        },\n        {\n            trigger: \".o-spreadsheet-topbar\",\n            content: \"Check that we are now in Spreadsheet\",\n            isCheck: true,\n        },\n        {\n            trigger: '[data-menu-xmlid=\"documents.dashboard\"]',\n            content: \"Go back to Document App\",\n        },\n        {\n            trigger: \".o_kanban_renderer .o_kanban_record:first:has('.o_document_spreadsheet')\",\n            content: \"Check a spreadsheet document was created\",\n            isCheck: true,\n        },\n        {\n            trigger: \".o_document_xlsx\",\n            content: \"Re-open the xlsx card\",\n        },\n        {\n            trigger: \".modal-dialog footer button.btn-primary\",\n            content: \"Open with Odoo Spreadsheet without unchecking the box\",\n        },\n        {\n            trigger: \".o-spreadsheet-topbar\",\n            content: \"Check that we are now in Spreadsheet\",\n            isCheck: true,\n        },\n        {\n            trigger: '[data-menu-xmlid=\"documents.dashboard\"]',\n            content: \"Go back to Document App\",\n        },\n        {\n            trigger: \".o_kanban_renderer:not(:has(.o_kanban_record .o_document_xlsx))\",\n            content: \"Check that XLSX is no longer visible\",\n            isCheck: true,\n        },\n        {\n            trigger: \".o_control_panel .o_searchview_dropdown_toggler\",\n            content: \"Open Filters\",\n        },\n        {\n            trigger: '.dropdown-item:contains(\"Archived\")',\n            content: \"Show Archived\",\n        },\n        {\n            trigger: \".o_document_xlsx\",\n            content: \"Re-open the xlsx card\",\n        },\n        {\n            trigger: \".modal-dialog footer button.btn-primary\",\n            content: \"Restore xlsx\",\n        },\n        {\n            trigger: '.o_searchview_input_container:not(:contains(\"Archived\"))',\n            content: 'Wait for the \"Archived\" filter to be removed',\n            isCheck: true,\n        },\n        {\n            trigger: \".o_kanban_renderer .o_kanban_record\",\n            extra_trigger: '.o_inspector_value:contains(\"3\")',\n            content: \"Check all records are now visible.\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"spreadsheet_create_empty_sheet\", {\n    test: true,\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"documents.menu_root\"]',\n            content: \"Open document app\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_cp_buttons:contains('Upload') .dropdown-toggle.dropdown-toggle-split\",\n            content: \"Open dropdown\",\n        },\n        {\n            trigger: \".o_documents_kanban_spreadsheet\",\n            content: \"Open template dialog\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-spreadsheet-create\",\n            content: \"Create new spreadsheet\",\n            run: \"click\",\n        },\n        {\n            trigger: 'span[title=\"Fill Color\"]',\n            content: \"Choose a color\",\n            run: \"click\",\n        },\n        {\n            trigger: '.o-color-picker-line-item[data-color=\"#990000\"]',\n            content: \"Choose a color\",\n            run: \"click\",\n        },\n        {\n            trigger: '[data-menu-xmlid=\"documents.dashboard\"]',\n            content: \"Go back to Document App\",\n        },\n        {\n            trigger: \".o_document_spreadsheet:first\",\n            content: \"Reopen the sheet\",\n            run: \"click\",\n        },\n    ],\n});\nregistry.category(\"web_tour.tours\").add(\"spreadsheet_create_list_view\", {\n    test: true,\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"documents.menu_root\"]',\n            content: \"Open document app\",\n            run: \"click\",\n        },\n        {\n            trigger: \"button.o_switch_view.o_list\",\n            content: \"Switch to list view\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_control_panel .o_cp_action_menus .dropdown-toggle\",\n            extra_trigger: \".o_list_view\",\n            content: \"Open the cog menu\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_control_panel .o_cp_action_menus .dropdown-toggle:contains(Spreadsheet)\",\n            run: function () {\n                this.$anchor[0].dispatchEvent(new MouseEvent(\"mouseenter\"));\n            },\n        },\n        {\n            trigger: \".o_insert_list_spreadsheet_menu\",\n            content: \"Insert in spreadsheet\",\n            run: \"click\",\n        },\n        {\n            trigger: \".modal-footer .btn-primary\",\n            content: \"Confirm\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-topbar-topleft .o-topbar-menu[data-id='data']\",\n            content: \"Open Data menu\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-menu-item[data-name='item_list_1']\",\n            content: \"Open List Side Panel\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_pivot_cancel\",\n            content: \"Go back to the list of lists\",\n            run: \"click\",\n        },\n    ],\n});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nconst SHEET_NAME = \"Partner Spreadsheet Test\";\nconst TEMPLATE_NAME = `${SHEET_NAME} - Template`;\n\nregistry.category(\"web_tour.tours\").add(\n    \"documents_spreadsheet_create_template_tour\",\n    {\n        test: true,\n        url: \"/web\",\n        steps: () => [\n        ...stepUtils.goToAppSteps(\"documents.menu_root\", \"Open Document app\"),\n        {\n            trigger: `div[title=\"${SHEET_NAME}\"]`,\n            content: \"Select Test Sheet\",\n            run: \"click\",\n        },\n        {\n            trigger: `button.o_switch_view.o_list`,\n            content: \"Switch to list view\",\n            run: \"click\",\n        },\n        {\n            trigger: `img[title=\"${SHEET_NAME}\"]`,\n            content: \"Open the sheet\",\n            run: \"click\",\n        },\n        {\n            trigger: `.o-topbar-menu[data-id=\"file\"]`,\n            content: \"Open the file menu\",\n            run: \"click\",\n        },\n        {\n            trigger: `.o-menu-item[data-name=\"save_as_template\"]`,\n            content: \"Save as template\",\n            run: \"click\",\n        },\n        {\n            trigger: `button[name=\"save_template\"]`,\n            content: \"Save as template\",\n            run: \"click\",\n        },\n        {\n            trigger: 'button[data-menu-xmlid=\"documents.Config\"]',\n            content: \"Open Configuration menu\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                '.dropdown-item[data-menu-xmlid=\"documents_spreadsheet.menu_technical_spreadsheet_template\"]',\n            content: \"Open Templates menu\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o_searchview .o_facet_remove\",\n            content: 'Remove \"My templates\" filter',\n            run: \"click\",\n        },\n        {\n            trigger: \"input.o_searchview_input\",\n            content: \"Search the template\",\n            run: `text ${TEMPLATE_NAME}`,\n        },\n        {\n            trigger: \".o_menu_item.focus\",\n            content: \"Validate search\",\n            run: \"click\",\n        },\n        {\n            trigger: `tr.o_data_row:first-child td[data-tooltip=\"${TEMPLATE_NAME}\"]`,\n            content: \"Wait search to complete\",\n        },\n        {\n            trigger: \"button.o-new-spreadsheet\",\n            content: \"Create spreadsheet from template\",\n            run: \"click\",\n        },\n        {\n            trigger: \".o-spreadsheet\",\n            content: \"Redirected to spreadsheet\",\n        },\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { TourError } from \"@web_tour/tour_service/tour_utils\";\n\nfunction assert(current, expected, info) {\n    if (current !== expected) {\n        fail(info + ': \"' + current + '\" instead of \"' + expected + '\".');\n    }\n}\n\nfunction fail(errorMessage) {\n    throw new TourError(errorMessage);\n}\n\nconst SHEETNAME = \"Partner Spreadsheet Test\";\nregistry.category(\"web_tour.tours\").add(\"spreadsheet_open_pivot_sheet\", {\n    test: true,\n    steps: () => [\n        {\n            trigger: '.o_app[data-menu-xmlid=\"documents.menu_root\"]',\n            content: \"Open document app\",\n            run: \"click\",\n        },\n        {\n            trigger: `div[title=\"${SHEETNAME}\"]`,\n            content: \"Select Test Sheet\",\n            run: \"click\",\n        },\n        {\n            trigger: `button.o_switch_view.o_list`,\n            content: \"Switch to list view\",\n            run: \"click\",\n        },\n        {\n            trigger: `img[title=\"${SHEETNAME}\"]`,\n            content: \"Open the sheet\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div.o_topbar_filter_icon\",\n            content: \"Open Filters\",\n            run: \"click\",\n        },\n        {\n            trigger: \"div.pivot_filter\",\n            content: \"\",\n            run: function (actions) {\n                const pivots = document.querySelectorAll(\"div.pivot_filter\");\n                assert(pivots.length, 1, \"There should be one filter\");\n                const pivot = pivots[0];\n                assert(\n                    pivot.querySelector(\"div.o_side_panel_title\").textContent,\n                    \"MyFilter1\",\n                    \"Invalid filter name\"\n                );\n                assert(\n                    Boolean(\n                        pivot.querySelector(\n                            'div.o_field_many2many_tags span.badge[title=\"Azure Interior\"]'\n                        )\n                    ),\n                    true,\n                    \"Wrong default filter value\"\n                );\n                actions.click(pivot.querySelector(\".o_side_panel_filter_icon.fa-cog\"));\n            },\n        },\n        {\n            trigger: \".o_spreadsheet_filter_editor_side_panel\",\n            content: \"Check filter values\",\n            run: function () {\n                const defaultFilterValue = document.querySelectorAll(\n                    'div.o_field_many2many_tags span.badge[title=\"Azure Interior\"]'\n                );\n                assert(\n                    defaultFilterValue.length,\n                    1,\n                    \"There should be a default value in the filter...\"\n                );\n                assert(\n                    document.querySelector(\".o_side_panel_related_model input\").value,\n                    \"Contact\",\n                    \"Wrong model selected\"\n                );\n\n                const fieldsValue = document.querySelector(\n                    \"div.o_model_field_selector_value span.o_model_field_selector_chain_part\"\n                );\n                assert(fieldsValue.textContent.trim(), \"Related Company\");\n            },\n        },\n        {\n            trigger: '[data-menu-xmlid=\"documents.dashboard\"]',\n            content: \"Go back to Document App\",\n        },\n        {\n            trigger: \".o_document_spreadsheet:first\",\n            content: \"Sheet is visible in Documents\",\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils, TourError } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add(\"spreadsheet_save_multipage\", {\n    test: true,\n    steps: () => [\n        stepUtils.showAppsMenuItem(),\n        {\n            trigger: '.o_app[data-menu-xmlid=\"documents.menu_root\"]',\n            content: \"Open document app\",\n        },\n        {\n            trigger: \".o_cp_buttons:contains('Upload') .dropdown-toggle.dropdown-toggle-split\",\n            content: \"Open dropdown\",\n        },\n        {\n            trigger: \".o_documents_kanban_spreadsheet\",\n            content: \"Open template dialog\",\n        },\n        {\n            trigger: \".o-spreadsheet-create\",\n            content: \"Create new spreadsheet\",\n        },\n        {\n            trigger: \".o-add-sheet\",\n            content: \"Add a sheet\",\n        },\n        {\n            trigger: \".o-sheet-list .o-ripple-container:nth-child(2)\",\n            content: \"Check that there are now two sheets\",\n            isCheck: true,\n        },\n        {\n            trigger: '[data-menu-xmlid=\"documents.dashboard\"]',\n            content: \"Go back to Document App\",\n        },\n        {\n            trigger: \".o_kanban_renderer .o_kanban_record:first .o_kanban_stack \",\n            content: \"Check is rendered as multipage\",\n            isCheck: true,\n        },\n        {\n            trigger: \".o_document_spreadsheet:first\",\n            content: \"Reopen the sheet\",\n        },\n        {\n            trigger: \".o-sheet .o-sheet-icon\",\n            content: \"Open sheet dropdown\",\n        },\n        {\n            trigger: '.o-popover .o-menu-item[title=\"Delete\"]',\n            content: \"Delete sheet\",\n        },\n        {\n            trigger: \".modal-dialog footer button.btn-primary\",\n            content: \"Confirm delete sheet\",\n        },\n        {\n            trigger: '[data-menu-xmlid=\"documents.dashboard\"]',\n            content: \"Go back to Document App\",\n        },\n        {\n            trigger: \".o_kanban_renderer .o_kanban_record:first\",\n            content: \"Check is rendered as single page\",\n            run: () => {\n                const card = document.querySelectorAll(\n                    \".o_kanban_renderer .o_kanban_record:first-child > div.o_kanban_stack\"\n                );\n                if (card.length > 1) {\n                    throw new TourError(\"The card should not be rendered as multipage.\");\n                }\n            },\n        },\n    ],\n});\n", "/** @odoo-module */\n\nimport { registerTemplateTour } from \"@documents_spreadsheet/../tests/utils/tour\";\n\nregisterTemplateTour(\"spreadsheet_template_features\", \"Template with special characters\");\n", "/** @odoo-module */\n\nimport { PosHr } from \"@pos_hr/../tests/tours/PosHrTourMethods\";\nimport { ProductScreen } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { TicketScreen } from \"@point_of_sale/../tests/tours/helpers/TicketScreenTourMethods\";\nimport { Chrome } from \"@point_of_sale/../tests/tours/helpers/ChromeTourMethods\";\nimport { ErrorPopup } from \"@point_of_sale/../tests/tours/helpers/ErrorPopupTourMethods\";\nimport { NumberPopup } from \"@point_of_sale/../tests/tours/helpers/NumberPopupTourMethods\";\nimport { SelectionPopup } from \"@point_of_sale/../tests/tours/helpers/SelectionPopupTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"PosHrTour\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n            \n            PosHr.check.loginScreenIsShown();\n            PosHr.do.clickLoginButton();\n            SelectionPopup.check.isShown();\n            SelectionPopup.check.hasSelectionItem(\"Pos Employee1\");\n            SelectionPopup.check.hasSelectionItem(\"Pos Employee2\");\n            SelectionPopup.check.hasSelectionItem(\"Mitchell Admin\");\n            SelectionPopup.do.clickItem(\"Pos Employee1\");\n            NumberPopup.check.isShown();\n            NumberPopup.do.enterValue(\"25\");\n            NumberPopup.check.inputShownIs(\"\u2022\u2022\");\n            NumberPopup.do.pressNumpad(\"8 1\");\n            NumberPopup.do.fillPopupValue(\"2581\");\n            NumberPopup.check.inputShownIs(\"\u2022\u2022\u2022\u2022\");\n            NumberPopup.do.clickConfirm();\n            ErrorPopup.check.isShown();\n            ErrorPopup.do.clickConfirm();\n            PosHr.do.clickLoginButton();\n            SelectionPopup.do.clickItem(\"Pos Employee1\");\n            NumberPopup.check.isShown();\n            NumberPopup.do.enterValue(\"25\");\n            NumberPopup.check.inputShownIs(\"\u2022\u2022\");\n            NumberPopup.do.pressNumpad(\"8 0\");\n            NumberPopup.do.fillPopupValue(\"2580\");\n            NumberPopup.check.inputShownIs(\"\u2022\u2022\u2022\u2022\");\n            NumberPopup.do.clickConfirm();\n            ProductScreen.check.isShown();\n            ProductScreen.do.confirmOpeningPopup();\n            PosHr.check.cashierNameIs(\"Pos Employee1\");\n            PosHr.do.clickCashierName();\n            SelectionPopup.do.clickItem(\"Mitchell Admin\");\n            PosHr.check.cashierNameIs(\"Mitchell Admin\");\n            Chrome.do.clickMenuButton();\n            PosHr.do.clickLockButton();\n            PosHr.do.clickLoginButton();\n            SelectionPopup.do.clickItem(\"Pos Employee2\");\n            NumberPopup.do.enterValue(\"12\");\n            NumberPopup.check.inputShownIs(\"\u2022\u2022\");\n            NumberPopup.do.pressNumpad(\"3 4\");\n            NumberPopup.do.fillPopupValue(\"1234\");\n            NumberPopup.check.inputShownIs(\"\u2022\u2022\u2022\u2022\");\n            NumberPopup.do.clickConfirm();\n            ProductScreen.check.isShown();\n            ProductScreen.do.clickHomeCategory();\n            \n            // Create orders and check if the ticket list has the right employee for each order\n            // order for employee 2\n            ProductScreen.exec.addOrderline(\"Desk Pad\", \"1\", \"2\");\n            ProductScreen.check.totalAmountIs(\"2.0\");\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.check.nthRowContains(2, \"Pos Employee2\");\n            \n            // order for employee 1\n            Chrome.do.clickMenuButton();\n            PosHr.do.clickLockButton();\n            PosHr.exec.login(\"Pos Employee1\", \"2580\");\n            TicketScreen.do.clickNewTicket();\n            ProductScreen.exec.addOrderline(\"Desk Pad\", \"1\", \"4\");\n            ProductScreen.check.totalAmountIs(\"4.0\");\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.check.nthRowContains(2, \"Pos Employee2\");\n            TicketScreen.check.nthRowContains(3, \"Pos Employee1\");\n            \n            // order for admin\n            PosHr.do.clickCashierName();\n            SelectionPopup.do.clickItem(\"Mitchell Admin\");\n            PosHr.check.cashierNameIs(\"Mitchell Admin\");\n            TicketScreen.do.clickNewTicket();\n            ProductScreen.exec.addOrderline(\"Desk Pad\", \"1\", \"8\");\n            ProductScreen.check.totalAmountIs(\"8.0\");\n            Chrome.do.clickMenuButton();\n            Chrome.do.clickTicketButton();\n            TicketScreen.check.nthRowContains(4, \"Mitchell Admin\");\n\n            return getSteps(); \n        } \n    });\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { SelectionPopup } from \"@point_of_sale/../tests/tours/helpers/SelectionPopupTourMethods\";\nimport { NumberPopup } from \"@point_of_sale/../tests/tours/helpers/NumberPopupTourMethods\";\n\nclass Do {\n    clickLoginButton() {\n        return [\n            {\n                content: \"click login button\",\n                trigger: \".login-overlay .login-button.select-cashier\",\n            },\n        ];\n    }\n    clickLockButton() {\n        return [\n            {\n                content: \"click lock button\",\n                trigger: \".lock-button\",\n            },\n        ];\n    }\n    clickCashierName() {\n        return [\n            {\n                content: \"click cashier name\",\n                trigger: \".oe_status .username\",\n            },\n        ];\n    }\n}\nclass Check {\n    loginScreenIsShown() {\n        return [\n            {\n                content: \"login screen is shown\",\n                trigger: \".login-overlay .screen-login .login-body\",\n                run: () => {},\n            },\n        ];\n    }\n    cashierNameIs(name) {\n        return [\n            {\n                content: `logged cashier is '${name}'`,\n                trigger: `.pos .oe_status .username:contains(\"${name}\")`,\n                run: () => {},\n            },\n        ];\n    }\n}\nclass Execute {\n    login(name, pin) {\n        const res = this._do.clickLoginButton();\n        res.push(...SelectionPopup._do.clickItem(name));\n        if (pin) {\n            res.push(...NumberPopup._do.pressNumpad(pin.split(\"\").join(\" \")));\n            res.push(...NumberPopup._check.inputShownIs(\"\u2022\u2022\u2022\u2022\"));\n            res.push(...NumberPopup._do.clickConfirm());\n        }\n        return res;\n    }\n}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"PosHr\", Do, Check, Execute));\n", "/** @odoo-module */\n\nimport { Chrome } from \"@point_of_sale/../tests/tours/helpers/ChromeTourMethods\";\nimport { ProductScreen } from \"@point_of_sale/../tests/tours/helpers/ProductScreenTourMethods\";\nimport { PaymentScreen } from \"@point_of_sale/../tests/tours/helpers/PaymentScreenTourMethods\";\nimport { OnlinePaymentPopup } from \"@pos_online_payment/../tests/tours/helpers/OnlinePaymentPopupTourMethods\";\nimport { ReceiptScreen } from \"@point_of_sale/../tests/tours/helpers/ReceiptScreenTourMethods\";\nimport { ErrorPopup } from \"@point_of_sale/../tests/tours/helpers/ErrorPopupTourMethods\";\nimport { getSteps, startSteps } from \"@point_of_sale/../tests/tours/helpers/utils\";\nimport { registry } from \"@web/core/registry\";\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"OnlinePaymentLocalFakePaidDataTour\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n            \n            ProductScreen.do.confirmOpeningPopup();\n            ProductScreen.exec.addOrderline(\"Letter Tray\", \"10\");\n            ProductScreen.check.selectedOrderlineHas(\"Letter Tray\", \"10.0\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.check.totalIs(\"48.0\");\n            PaymentScreen.check.emptyPaymentlines(\"48.0\");\n            \n            PaymentScreen.do.clickPaymentMethod(\"Online payment\");\n            PaymentScreen.do.enterPaymentLineAmount(\"Online payment\", \"48\");\n            PaymentScreen.check.selectedPaymentlineHas(\"Online payment\", \"48.0\");\n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(true);\n            PaymentScreen.do.clickValidate();\n            OnlinePaymentPopup.check.isShown();\n            OnlinePaymentPopup.check.amountIs(\"48.0\");\n            OnlinePaymentPopup.do.fakeOnlinePaymentPaidData();\n            OnlinePaymentPopup.check.isNotShown();\n            ReceiptScreen.check.isShown();\n            ReceiptScreen.check.receiptIsThere();\n            return getSteps() \n        }\n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"OnlinePaymentErrorsTour\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            startSteps();\n            \n            ProductScreen.do.confirmOpeningPopup();\n            ProductScreen.exec.addOrderline(\"Letter Tray\", \"10\");\n            ProductScreen.check.selectedOrderlineHas(\"Letter Tray\", \"10.0\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.check.totalIs(\"48.0\");\n            PaymentScreen.check.emptyPaymentlines(\"48.0\");\n            \n            PaymentScreen.do.clickPaymentMethod(\"Online payment\");\n            PaymentScreen.do.enterPaymentLineAmount(\"Online payment\", \"47\");\n            PaymentScreen.check.selectedPaymentlineHas(\"Online payment\", \"47.0\");\n            PaymentScreen.check.remainingIs(\"1.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(false);\n            PaymentScreen.do.clickPaymentMethod(\"Cash\");\n            PaymentScreen.do.enterPaymentLineAmount(\"Cash\", \"2\");\n            PaymentScreen.check.selectedPaymentlineHas(\"Cash\", \"2.0\");\n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"1.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(true);\n            PaymentScreen.do.clickValidate();\n            ErrorPopup.check.isShown();\n            ErrorPopup.do.clickConfirm();\n            PaymentScreen.do.clickPaymentline(\"Online payment\", \"47.0\");\n            PaymentScreen.do.clickPaymentlineDelButton(\"Online payment\", \"47.0\");\n            PaymentScreen.do.clickPaymentMethod(\"Online payment\");\n            PaymentScreen.check.selectedPaymentlineHas(\"Online payment\", \"46.0\");\n            PaymentScreen.do.clickPaymentMethod(\"Online payment\");\n            PaymentScreen.check.selectedPaymentlineHas(\"Online payment\", \"0.0\");\n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(true);\n            PaymentScreen.do.clickValidate();\n            ErrorPopup.check.isShown();\n            ErrorPopup.do.clickConfirm();\n            PaymentScreen.do.clickPaymentline(\"Online payment\", \"0.0\");\n            PaymentScreen.do.clickPaymentlineDelButton(\"Online payment\", \"0.0\");\n            PaymentScreen.do.clickPaymentline(\"Cash\", \"2.0\");\n            PaymentScreen.do.enterPaymentLineAmount(\"Cash\", \"3\");\n            PaymentScreen.check.selectedPaymentlineHas(\"Cash\", \"3.0\");\n            PaymentScreen.do.clickPaymentMethod(\"Online payment\");\n            PaymentScreen.check.selectedPaymentlineHas(\"Online payment\", \"-1.0\");\n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(true);\n            PaymentScreen.do.clickValidate();\n            ErrorPopup.check.isShown();\n            ErrorPopup.do.clickConfirm();\n\n            return getSteps();\n        } \n    });\n\nregistry\n    .category(\"web_tour.tours\")\n    .add(\"OnlinePaymentServerFakePaymentTour\", { \n        test: true, \n        url: \"/pos/ui\", \n        steps: () => {\n            \n            startSteps();\n            \n            ProductScreen.do.confirmOpeningPopup();\n            ProductScreen.exec.addOrderline(\"Letter Tray\", \"10\");\n            ProductScreen.check.selectedOrderlineHas(\"Letter Tray\", \"10.0\");\n            ProductScreen.do.clickPayButton();\n            PaymentScreen.check.totalIs(\"48.0\");\n            PaymentScreen.check.emptyPaymentlines(\"48.0\");\n            \n            PaymentScreen.do.clickPaymentMethod(\"Online payment\");\n            PaymentScreen.do.enterPaymentLineAmount(\"Online payment\", \"48\");\n            PaymentScreen.check.selectedPaymentlineHas(\"Online payment\", \"48.0\");\n            PaymentScreen.check.remainingIs(\"0.0\");\n            PaymentScreen.check.changeIs(\"0.0\");\n            PaymentScreen.check.validateButtonIsHighlighted(true);\n            PaymentScreen.do.clickValidate();\n            OnlinePaymentPopup.check.isShown();\n            OnlinePaymentPopup.check.amountIs(\"48.0\");\n            OnlinePaymentPopup.check.waitForOnlinePayment();\n            OnlinePaymentPopup.check.isNotShown();\n            ReceiptScreen.check.isShown();\n            ReceiptScreen.check.receiptIsThere();\n            Chrome.do.closeSession();\n            return getSteps(); \n        } \n    });\n", "/** @odoo-module */\n\nimport { createTourMethods } from \"@point_of_sale/../tests/tours/helpers/utils\";\n\nclass Do {\n    clickCancel() {\n        return [\n            {\n                content: \"click cancel button\",\n                trigger: \".online-payment-popup .footer .cancel\",\n            },\n        ];\n    }\n\n    fakeOnlinePaymentPaidData() {\n        return [\n            {\n                content: \"fake online payment paid data\",\n                trigger: \".online-payment-popup\",\n                run: () => {\n                    const currentOrder = odoo.__WOWL_DEBUG__.root.env.services.pos.get_order();\n\n                    const fakePaidOrder = currentOrder.export_as_JSON();\n                    fakePaidOrder.id = currentOrder.server_id;\n\n                    currentOrder.process_online_payments_data_from_server({\n                        \"id\": currentOrder.server_id,\n                        \"paid_order\": fakePaidOrder,\n                    });\n                },\n            },\n        ];\n    }\n}\n\nclass Check {\n    isShown() {\n        return [\n            {\n                content: \"online payment popup is shown\",\n                trigger: \".modal-dialog .online-payment-popup\",\n                isCheck: true,\n            },\n        ];\n    }\n\n    isNotShown() {\n        return [\n            {\n                content: \"online payment popup is not shown\",\n                trigger: \"body:not(:has(.online-payment-popup))\",\n                isCheck: true,\n            },\n        ];\n    }\n\n    /**\n     * Check if the displayed amount to pay is the provided amount.\n     * @param {String} amount\n     */\n    amountIs(amount) {\n        return [\n            {\n                content: `displayed amount is ${amount}`,\n                trigger: `.online-payment-popup .body .info .amount:contains(\"${amount}\")`,\n                isCheck: true,\n            },\n        ];\n    }\n\n    /**\n     * Used to replace the POS bus web socket communication that doesn't seem to work when executing a test tour.\n     * The server is regularly checked to see if the fake online payment has been done.\n     *\n     * @param {integer} checksAmount\n     * @param {integer} delayBetweenChecks\n     * @returns\n     */\n    waitForOnlinePayment(checksAmount = 10, delayBetweenChecks = 3000) {\n        const waitingStep = this.isNotShown()[0];\n        waitingStep.content = \"wait for online payment\";\n        waitingStep.timeout = checksAmount * delayBetweenChecks + 3000;\n        return [\n            {\n                content: \"start checks for online payment\",\n                trigger: \".online-payment-popup\",\n                run: () => {\n                    let checkIndex = 0;\n                    const checkFunc = async () => {\n                        const currentOrder = odoo.__WOWL_DEBUG__.root.env.services.pos.get_order();\n                        let opData;\n                        if (currentOrder) {\n                            opData = await currentOrder.update_online_payments_data_with_server(odoo.__WOWL_DEBUG__.root.env.services.orm, false);\n                        }\n                        const isMaxChecksReached = checkIndex >= checksAmount - 1;\n                        const isOrderPaid = opData && opData.is_paid;\n                        if (!isOrderPaid && !isMaxChecksReached) {\n                            checkIndex++;\n                            setTimeout(checkFunc, delayBetweenChecks);\n                        }\n                    };\n                    setTimeout(checkFunc, delayBetweenChecks);\n                },\n            },\n            waitingStep,\n        ];\n    }\n}\n\n// FIXME: this is a horrible hack to export an object as named exports.\n// eslint-disable-next-line no-undef\nObject.assign(__exports, createTourMethods(\"OnlinePaymentPopup\", Do, Check));\n", "odoo.define('odoo.test.trial.tours.plan.change.warnings', ['web_tour.tour'], function (require) {\n\"use strict\";\n\nvar tour = require(\"web_tour.tour\");\n\nfunction checkPricingChangeWarningShown(options) {\n    let modalTitle = (options || {}).modal_title || \"You are about to modify your pricing plan\";\n    return {\n        content: \"Check that a warning about plan change is shown\",\n        trigger: \".modal-header:contains(\" + modalTitle + \")\",\n        extra_trigger: \".modal-header:contains(\" + modalTitle + \")\",\n        run: function() {}, // this is a check\n        isCheck: true,\n        variant: (options || {}).variant,\n        warning_step: true,\n    };\n}\n\nfunction confirmPricingChange(options) {\n    let btnText = (options || {}).button || \"Confirm\";\n    return {\n        content: \"Click on Confirm\",\n        trigger: \".modal-footer .btn-primary:contains(\" + btnText + \")\",\n        variant: (options || {}).variant,\n        warning_step: true,\n    };\n}\n\n/* ----------------------------------------------------------------------\n * Test Studio promote dialog warning\n */\n\nvar tourPromoteStudioInstallWarnSteps = [\n    {\n        content: \"Open 'Apps' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n    },\n    {\n        content: \"Switch to List view\",\n        trigger: '.o_switch_view.o_list',\n    },\n    {\n        content: \"Open optional fields dropdown\",\n        trigger: '.o_list_view .o_optional_columns_dropdown_toggle, ' +\n                 '.o_list_view .o_optional_columns_dropdown .dropdown-toggle',\n    },\n    {\n        content: \"Click on 'Add Custom field'\",\n        trigger: '.o_list_view .o_optional_columns_dropdown.dropdown-menu .dropdown-item-studio, ' +\n                 '.o_list_view .o_optional_columns_dropdown .dropdown-menu .dropdown-item-studio',\n    },\n    {\n        content: \"Click on 'Install Odoo Studio'\",\n        trigger: \"button.o_install_studio\",\n    },\n    checkPricingChangeWarningShown(),\n    confirmPricingChange(),\n    {\n        content: \"Check that page reloads and we're still on the list view\",\n        trigger: \".o_list_view\",\n    }\n];\n\ntour.register('trial_user_install_studio_warning', {test: true},\n    tourPromoteStudioInstallWarnSteps,\n);\ntour.register('trial_user_install_studio_no_warning', {test: true},\n    tourPromoteStudioInstallWarnSteps.filter(step => !step.warning_step),\n);\n\n/* ----------------------------------------------------------------------\n * Test User invitation warning from Settings dashboard\n */\n\nvar tourInviteUserFromSettingDashboardSteps = [\n    {\n        content: \"Open 'Settings' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_administration\"]',\n    },\n    {\n        content: \"Fill new users to invite\",\n        trigger: \"input.o_user_emails\",\n        run: \"text user1@example.net,user2@example.net\"\n    },\n    {\n        content: \"Click on 'Invite'\",\n        trigger: \".o_web_settings_dashboard_invite, .o_web_settings_invite\",\n    },\n    checkPricingChangeWarningShown({modal_title: \"Users Invitation\"}),\n    confirmPricingChange({button: \"Invite User(s)\"}),\n    {\n        content: \"Check that page reloads and we're still on settings dahsboard\",\n        trigger: \".o_web_settings_dashboard, .oe_form_configuration\",\n        run: function() {}, // this is a check\n        isCheck: true,\n    }\n];\n\ntour.register('trial_user_invite_from_setting_dashboard_warning', {test: true},\n    tourInviteUserFromSettingDashboardSteps,\n);\ntour.register('trial_user_invite_from_setting_dashboard_no_warning', {test: true},\n    tourInviteUserFromSettingDashboardSteps.filter(step => !step.warning_step),\n);\n\n\n/* ----------------------------------------------------------------------\n * Test Module installation warning from General Settings\n */\n\nvar tourSettingsInstallModuleSteps = [\n    {\n        content: \"Open 'Settings' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_administration\"]',\n    },\n    {\n        content: \"Open 'General Settings' menu\",\n        trigger: \".o_web_settings_dashboard, \" +\n                 \".oe_form_configuration.o_base_settings, \" +\n                 \".oe_form_configuration.o_base_settings_view\",\n        run: function (actions) {\n            if ($('.o_web_settings_dashboard').length) {\n                // in v12.0 the \"Settings\" app open by default the custom dashboard\n                // which is not yet merged with the \"General Settings\", so we need\n                // to open that menu\n                actions.click('a[data-menu-xmlid=\"base_setup.menu_config\"]');\n            }\n        }\n    },\n    {\n        content: \"Wait for 'General Settings' to be displayed\",\n        trigger: \".oe_form_configuration.o_base_settings, \" +\n                 \".oe_form_configuration.o_base_settings_view\",\n        run: function() {}, // this is a check\n        isCheck: true,\n    },\n    {\n        content: \"Enable OAuth module\",\n        trigger: 'label[for*=\"module_auth_oauth\"], #module_auth_oauth label.o_form_label',\n    },\n    // < 16.0: warning should be displayed right after clicking on the settings\n    checkPricingChangeWarningShown({variant: 'onChange'}),\n    confirmPricingChange({variant: 'onChange', button: 'I get it'}),\n    {\n        content: \"Click on 'Save'\",\n        trigger: \".o_form_button_save, button.btn-primary[type=button][name=execute]\",\n    },\n    // >= 16.0: warning should be displayed only when saving the settings\n    checkPricingChangeWarningShown({variant: 'onSave'}),\n    confirmPricingChange({variant: 'onSave'}),\n    {\n        content: \"Wait for the save to complete\",\n        trigger: \".o_form_button_save:not(:disabled), button.btn-primary[type=button][name=execute]:not(:disabled)\",\n        run: function() {}, // this is a check\n        isCheck: true,\n    },\n];\n\ntour.register('trial_settings_install_module_on_change_warning', {test: true},\n    tourSettingsInstallModuleSteps.filter(step => (step.variant || 'onChange') == 'onChange'),\n);\ntour.register('trial_settings_install_module_on_change_no_warning', {test: true},\n    tourSettingsInstallModuleSteps.filter(step => (step.variant || 'onChange') == 'onChange' && !step.warning_step),\n);\ntour.register('trial_settings_install_module_on_save_warning', {test: true},\n    tourSettingsInstallModuleSteps.filter(step => (step.variant || 'onSave') == 'onSave'),\n);\ntour.register('trial_settings_install_module_on_save_no_warning', {test: true},\n    tourSettingsInstallModuleSteps.filter(step => (step.variant || 'onSave') == 'onSave' && !step.warning_step),\n);\n\n/* ----------------------------------------------------------------------\n * Test Module installation warning from Apps\n */\n\nvar tourAppsModuleInstallSteps = [\n    {\n        content: \"Open 'Apps' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_management\"]',\n    },\n    // For kanban\n    {\n        content: \"Click on 'Install' button\",\n        trigger: '.o_kanban_record .button_immediate_install',\n        variant: 'view_kanban',\n    },\n    // For form\n    {\n        content: \"Open app record dropdown\",\n        trigger: '.o_kanban_record:has(.button_immediate_install):first .dropdown-toggle',\n        variant: 'view_form',\n    },\n    {\n        content: \"Open app 'Module info'\",\n        trigger: \".o_kanban_record:has(.button_immediate_install):first .oe_kanban_action_a\",\n        variant: 'view_form',\n    },\n    {\n        content: \"Click on 'Install' button\",\n        trigger: '.o_form_view .button_immediate_install',\n        variant: 'view_form',\n    },\n    checkPricingChangeWarningShown(),\n    confirmPricingChange(),\n    {\n        content: \"Wait for completion\",\n        // saas_trial custom. will force button text to \"Installed\" after\n        // button_immediate_install() returns, wait for it\n        trigger: \"body:not(.o_ui_blocked) .button_immediate_install:contains(Installed)\",\n        run: function() {}, // this is a check\n        isCheck: true,\n    }\n];\n\ntour.register('trial_apps_install_module_kanban_warning', {test: true},\n    tourAppsModuleInstallSteps.filter(step => (step.variant || 'view_kanban') == 'view_kanban'),\n);\ntour.register('trial_apps_install_module_kanban_no_warning', {test: true},\n    tourAppsModuleInstallSteps.filter(step => (step.variant || 'view_kanban') == 'view_kanban' && !step.warning_step),\n);\ntour.register('trial_apps_install_module_form_warning', {test: true},\n    tourAppsModuleInstallSteps.filter(step => (step.variant || 'view_form') == 'view_form'),\n);\ntour.register('trial_apps_install_module_form_no_warning', {test: true},\n    tourAppsModuleInstallSteps.filter(step => (step.variant || 'view_form') == 'view_form' && !step.warning_step),\n);\n\n/* ----------------------------------------------------------------------\n * Test Company creation warning\n */\n\nvar tourCompanyCreationSteps = [\n    {\n        content: \"Open 'Settings' app\",\n        trigger: '.o_app[data-menu-xmlid=\"base.menu_administration\"]',\n    },\n    {\n        content: \"Click on 'Users & Companies' menu\",\n        trigger: '.dropdown-toggle[data-menu-xmlid=\"base.menu_users\"]',\n    },\n    {\n        content: \"Click on 'Companies' menu\",\n        trigger: '.dropdown-item[data-menu-xmlid=\"base.menu_action_res_company_form\"]',\n    },\n    {\n        content: \"Click on 'Create' button\",\n        trigger: '.o_list_button_add',\n    },\n    {\n        content: \"Fill company name\",\n        trigger: 'div[name=\"name\"] input',\n        run: function (actions) {\n            let companyName = \"MyNewCompany-\" + Date.now();\n            if (actions.text_blur) {\n                actions.text_blur(companyName);\n            } else {  // version <= saas~13.1\n                actions.text(companyName);\n                this.$anchor.trigger('focusout');\n                this.$anchor.trigger('blur');\n            }\n        }\n    },\n    {\n        content: \"Click on 'Save' button\",\n        trigger: '.o_form_button_save',\n        run: function (actions) {\n            if (!window.localStorage.getItem(\"running_tour\")) {\n                // >= saas~16.3: ensure \"running_tour\" is set in local storage\n                // to avoid the page being reloaded once the company is created\n                window.localStorage.setItem(\"running_tour\", \"_dummy_to_skip_page_reload_\");\n            }\n            actions.click();\n        }\n    },\n    checkPricingChangeWarningShown(),\n    confirmPricingChange(),\n    {\n        content: \"Wait for record save to complete\",\n        trigger: '.o_form_saved, .o_form_button_edit',\n        run: function() {}, // this is a check\n        isCheck: true,\n    }\n];\n\ntour.register('trial_company_creation_warning', {test: true},\n    tourCompanyCreationSteps,\n);\ntour.register('trial_company_creation_no_warning', {test: true},\n    tourCompanyCreationSteps.filter(step => !step.warning_step),\n);\n\n/* ----------------------------------------------------------------------\n * Test Module installation warning from Helpdesk Team\n */\n\nvar tourHelpdeskTeamModuleOptionSteps = [\n    {\n        content: \"Open 'Helpdesk' app\",\n        trigger: '.o_app[data-menu-xmlid=\"helpdesk.menu_helpdesk_root\"]',\n    },\n    {\n        content: \"Open 'Configuration' menu\",\n        trigger: '.dropdown-toggle[data-menu-xmlid=\"helpdesk.helpdesk_menu_config\"]',\n    },\n    {\n        content: \"Open 'Helpdesk Team' menu\",\n        trigger: '.dropdown-item[data-menu-xmlid=\"helpdesk.helpdesk_team_menu\"]',\n    },\n    {\n        content: \"Click on 'Create' button\",\n        trigger: '.o_list_button_add',\n    },\n    {\n        content: \"Fill Helpdesk Team's name\",\n        trigger: 'div[name=name] textarea, input#name, input[name=name]',\n        run: function (actions) {\n            // append epoch to ensure team name is unique\n            // (required to avoid duplicated mail.alias error   )\n            actions.text(\"warning_team\" + \"_\" + Date.now());\n        },\n    },\n    {\n        content: \"Enable 'eLearning' option (website_helpdesk_slides)\",\n        trigger: 'label[for=use_website_helpdesk_slides], div[name=use_website_helpdesk_slides] input',\n        run: 'click',\n    },\n    // < 16.0: warning should be displayed right after clicking on the settings\n    checkPricingChangeWarningShown({variant: 'onChange'}),\n    confirmPricingChange({variant: 'onChange', button: 'I get it'}),\n    {\n        content: \"Click on 'Save'\",\n        trigger: \".o_form_button_save\",\n    },\n    // >= 16.0: warning should be displayed only when saving the settings\n    checkPricingChangeWarningShown({variant: 'onSave'}),\n    confirmPricingChange({variant: 'onSave'}),\n    {\n        content: \"Wait for the save to complete\",\n        trigger: \".o_form_button_save:not(:disabled), .o_form_button_edit\",\n        run: function() {}, // this is a check\n        isCheck: true,\n    },\n];\n\ntour.register('trial_helpdesk_team_install_module_on_change_warning', {test: true},\n    tourHelpdeskTeamModuleOptionSteps.filter(step => (step.variant || 'onChange') == 'onChange'),\n);\ntour.register('trial_helpdesk_team_install_module_on_change_no_warning', {test: true},\n    tourHelpdeskTeamModuleOptionSteps.filter(step => (step.variant || 'onChange') == 'onChange' && !step.warning_step),\n);\ntour.register('trial_helpdesk_team_install_module_on_save_warning', {test: true},\n    tourHelpdeskTeamModuleOptionSteps.filter(step => (step.variant || 'onSave') == 'onSave'),\n);\ntour.register('trial_helpdesk_team_install_module_on_save_no_warning', {test: true},\n    tourHelpdeskTeamModuleOptionSteps.filter(step => (step.variant || 'onSave') == 'onSave' && !step.warning_step),\n);\n\n});\n", "odoo.define('odoo.test.trial.tours', ['web_tour.tour'], function (require) {\n\"use strict\";\n\nvar tour = require(\"web_tour.tour\");\n\ntour.register('trial_resend_activation_email_backend', {url: '/web', test: true}, [\n    {\n        content: \"Click on navbar Pending Activation button\",\n        trigger: \".o_main_navbar .oe_expiration_tag a\",\n    },\n    {\n        content: \"Fill the modal\",\n        trigger: 'input[name=email]',\n        run: 'text customer@example.net',\n    },\n    {\n        content: \"Click on modal resend button\",\n        trigger: 'input[type=submit], button:contains(Resend)',\n    },\n    {\n        content: \"Check that email was successfully sent.\",\n        trigger: '*:contains(An activation email has been successfully sent)',\n        run: function () { }, // this is a check\n    }\n]);\n\ntour.register('trial_rr_upgrade_available_user', {url: '/web', test: true}, [\n    // Employee should see that an upgrade is available (in the statusbar) but should see any upgrade button\n    {\n        content: \"Click on the upgrade navbar button\",\n        trigger: \".o_main_navbar .o_rr_widget a\",\n    },\n    {\n        content: \"Check that there is no button\",\n        trigger: \".o_main_navbar .o_rr_widget .rr-widget-dropdown\",\n        run: function () {\n            var $btns = this.$anchor.find('a.btn:visible, button:visible');\n            if ($btns.length !== 0) {\n                console.error('User should not see any upgrade button (' + $btns.length + ' found)');\n            }\n        }\n    },\n    {\n        content: \"Check that user should ask their admin for upgrade\",\n        trigger: \".o_main_navbar .o_rr_widget .rr_users_only:contains(Contact the administrator)\",\n        run: function () {} // this is a check\n    },\n]);\n\n\ntour.register('trial_rr_upgrade_available_admin', {url: '/web', test: true}, [\n    // Admin see that there is a new upgrade availabe, open upgrade and cancel it (not sure as he has not tested yet)\n    {\n        content: \"Click on the upgrade navbar button\",\n        trigger: \".o_main_navbar .o_rr_widget a\",\n    },\n    {\n        content: \"Click on Upgrade Now\",\n        trigger: 'button.o_prod_upgrade',\n    },\n    {\n        content: \"Hum, not sure yet, click on Cancel\",\n        trigger: '.o_prod_upgrade_cancel',\n    },\n    // Admin has now propertly tested the upgrade (don't they?) and start real production upgrade\n    {\n        content: \"Click on the upgrade navbar button\",\n        trigger: \".o_main_navbar .o_rr_widget a\",\n    },\n    {\n        content: \"Click on 'Upgrade Now'\",\n        trigger: 'button.o_prod_upgrade',\n    },\n    {\n        content: \"Click on 'Confirm Upgrade'\",\n        trigger: '.o_prod_upgrade_confirm',\n    },\n    {\n        content: \"Check that upgrade has been queued\",\n        trigger: '.modal-body:contains(Production upgrade requested successfully)',\n    },\n]);\n\ntour.register('trial_rr_upgrade_dismiss', {url: '/web', test: true}, [\n    // Admin see that there is a new upgrade available, open upgrade but dismiss it\n    // (he want to stay on LTS version-for now)\n    {\n        content: \"Click on the upgrade navbar button\",\n        trigger: \".o_main_navbar .o_rr_widget a\",\n    },\n    {\n        content: \"Click on 'Upgrade Later'\",\n        trigger: \"button.o_prod_dismiss\",\n    },\n    {\n        // dummy check only to ensure dismiss RPC are completed\n        trigger: \".o_main_navbar\",\n        run: function () {},\n    },\n]);\n\n});\n", "/** @odoo-module **/\n\nimport tour from 'web_tour.tour';\n\nconst unselectAllFeatures = function() {\n    return {\n        content: \"Unselect all features\",\n        trigger: \".page_feature_selection.o_configurator_show\",\n        run: function () {\n            this.$anchor.find(\".o_configurator_feature_status.fa-check-circle\").click();\n        }\n    };\n};\n\nconst selectionFeature = function(name) {\n    return {\n        content: \"Selecting feature: \" + name,\n        trigger: \".card .card-title:contains(\" + name + \")\",\n    };\n};\n\ntour.register('trial_website_configurator', {url: \"/website/configurator\", test: true}, [\n    // Configurator first screen\n    {\n        content: \"click next\",\n        trigger: 'button.o_configurator_show',\n    },\n    // Description screen\n    {\n        content: \"select a website type\",\n        trigger: 'a.o_change_website_type',\n    }, {\n        content: \"insert a website industry\",\n        trigger: '.o_configurator_industry input',\n        run: 'text ab',\n    }, {\n        content: \"select a website industry from the autocomplete\",\n        trigger: '.o_configurator_industry_wrapper ul li a:contains(\"abbey\")',\n    }, {\n        content: \"select an objective\",\n        trigger: '.o_configurator_purpose_dd a',\n    }, {\n        content: \"choose from the objective list\",\n        trigger: 'a.o_change_website_purpose',\n    },\n    // Palette screen\n    {\n        content: \"chose a palette card\",\n        trigger: '.palette_card',\n    },\n    // Features screen\n    {\n        content: \"Check that we're on Free Plan by default\",\n        trigger: \"p:contains(Free Plan)\",\n        run: function () {}, // this is check\n    },\n    // - check for app that force out of 1-app-free mode (to trial mode)\n    unselectAllFeatures(),\n    selectionFeature(\"Appointment\"),\n    {\n        content: \"Check that Appointment force to Standard Plan (trial mode)\",\n        trigger: \"p:contains(Standard Plan (15 days trial))\",\n        run: function () {}, // this is a check\n    },\n    // - check for single free app\n    unselectAllFeatures(),\n    selectionFeature(\"Shop\"),\n    {\n        content: \"Check that selecting only Shop keep in 1-app-free mode\",\n        trigger: \"p:contains(Free Plan)\",\n        run: function () {}, // this is a check\n    },\n    selectionFeature(\"Events\"),\n    {\n        content: \"Check that selecting both Shop and Events force to Standard Plan (trial mode)\",\n        trigger: \"p:contains(Standard Plan (15 days trial))\",\n        run: function () {}, // this is a check\n    },\n    // Exit configurator\n    {\n        content: \"Skip configurator\",\n        trigger: \"button:contains(Skip and start from scratch)\",\n    },\n]);\n", "/** @odoo-module **/\n\nimport {Markup} from \"web.utils\";\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('sale_timesheet_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [...stepUtils.goToAppSteps(\"sale.sale_menu_root\", 'Go to the Sales App'),\n{\n    trigger: 'button.o_list_button_add',\n    content: 'Click on CREATE button to create a quotation with service products.',\n}, {\n    trigger: 'div[name=\"partner_id\"] input',\n    content: 'Add the customer for this quotation (e.g. Brandon Freeman)',\n    run: 'text Brandon Freeman',\n}, {\n    trigger: 'div[name=\"partner_id\"] ul > li:first-child > a:contains(Freeman)',\n    content: 'Select the first item on the autocomplete dropdown',\n},\n{\n    trigger: 'td.o_field_x2many_list_row_add > a:first-child',\n    content: 'Click on \"Add a product\" to add a new product. We will add a service product.',\n}, {\n    trigger: '.o_field_html[name=\"product_id\"], .o_field_widget[name=\"product_template_id\"] input',\n    content: Markup('Select a prepaid service product <i>(e.g. Service Product (Prepaid Hours))</i>'),\n    run: 'text Service Product (Prepaid Hours)',\n}, {\n    trigger: 'ul.ui-autocomplete a:contains(Service Product (Prepaid Hours))',\n    content: 'Select the prepaid service product in the autocomplete dropdown',\n}, {\n    trigger: 'div[name=\"product_uom_qty\"] input',\n    content: \"Add 10 hours as ordered quantity for this product.\",\n    run: 'text 10',\n}, {\n    trigger: '.o_field_widget[name=price_subtotal]:contains(2,500.00)',\n    run() {},\n}, {\n    trigger: 'div[name=\"name\"] textarea:propValueContains(Service Product)',\n    run: () => {}\n}, {\n    trigger: 'button[name=\"action_confirm\"]',\n    content: 'Click on Confirm button to create a sale order with this quotation.',\n}, {\n    content: 'Wait for the confirmation to finish. State should be \"Sales Order\"',\n    trigger: '.o_field_widget[name=state] .o_arrow_button_current:contains(\"Sales Order\")',\n    isCheck: true,\n}, stepUtils.toggleHomeMenu(),\n...stepUtils.goToAppSteps(\"project.menu_main_pm\", 'Go to the Project app.'),\n{\n    trigger: 'button.o-kanban-button-new',\n    content: 'Add a new project.',\n}, {\n    trigger: '.o_field_widget.o_project_name input',\n    content: 'Select your project name (e.g. Project for Freeman)',\n    run: 'text Project for Freeman',\n}, {\n    trigger: 'div[name=\"allow_billable\"] input',\n    run: 'click',\n}, {\n    trigger: 'button[name=\"action_view_tasks\"]',\n    content: 'Click on Create button to create and enter to this newest project.',\n}, {\n    trigger: 'div.o_kanban_header > div:first-child input',\n    content: 'Select a name of your kanban column (e.g. To Do)',\n    run: 'text To Do',\n}, {\n    trigger: 'button.o_kanban_add',\n    content: 'Click on Add button to create the column.',\n}, {\n    trigger: 'button.o-kanban-button-new',\n    content: 'Click on Create button to create a task into your project.',\n}, {\n    trigger: 'div[name=\"display_name\"] > input',\n    content: 'Select the name of the task (e.g. Onboarding)',\n    run: 'text Onboarding',\n}, {\n    trigger: 'button.o_kanban_edit',\n    content: 'Click on Edit button to enter to the form view of the task.',\n    position: 'bottom',\n}, {\n    trigger: 'div[name=\"partner_id\"] input',\n    content: Markup('Select the customer of your Sales Order <i>(e.g. Brandon Freeman)</i>. Since we have a Sales Order for this customer with a prepaid service product which the remaining hours to deliver is greater than 0, the Sales Order Item in the task should be contain the Sales Order Item containing this prepaid service product.'),\n    run: 'text Brandon Freeman',\n}, {\n    trigger: 'div[name=\"partner_id\"] ul > li:first-child > a:contains(Freeman)',\n    content: 'Select the customer in the autocomplete dropdown.',\n}, {\n    trigger: 'a.nav-link:contains(Timesheets)',\n    extra_trigger: 'div.o_notebook_headers',\n    content: 'Click on Timesheets page to log a timesheet',\n}, {\n    trigger: 'div[name=\"timesheet_ids\"] td.o_field_x2many_list_row_add a[role=\"button\"]',\n    content: 'Click on Add a line to create a new timesheet into the task.',\n}, {\n    trigger: 'div[name=\"unit_amount\"] input',\n    content: 'Enter one hour for this timesheet',\n    run: 'text 1',\n}, {\n    trigger: 'i.o_optional_columns_dropdown_toggle',\n    content: 'The so_line field should be hidden by default. We check if it is the case by adding this field in the timesheet list view',\n}, {\n    trigger: 'input[name=\"so_line\"]',\n    content: 'Check the so_line field to display the column on the list view.',\n    run: function (actions) {\n        if (!this.$anchor.prop('checked')) {\n            actions.click(this.$anchor);\n        }\n    },\n}, {\n    trigger: 'button[name=\"action_view_so\"]',\n    content: 'Click on this stat button to see the SO linked to the SOL of the task.',\n}, {\n    trigger: 'div[name=\"order_line\"]',\n    content: 'Check if the quantity delivered is equal to 1 hour.',\n    run: function () {\n        const $header = this.$anchor.find('thead > tr');\n        if (!$header || $header.length === 0)\n            console.error('No Sales Order Item is found in the Sales Order.');\n        const tr = $header[0];\n        let index = -1;\n        for (let i = 0; i < tr.children.length; i++) {\n            const th = tr.children.item(i);\n            if (th.dataset && th.dataset.name === 'qty_delivered')\n                index = i;\n        }\n        const qtyDelivered = this.$anchor.find(`tbody > tr:first-child > td.o_data_cell:eq(${index})`).text();\n        if (qtyDelivered !== \"1.00\")\n            console.error('The quantity delivered on this Sales Order Item should be equal to 1.00 hour. qtyDelivered = ' + qtyDelivered);\n    },\n}, {\n    trigger: 'button[data-menu-xmlid=\"project.menu_project_config\"]',\n    content: 'Click on the Configuration menu.',\n}, {\n    trigger: '.dropdown-item[data-menu-xmlid=\"project.menu_projects_config\"]',\n    content: 'Select Configuration > Projects.',\n}, {\n    trigger: 'button.o_list_button_add',\n    content: 'Click on Create button to create a new project and see the different configuration available for the project.',\n}, {\n    trigger: 'a.nav-link[name=\"settings\"]',\n    extra_trigger: 'div.o_notebook_headers',\n    content: 'Click on Settings page to check the allow_billable checkbox',\n}, {\n    trigger: 'div[name=\"allow_billable\"] input',\n    content: 'Check the allow_billable',\n    run: function (actions) {\n        if (!this.$anchor.prop('checked')) {\n            actions.click(this.$anchor);\n        }\n    }\n}, {\n    trigger: 'div[name=\"partner_id\"] input',\n    content: Markup('Add the customer for this project to select an SO and SOL for this customer <i>(e.g. Brandon Freeman)</i>.'),\n    run: 'text Brandon Freeman',\n}, {\n    trigger: 'div[name=\"partner_id\"] ul > li:first-child > a:contains(Freeman)',\n    content: 'Select the customer in the autocomplete dropdown',\n}, {\n    trigger: 'div[name=\"sale_line_id\"] input',\n    content: 'Select a Sales Order Item as Default Sales Order Item for each task in this project.',\n    run: 'text S',\n}, {\n    trigger: '[name=\"sale_line_id\"] ul.ui-autocomplete > li:first-child > a:not(:has(i.fa))',\n    content: 'Select the Sales Order Item in the autocomplete dropdown.',\n}, {\n    trigger: 'a.nav-link[name=\"billing_employee_rate\"]',\n    extra_trigger: 'div.o_notebook_headers',\n    content: 'Click on Invoicing tab to configure the invoicing of this project.',\n}, {\n    trigger: 'div[name=\"sale_line_employee_ids\"] td.o_field_x2many_list_row_add > a[role=\"button\"]',\n    content: 'Click on Add a line on the mapping list view.',\n}, {\n    trigger: 'div[name=\"sale_line_employee_ids\"] div[name=\"employee_id\"] input',\n    content: 'Select an employee to link a Sales Order Item on his timesheets into this project.',\n    run: 'click',\n}, {\n    trigger: '[name=\"employee_id\"] ul.ui-autocomplete > li:first-child > a:not(:has(i.fa))',\n    content: 'Select the first employee in the autocomplete dropdown',\n}, {\n    trigger: 'div[name=\"sale_line_employee_ids\"] div[name=\"sale_line_id\"] input',\n    content: 'Select the Sales Order Item to link to the timesheets of this employee.',\n    position: 'bottom',\n    run: 'text S',\n}, {\n    trigger: '[name=sale_line_id] ul.ui-autocomplete > li:first-child > a:not(:has(i.fa))',\n    content: 'Select the first Sales Order Item in the autocomplete dropdown.',\n}, {\n    trigger: 'h1 > div[name=\"name\"] > div > textarea',\n    content: 'Set Project name',\n    run: 'text Project with employee mapping',\n}, {\n    trigger: '[data-menu-xmlid=\"project.menu_projects\"]',\n    content: 'Select Project main menu',\n}, {\n    trigger: '.o_kanban_record:contains(\"Project for Freeman\") .o_dropdown_kanban .dropdown-toggle',\n    content: 'Open the project dropdown',\n}, {\n    trigger: '.o_kanban_record:contains(\"Project for Freeman\") .dropdown-menu a:contains(\"Settings\")',\n    content: 'Start editing the project',\n    // timer: 300,\n}, {\n    trigger: 'div[name=\"partner_id\"] input',\n    content: Markup('Add the customer for this project to select an SO and SOL for this customer <i>(e.g. Brandon Freeman)</i>.'),\n    run: 'text Brandon Freeman',\n}, {\n    trigger: 'div[name=\"partner_id\"] ul > li:first-child > a:contains(Freeman)',\n    content: 'Select the customer in the autocomplete dropdown',\n}, {\n    trigger: 'a.nav-link[name=\"settings\"]',\n    extra_trigger: 'div.o_notebook_headers',\n    content: 'Click on Settings tab to configure this project.',\n}, {\n    trigger: 'div[name=\"sale_line_id\"] input',\n    content: 'Select the first sale order of the list',\n    run: 'text Prepaid',\n}, {\n    trigger: 'ul.ui-autocomplete > li:first-child > a:not(:has(i.fa))',\n    content: 'Select the first item on the autocomplete dropdown',\n}, {\n    trigger: '.o_back_button',\n    content: 'Go back to the kanban view the project created',\n}, {\n    trigger: '.oe_kanban_global_click :contains(\"Project for Freeman\")',\n    content: 'Open the project',\n}, {\n    trigger: \".o_project_updates_breadcrumb\",\n    content: 'Open Updates',\n}, {\n    trigger: \".o_rightpanel_section[name='sales'] .o_rightpanel_title:contains('Sales')\",\n    content: 'Check the user sees Sales section',\n    isCheck: true,\n}, {\n    trigger: \".o_rightpanel_section[name='sales'] .o_rightpanel_data:contains('Prepaid Hours')\",\n    content: 'Check the user sees a line in the Sales section',\n    // timer: 300,\n    isCheck: true,\n}, {\n    trigger: \".o_rightpanel_section .o-form-buttonbox .o_stat_text:contains('Sales Orders')\",\n    content: 'Check the user sees Sales Orders Stat Button',\n    isCheck: true,\n}, {\n    trigger: \".o_rightpanel_section[name='profitability'] .o_rightpanel_title:contains('Profitability')\",\n    content: 'Check the user sees Profitability section',\n    isCheck: true,\n}, {\n    trigger: \".o_rightpanel_section[name='profitability'] .o_rightpanel_data > .o_rightpanel_subsection:eq(0) > table > thead > tr > th:eq(0):contains('Revenues')\",\n    content: 'Check the user sees Profitability subsection row',\n    isCheck: true,\n}, {\n    trigger: \".o_rightpanel_section[name='profitability'] .o_rightpanel_data > .o_rightpanel_subsection:eq(1) > table > thead > tr > th:eq(0):contains('Costs')\",\n    content: 'Check the user sees Profitability subsection row',\n    isCheck: true,\n}, {\n    trigger: \".o_rightpanel_section[name='profitability'] .o_rightpanel_data > .o_rightpanel_subsection:eq(2) > table > thead > tr > th:eq(0):contains('Margin')\",\n    content: 'Check the user sees Profitability subsection row',\n    isCheck: true,\n}, {\n    trigger: \".o_rightpanel_section[name='milestones'] .o_rightpanel_title:contains('Milestones')\",\n    content: 'Check the user sees Milestones section',\n}, {\n    trigger: \".o_add_milestone a\",\n    content: \"Add a first milestone\",\n}, {\n    trigger: \"div.o_field_widget[name=name] input\",\n    content: \"Edit new Milestone\",\n    run: 'text New milestone',\n}, {\n    trigger: \"input[data-field=deadline]\",\n    content: \"Edit new Milestone\",\n    run: 'text 12/12/2099',\n}, {\n    trigger: \".modal-footer button\",\n    content: \"Save new Milestone\",\n}, {\n    trigger: \".o-kanban-button-new\",\n    content: \"Create new Project Update\",\n}, {\n    trigger: \"div.o_field_widget[name=name] input\",\n    content: \"Give a name to Project Update\",\n    run: 'text New update',\n}, {\n    trigger: \".o_field_widget[name=description] h3:contains('Sales')\",\n    content: \"Sales title must be in description in description\",\n    isCheck: true,\n    }, {\n    trigger: \".o_field_widget[name=description] td:contains('Prepaid Hours')\",\n    content: \"Prepaid Hours title must be in description\",\n    isCheck: true,\n}, {\n    trigger: \".o_field_widget[name=description] h3:contains('Profitability')\",\n    content: \"Profitability title must be in description\",\n    isCheck: true,\n}, {\n    trigger: \".o_field_widget[name=description] h3:contains('Milestones')\",\n    content: \"Milestones title must be in description\",\n    isCheck: true,\n},\n// Those steps are currently needed in order to prevent the following issue:\n// \"Form views in edition mode are automatically saved when the page is closed, which leads to stray network requests and inconsistencies.\"\n{\n    trigger: '.o_back_button',\n    content: 'Go back to the kanban view and the project update will be added on that view',\n}, {\n    trigger: '.o_controller_with_rightpanel',\n    content: 'Check the kanban view of project update is rendered to be sure the user leaves the form view and the project update is created',\n    run: function() {},\n},\nstepUtils.toggleHomeMenu(),\n...stepUtils.goToAppSteps(\"project.menu_main_pm\", 'Go to the Project app.'),\n]});\n", "/** @odoo-module */\n\nimport { registry } from \"@web/core/registry\";\nimport { TourError } from \"@web_tour/tour_service/tour_utils\";\n\nlet startingNumberOfSheetsInGroup = 0;\n\nfunction assertNSheetsInGroup(number) {\n    const actualNumber = document.querySelectorAll(\".o_list_table tr.o_data_row\").length;\n    if (actualNumber !== number) {\n        throw new TourError(`Expected ${number} sheets in the dashbord group, got ${actualNumber}`);\n    }\n}\n\nfunction focusFirstSheetInModal() {\n    const sheetImg = document.querySelector(\"img.o-sp-dialog-item-img\");\n    sheetImg.dispatchEvent(new MouseEvent(\"focus\"));\n}\n\nregistry.category(\"web_tour.tours\").add(\n    \"spreadsheet_dashboard_document_add_document_to_dashboard_group\",\n    {\n        test: true,\n        url: \"/web\",\n        steps: () => [\n        {\n            trigger:\n                '.o_app[data-menu-xmlid=\"spreadsheet_dashboard.spreadsheet_dashboard_menu_root\"]',\n            content: \"Open dashboard app\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                'button[data-menu-xmlid=\"spreadsheet_dashboard.spreadsheet_dashboard_menu_configuration\"]',\n            content: \"Open configuration menu\",\n            run: \"click\",\n        },\n        {\n            trigger:\n                'a[data-menu-xmlid=\"spreadsheet_dashboard.spreadsheet_dashboard_menu_configuration_dashboards\"]',\n            content: \"Open dashboard configuration menu\",\n            run: \"click\",\n        },\n        {\n            trigger: 'tbody tr td[name=\"name\"]',\n            content: \"Open a dashboard group from list view\",\n            run: \"click\",\n        },\n        {\n            trigger: 'button[name=\"action_add_document_spreadsheet_to_dashboard\"]',\n            run: () => {\n                startingNumberOfSheetsInGroup = document.querySelectorAll(\n                    \".o_list_table tr.o_data_row\"\n                ).length;\n            },\n        },\n        {\n            trigger: 'button[name=\"action_add_document_spreadsheet_to_dashboard\"]',\n            content: \"Open add document to dashboard modal\",\n            run: \"click\",\n        },\n        {\n            trigger: \"img.o-sp-dialog-item-img\",\n            content: \"Focus a spreadsheet\",\n            run: focusFirstSheetInModal,\n        },\n        {\n            trigger: \"button.btn-primary\",\n            content: \"Click confirm button\",\n            run: \"click\",\n        },\n        {\n            trigger: `.o_data_row`,\n            content: \"A spreadsheet was added as dashboard\",\n            run: () => assertNSheetsInGroup(startingNumberOfSheetsInGroup + 1),\n        },\n        {\n            trigger: 'button[name=\"action_add_document_spreadsheet_to_dashboard\"]',\n            content: \"Open add document to dashboard modal\",\n            run: \"click\",\n        },\n        {\n            trigger: \"img.o-sp-dialog-item-img\",\n            content: \"Focus a spreadsheet\",\n            run: focusFirstSheetInModal,\n        },\n        {\n            trigger: \"img.o-sp-dialog-item-img\",\n            content: \"Double click a spreadsheet\",\n            run: \"dblclick\",\n        },\n        {\n            trigger: `.o_data_row`,\n            content: \"A spreadsheet was added as dashboard\",\n            run: () => assertNSheetsInGroup(startingNumberOfSheetsInGroup + 2),\n        },\n    ]\n});\n", "/** @odoo-module */\n\n/**\n * Public user search Knowledge flow tour (for published articles).\n * Features tested:\n * - Check that tree contains all articles\n * - Write search term in search bar\n * - Check that search tree renders the correct matching articles\n * - Clean search bar\n */\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('knowledge_public_search_tour', {\n    test: true,\n    steps: () => [{ // Check that section tree contains all articles\n    content: \"Check that search tree contains 'My Article'\",\n    trigger: '.o_article_name:contains(\"My Article\")',\n    run() {},\n}, {\n    content: \"Unfold 'My Article'\", // Unfold because 'My Article' wasn't added to the unfolded articles\n    trigger: '.o_article_active .o_article_caret',\n}, {\n    content: \"Check that search tree contains 'Child Article'\",\n    trigger: '.o_article_name:contains(\"Child Article\")',\n    run() {},\n}, {\n    content: \"Check that search tree contains 'Sibling Article'\",\n    trigger: '.o_article_name:contains(\"Sibling Article\")',\n    run() {},\n}, { // Write search term in search bar\n    content: \"Write 'M' in the search bar\",\n    trigger: '.knowledge_search_bar',\n    run: 'text My'\n}, {\n    content: \"Trigger keyup event to start the search\",\n    trigger: '.knowledge_search_bar',\n    run() {\n        $('.knowledge_search_bar').trigger($.Event(\"keyup\", { keyCode: 13 }));\n    },\n}, { // Check tree rendering with matching articles\n    content: \"Check that search tree contains 'My Article'\",\n    trigger: '.o_article_name:contains(\"My Article\")',\n    run() {},\n}, {\n    content: \"Check that search tree doesn't contain 'Child Article'\",\n    trigger: '.o_knowledge_tree:not(:has(.o_article_name:contains(\"Child Article\")))',\n    run() {},\n}, {\n    content: \"Check that search tree doesn't contain 'Sibling Article'\",\n    trigger: '.o_knowledge_tree:not(:has(.o_article_name:contains(\"Sibling Article\")))',\n    run() {},\n}, { // Clean search bar\n    content: \"Clean search bar\",\n    trigger: '.knowledge_search_bar',\n    run: function (action) {\n        action.remove_text(\"\", \".knowledge_search_bar\");\n    },\n}]});\n", "/** @odoo-module **/\n/**\n * Add custom steps to handle the optional products modal introduced\n * by the product configurator module.\n */\nimport { registry } from \"@web/core/registry\";\nimport { patch } from \"@web/core/utils/patch\";\nimport \"website_sale.tour\";\n\npatch(registry.category(\"web_tour.tours\").get(\"shop_buy_product\"), \"patch_shop_buy_product\", {\n    steps() {\n        const originalSteps = this._super();\n        const addCartStepIndex = originalSteps.findIndex((step) => step.id === \"add_cart_step\");\n        originalSteps.splice(addCartStepIndex + 1, 1, {\n            content: \"click in modal on 'Proceed to checkout' button\",\n            trigger: 'button:contains(\"Proceed to Checkout\")',\n        });\n        return originalSteps; \n    },\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('website_sale_product_configurator_optional_products_tour', {\n    test: true,\n    steps: () => [{\n    name: 'Click Aluminium Option',\n    trigger: 'ul.js_add_cart_variants span:contains(\"Aluminium\")',\n    extra_trigger: 'ul.js_add_cart_variants span:contains(\"Aluminium\") ~ span.badge:contains(\"50.40\")',\n}, {\n    name: 'Add to cart',\n    trigger: '#add_to_cart',\n}, {\n    name: 'Check that modal was opened with the correct variant price',\n    trigger: 'main.oe_advanced_configurator_modal',\n    extra_trigger: 'main.oe_advanced_configurator_modal span:contains(\"800.40\")',\n    run: () => {},\n}]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nvar optionVariantImage;\n\nregistry.category(\"web_tour.tours\").add(\"a_shop_custom_attribute_value\", {\n    url: \"/shop?search=Customizable Desk\",\n    test: true,\n    steps: () => [{\n        content: \"click on Customizable Desk\",\n        trigger: '.oe_product_cart a:contains(\"Customizable Desk (TEST)\")',\n}, {\n    trigger: 'a.js_add_cart_json:has(i.fa-plus)',\n    run: 'click',\n}, {\n    trigger: 'span.oe_currency_value:contains(750)',\n    run: function (){}, // check\n}, {\n    id: 'add_cart_step',\n    trigger: 'a:contains(ADD TO CART)',\n    run: 'click',\n}, {\n    trigger: '.oe_advanced_configurator_modal .js_product:eq(1) div:contains(\"Conference Chair (TEST) (Steel)\")',\n    run: function () {\n        optionVariantImage = $('.oe_advanced_configurator_modal .js_product:eq(1) img.variant_image').attr('src');\n    }\n}, {\n    trigger: '.oe_advanced_configurator_modal .js_product:eq(1) input[data-value_name=\"Aluminium\"]',\n}, {\n    trigger: '.oe_advanced_configurator_modal .js_product:eq(1) div:contains(\"Conference Chair (TEST) (Aluminium)\")',\n    run: function () {\n        var newVariantImage = $('.oe_advanced_configurator_modal .js_product:eq(1) img.variant_image').attr('src');\n        if (newVariantImage !== optionVariantImage) {\n            $('<p>').text('image variant option src changed').insertAfter('.oe_advanced_configurator_modal .js_product:eq(1) .product-name');\n        }\n    }\n}, {\n    extra_trigger: '.oe_advanced_configurator_modal .js_product:eq(1) div:contains(\"image variant option src changed\")',\n    trigger: '.oe_advanced_configurator_modal .js_product:eq(1) input[data-value_name=\"Steel\"]',\n}, {\n    trigger: '.oe_price span:contains(22.90)',\n    run: function (){}, // check\n}, {\n    trigger: '.oe_advanced_configurator_modal .js_product:has(strong:contains(Conference Chair)) .js_add',\n    extra_trigger: '.oe_advanced_configurator_modal .js_product:has(strong:contains(Conference Chair))',\n    run: 'click'\n}, {\n    trigger: '.oe_advanced_configurator_modal .js_product:has(strong:contains(Chair floor protection)) .js_add',\n    extra_trigger: '.oe_advanced_configurator_modal .js_product:has(strong:contains(Chair floor protection))',\n    run: 'click'\n}, {\n    trigger: 'span:contains(1,557.00)',\n    run: function (){}, // check\n}, {\n    trigger: 'button:has(span:contains(Proceed to Checkout))',\n    run: 'click',\n}]});\n", "/** @odoo-module **/\n    \n    import { registry } from \"@web/core/registry\";\n\n    // This tour relies on a data created from the python test.\n    registry.category(\"web_tour.tours\").add('tour_variants_modal_window', {\n        test: true,\n        url: '/shop?search=Short (TEST)',\n        steps: () => [\n        {\n            content: \"Select the Short (TEST) product\",\n            trigger: '.oe_product_cart a:containsExact(\"Short (TEST)\")',\n        },\n        {\n            content: \"Click on the always variant\",\n            trigger: 'input[data-attribute_name=\"Always attribute size\"][data-value_name=\"M always\"]',\n        },\n        {\n            content: \"Click on the dynamic variant\",\n            trigger: 'input[data-attribute_name=\"Dynamic attribute size\"][data-value_name=\"M dynamic\"]',\n        },\n        {\n            content: \"Click on the never variant\",\n            trigger: 'input[data-attribute_name=\"Never attribute size\"][data-value_name=\"M never\"]',\n        },\n        {\n            content: \"Click on the never custom variant\",\n            trigger: 'input[data-attribute_name=\"Never attribute size custom\"][data-value_name=\"Yes never custom\"]',\n        },\n        {\n            trigger: 'input.variant_custom_value',\n            run: 'text TEST',\n        },\n        {\n            content: \"Click add to cart\",\n            trigger: '#add_to_cart',\n        },\n        {\n            content: \"Go through the modal window of the product configurator\",\n            extra_trigger: '.oe_advanced_configurator_modal',\n            trigger: 'button span:contains(Proceed to Checkout)',\n            run: 'click'\n        },\n        {\n            content: \"Check the product is in the cart\",\n            trigger: 'td.td-product_name:contains(Short (TEST))',\n        },\n        {\n            content: \"Check always variant\",\n            trigger: 'td.td-product_name:contains(M always)',\n        },\n        {\n            content: \"Check dynamic variant\",\n            trigger: 'td.td-product_name:contains(M dynamic)',\n        },\n        {\n            content: \"Check never variant\",\n            trigger: 'td.td-product_name:contains(Never attribute size: M never)',\n        },\n        {\n            content: \"Check never custom variant\",\n            trigger: 'td.td-product_name:contains(Never attribute size custom: Yes never custom: TEST)',\n        }\n    ]});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('website_sale_stock_multilang', {\n    test: true,\n    url: '/fr/shop?search=unavailable',\n    steps: () => [{\n        content: \"Open unavailable product page\",\n        trigger: 'a[content=\"unavailable_product\"]',\n    }, {\n        content: \"Check out of stock message\",\n        trigger: '#out_of_stock_message:contains(\"Hors-stock\")',\n        isCheck: true,\n    }, {\n        content: \"Check price\",\n        trigger: 'span:contains(\"123,45\")',\n        isCheck: true,\n    }, {\n        content: \"Open language selector\",\n        trigger: '.js_language_selector button',\n    }, {\n        content: \"Switch to English\",\n        trigger: '.js_change_lang[data-url_code=\"en\"]',\n    }, {\n        content: \"Check out of stock message\",\n        trigger: '#out_of_stock_message:contains(\"Out of stock\")',\n        isCheck: true,\n    }, {\n        content: \"Check price\",\n        trigger: 'span:contains(\"123.45\")',\n        isCheck: true,\n    }, {\n        content: \"Open language selector\",\n        trigger: '.js_language_selector button',\n    }, {\n        content: \"Switch to French\",\n        trigger: '.js_change_lang[data-url_code=\"fr\"]',\n    }, {\n        content: \"Check out of stock message\",\n        trigger: '#out_of_stock_message:contains(\"Hors-stock\")',\n        isCheck: true,\n    }, {\n        content: \"Check price\",\n        trigger: 'span:contains(\"123,45\")',\n        isCheck: true,\n    }],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('back_in_stock_notification_product', {\n        test: true,\n        url: '/shop?search=Macbook%20Pro',\n    steps: () => [\n        {\n            content: \"Open product page\",\n            trigger: 'a:contains(\"Macbook Pro\")',\n        },\n        {\n            content: \"Click on 'Be notified when back in stock'\",\n            trigger: '#product_stock_notification_message',\n        },\n        {\n            content: \"Fill email form\",\n            trigger: 'div[id=\"stock_notification_form\"] input[name=\"email\"]',\n            run: 'text test@test.test',\n        },\n        {\n            content: \"Click on the button\",\n            trigger: '#product_stock_notification_form_submit_button',\n        },\n        {\n            content: \"Success Message\",\n            trigger: '#stock_notification_success_message',\n        },\n    ],\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('website_sale_stock_message_after_close_onfigurator_modal_with_optional_products', {\n    // This tour relies on a data created from the python test.\n    test: true,\n    url: '/shop?search=Product With Optional (TEST)',\n    steps: () => [{\n        content: \"Select Customizable Desk\",\n        trigger: '.oe_product_cart a:contains(\"Product With Optional (TEST)\")',\n    }, {\n        content: \"Check that the stock quantity is displayed and correct\",\n        trigger: '#threshold_message:contains(\"30\")',\n        run: function () { },\n    }, {\n        content: \"Add to cart\",\n        trigger: '#add_to_cart',\n    }, {\n        content: \"Continue shoppping\",\n        extra_trigger: '.oe_advanced_configurator_modal',\n        trigger: 'button span:contains(Continue Shopping)',\n        run: 'click'\n    }, {\n        content: \"Check that the stock quantity is displayed and correct after adding to cart\",\n        trigger: '#threshold_message:contains(\"29\")',\n        run: function () { },\n    }\n    ]\n});\n\nregistry.category(\"web_tour.tours\").add('website_sale_stock_message_after_close_onfigurator_modal_without_optional_products', {\n    // This tour relies on a data created from the python test.\n    test: true,\n    url: '/shop?search=Product Without Optional (TEST)',\n    steps: () => [{\n        content: \"Select Office Lamp\",\n        trigger: '.oe_product_cart a:contains(\"Product Without Optional (TEST)\")',\n    }, {\n        content: \"Check that the stock quantity is displayed and correct\",\n        trigger: '#threshold_message:contains(\"30\")',\n        run: function () { },\n    }, {\n        content: \"Add to cart\",\n        trigger: '#add_to_cart',\n    }, {\n        content: \"Check that the stock quantity is displayed and correct after adding to cart\",\n        trigger: '#threshold_message:contains(\"29\")',\n        run: function () { },\n    }\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\n\nregistry.category(\"web_tour.tours\").add('shop_buy_subscription_product', {\n    test: true,\n    url: '/shop',\n    steps: () => [\n        {\n            content: \"Search streaming write text\",\n            trigger: 'form input[name=\"search\"]',\n            run: \"text Streaming SUB Week\",\n        },\n        {\n            content: \"Search streaming click\",\n            trigger: 'form:has(input[name=\"search\"]) .oe_search_button',\n        },\n        {\n            content: \"Select streaming\",\n            trigger: '.oe_product_cart:first a:contains(\"Streaming SUB Weekly\")',\n        },\n        {\n            content: \"Add one quantity\",\n            trigger: '.css_quantity a.js_add_cart_json i.fa-plus',\n        },\n        {\n            content: \"click on add to cart\",\n            trigger: '#product_detail form[action^=\"/shop/cart/update\"] #add_to_cart',\n        },\n        {\n            content: \"See added t o cart + try to add other recurrence\",\n            trigger: '.my_cart_quantity:contains(\"2\")',\n            run: function () {\n                window.location.href = '/shop';\n            },\n        },\n        {\n            content: \"Search streaming monthly write text\",\n            trigger: 'form input[name=\"search\"]',\n            run: \"text Streaming SUB month\",\n        },\n        {\n            content: \"Search streaming monthly click\",\n            trigger: 'form:has(input[name=\"search\"]) .oe_search_button',\n        },\n        {\n            content: \"Select streaming monthly\",\n            trigger: '.oe_product_cart:first a:contains(\"Streaming SUB Monthly\")',\n        },\n        {\n            content: \"Check that we cannot add streaming monthly\",\n            trigger: '#product_detail p:contains(\"This product pricing is not compatible with the product(s) in your cart.\")',\n            run: function () {}, // it's a check\n        },\n        {\n            content: \"go to cart\",\n            trigger: '.my_cart_quantity:contains(\"2\")',\n            run: function () {\n                window.location.href = '/shop/cart';\n            },\n        },\n    ]\n});\n", "/** @odoo-module **/\n\nimport { registry } from \"@web/core/registry\";\nimport { stepUtils } from \"@web_tour/tour_service/tour_utils\";\n\nregistry.category(\"web_tour.tours\").add('website_appointment_tour', {\n    test: true,\n    url: '/web',\n    steps: () => [\n    stepUtils.showAppsMenuItem(),\n    {\n        trigger: '.o_app[data-menu-xmlid=\"calendar.mail_menu_calendar\"]',\n        content: 'click on calendar app',\n    }, {\n        trigger: 'a[data-menu-xmlid=\"appointment.appointment_type_menu\"]',\n        content: 'click on Appointment',\n    }, {\n        trigger: '.o-kanban-button-new',\n        content: 'click on Create button',\n    }, {\n        trigger: 'input[name=\"name\"]',\n        content: 'set name of appointment type',\n    }, {\n        trigger: 'input[name=\"max_schedule_days\"]',\n        content: 'set max scheduled days',\n        run: 'text 45',\n    }, {\n        trigger: 'div[name=\"staff_user_ids\"] a',\n        content: 'add users to the appointment_type',\n    }, {\n        trigger: '.o_list_record_selector',\n        content: 'select users',\n    }, {\n        trigger: '.o_select_button',\n        content: 'save new users for the appointment type',\n    }, {\n        trigger: 'a:contains(\"Availability\")',\n        content: 'go to slots tab',\n    }, {\n        trigger: 'div[name=\"slot_ids\"] a',\n        content: 'click on add a line',\n    }, {\n        trigger: '.o_form_button_save',\n        content: 'save appointment type',\n    }, {\n        trigger: 'button[name=\"is_published\"]',\n        extra_trigger: 'button.o_form_button_create',\n        content: 'go to the frontend',\n    }, {\n        trigger: 'iframe td.o_day:first',\n        content: 'click on first date available',\n    }, {\n        trigger: 'iframe .o_slots_list a:first',\n        content: 'click on first slot available',\n    }, {\n        trigger: 'iframe input[id=\"phone_field\"]',\n        content: 'fill tel field',\n        run: 'text 0123456789'\n    }, {\n        trigger: 'iframe button[type=\"submit\"]',\n        content: 'confirm appointment',\n        run: 'click',\n    }, {\n        trigger: 'iframe a:contains(\"Cancel\") i',\n        content: 'cancel appointment',\n        run: 'click',\n    }, {\n        trigger: '.o_website_edit_in_backend > a',\n        content: 'return in backend',\n        run: 'click',\n    }, {\n        trigger: 'button.dropdown-toggle',\n        content: 'click on Action dropdown',\n        run: 'click',\n    }, {\n        trigger: 'a:contains(\"Delete\")',\n        content: 'delete appointment type',\n        run: 'click',\n    }, {\n        trigger: 'button.btn-primary:contains(\"Ok\")',\n        content: 'confirm delete',\n        run: 'click',\n    }\n]});\n", "window.__odooIgnoreMissingDependencies = false;\n"], "file": "/web/assets/1600-7c80f98/web.__assets_tests_call__.js", "sourceRoot": "../../../"}